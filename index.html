<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta property="og:title" content="„É¢„Éé„ÅÆÂãï„Åç„Ç∑„Éü„É•„É¨„Éº„Çø" />
    <meta property="og:url" content="https://teramotodaiki.github.io/matterjs-on-feeles/" />
    <meta property="og:description" content="È£õ„Å∞„Åó„Åü„Çä „Å∂„Å§„Åë„Åü„Çä Âõû„Åó„Åü„Çä „Å§„Å™„Åí„Åü„Çä‚Ä¶‚Ä¶Áâ©ÁêÜ„ÅÆ‰∏ñÁïå„Çí„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„Åß‰ΩìÈ®ì„Åó„Çà„ÅÜÔºÅ" />
    <meta property="og:image" content="https://embed.hackforplay.xyz/open-source/ogp/matter-ogp-image.png" />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:site" content="@teramotodaiki" />
    <meta property="twitter:title" content="„É¢„Éé„ÅÆÂãï„Åç„Ç∑„Éü„É•„É¨„Éº„Çø" />
    <meta property="twitter:description" content="È£õ„Å∞„Åó„Åü„Çä „Å∂„Å§„Åë„Åü„Çä Âõû„Åó„Åü„Çä „Å§„Å™„Åí„Åü„Çä‚Ä¶‚Ä¶Áâ©ÁêÜ„ÅÆ‰∏ñÁïå„Çí„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„Åß‰ΩìÈ®ì„Åó„Çà„ÅÜÔºÅ" />
    <meta property="twitter:image" content="https://embed.hackforplay.xyz/open-source/ogp/matter-ogp-image.png" />
    <title>„É¢„Éé„ÅÆÂãï„Åç„Ç∑„Éü„É•„É¨„Éº„Çø</title>
    <style media="screen">
    body {
        margin: 0;
        padding: 0;
    }
    .h4p__app {
        padding: 0;
        margin: 0;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
    }
    </style>

    <script async src="https://embed.hackforplay.xyz/open-source/core/h4p-beta-4a.js" onload="h4p()"></script>

  </head>
  <body>
    <!-- Config of the app -->
    <div class="h4p__app" data-target=".download_content"></div>

<!-- File as a <script> -->
<script
  class="download_content"
  name=".babelrc"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
{
  "presets": ["es2015", "stage-3"],
  "plugins": ["transform-class-properties"]
}

--></script>
<script
  class="download_content"
  name=".env"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
{
    "DEBUG": [
        true,
        "boolean",
        "A flag means test mode"
    ],
    "TITLE": [
        "MatterJSSample",
        "string",
        "A name of this app"
    ]
}







--></script>
<script
  class="download_content"
  name=".palette"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="1486445273343"
  is-trashed
  
  type="hack"
><!--
{
    "canvasColor": "rgba(255, 255, 255, 1)",
    "primary1Color": "rgba(171, 184, 195, 1)",
    "accent1Color": "#7BDCB5",
    "backgroundColor": "rgba(167, 255, 235, 0.15)"
}
--></script>
<script
  class="download_content"
  name="README.md"
  data-type="text/x-markdown"
  data-credits="[{&quot;label&quot;:&quot;(c) 2017 Teramoto Daiki&quot;,&quot;url&quot;:&quot;https://twitter.com/teramotodaiki&quot;,&quot;timestamp&quot;:1483434138953,&quot;hash&quot;:&quot;dd0cf39a694c4090b425f678804e424a&quot;}]"
  data-last-modified="1486475390886"
  
  
  type="hack"
><!--
# „É¢„Éé„ÅÆÂãï„Åç„Ç∑„Éü„É•„É¨„Éº„Çø üöÇüí®


## ‰Ωï„Åå„Åß„Åç„Çã„ÅÆÔºü

Á©∫Èñì„Å´Áâ©„Çí„Åä„ÅÑ„Åü„Çä„ÄÅÂãï„Åã„Åó„Åü„Çä„ÄÅ„Å∂„Å§„Åë„Åü„Çä„ÄÅ„Åè„Å£„Å§„Åë„Åü„Çä‚Ä¶‚Ä¶  
„Å™„Å©„Å™„Å©„ÄÅËâ≤„Çì„Å™„Åì„Å®„Çí„Ç´„É≥„Çø„É≥„Å´Ë©¶„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„Åô


## ‰Ωø„Å£„Å¶„Åø„Çà„ÅÜ

Âè≥„ÅÆ„É°„Éã„É•„Éº„Åã„Çâ„ÄÅ„Åø„Å¶„Åø„Åü„ÅÑ„ÇÇ„ÅÆ„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Å≠  
Ë©¶„Åó„Å¶„Åø„Åü„ÅÑ„Åì„Å®„Åå„ÅÇ„Çå„Å∞„ÄÅ„Å©„Çì„Å©„Çì **ÊîπÈÄ†** „Åó„Å¶„Åø„Çà„ÅÜÔºÅ

- - -
## ÂÖàÁîü„Éª„É°„É≥„Çø„Éº„ÅÆÊñπ„Å∏

„Åì„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Çø„ÅØ Liam Brummitt Ê∞è„ÅåÈñãÁô∫„Åó„Åü  
Matter.js „Å®„ÅÑ„ÅÜ„É©„Ç§„Éñ„É©„É™„ÅßÂãï„ÅÑ„Å¶„ÅÑ„Åæ„Åô
> „Éû„Çø„Éº „Éâ„ÉÉ„Éà „Ç∏„Çß„Éº„Ç®„Çπ  
Matter.js

### „ÇÇ„Å£„Å®Ë©≥„Åó„ÅèÁü•„Çä„Åü„ÅÑ‰∫∫„ÅØ

- [ÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„Éà](http://brm.io/matter-js/docs/)„ÄÄ**Ëã±Ë™û„ÅÆ„Åø**  
Matter.js „ÅÆÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„Éà„ÄÇÂÖ®ÈÉ®Ëºâ„Å£„Å¶„ÅÑ„Çã

- ![„É¨„É≥„ÉÄ„É©„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥](render.js)„ÄÄ**‰∏äÁ¥öËÄÖÂêë„Åë**  
ÂÖ®„Å¶„ÅÆ„Çµ„É≥„Éó„É´„ÅÆË¶ã„ÅüÁõÆ„Å´Èñ¢„Åô„ÇãÁ¥∞„Åã„ÅÑË®≠ÂÆö„ÇíË°å„ÅÜ

- ![„Ç®„É≥„Ç∏„É≥„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥](engine.js)„ÄÄ**‰∏äÁ¥öËÄÖÂêë„Åë**  
ÂÖ®„Å¶„ÅÆ„Çµ„É≥„Éó„É´„ÅÆË®àÁÆóÂá¶ÁêÜ„Å´Èñ¢„Åô„ÇãÁ¥∞„Åã„ÅÑË®≠ÂÆö„ÇíË°å„ÅÜ

- ![Matter.js](matter.js)„ÄÄ**Ë∂Ö‰∏äÁ¥öËÄÖÂêë„Åë**  
Matter.js „ÅÆÊú¨‰Ωì„ÄÇ„Éê„Éº„Ç∏„Éß„É≥ 0.11.1-alpha „ÅÆ„Ç™„Éº„É´„Ç§„É≥„ÉØ„É≥ „Éì„É´„Éâ.  
`decomp` „ÅÆ‰æùÂ≠òËß£Ê±∫„ÅÆ„Åø„ÄÅ„Éì„É´„ÉâÂæå„Å´ËøΩË®ò„Åó„Å¶„ÅÑ„Åæ„Åô


## Âéü‰ΩúËÄÖ

[Liam Brummitt](http://brm.io/)

[Matter.js „ÅÆ GitHub](https://github.com/liabru/matter-js)


--></script>
<script
  class="download_content"
  name="airFriction/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486692911681"
  
  
  type="hack"
><!--
# Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ
> „Åè„ÅÜ„Åç-„Å¶„ÅÑ„Åì„ÅÜ  
Á©∫Ê∞óÊäµÊäó

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ [Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ](https://ja.wikipedia.org/wiki/%E6%8A%97%E5%8A%9B)
„ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](airFriction/main.js)


|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ 
--- | --- | --- 
frictionAir | „Å¶„ÅÑ„Åì„ÅÜ„ÅÆÂ§ß„Åç„Åï | 0 ~ 1.0

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](airFriction/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](airFriction/stage.js)

- - -

## ÂøúÁî®‰æã

[„É¢„É≥„Ç±„Éº„É≥](wreckingBall/index.html)


--></script>
<script
  class="download_content"
  name="airFriction/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Á©∫Ê∞óÊäµÊäó</title>
		<link rel="stylesheet" href="style.css" />
		<script src="airFriction/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="airFriction/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830832,&quot;hash&quot;:&quot;d460e266765780371f6f457c142c743e&quot;}]"
  data-last-modified="1486555216451"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting.js';

World.add(world, [
	// Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 100, 60, 60, {
		// Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ
		frictionAir: 0.001,
		
	}),
	// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 100, 60, 60, {
		// Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ
		frictionAir: 0.05,
		
	}),
	// Âè≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(600, 100, 60, 60, {
		// Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ
		frictionAir: 0.1,
		
	}),
	
]);


import './stage.js';

--></script>
<script
  class="download_content"
  name="airFriction/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486460550385"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showVelocity = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('airFriction/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="airFriction/settings.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486516335984"
  is-trashed
  
  type="hack"
><!--































--></script>
<script
  class="download_content"
  name="airFriction/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486460572910"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

--></script>
<script
  class="download_content"
  name="angle/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486545157676"
  
  
  type="hack"
><!--
# „Åã„Åü„ÇÄ„Åç

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ *„Åã„Åü„ÇÄ„Åç* „ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](angle/main.js)


|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ 
--- | --- | --- 
angle | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ **„É©„Ç∏„Ç¢„É≥Ëßí** | „Å™„Åó

### „É©„Ç∏„Ç¢„É≥Ëßí„ÅÆË°®

„Çà„Åè‰Ωø„ÅÜËßíÂ∫¶ | „É©„Ç∏„Ç¢„É≥Ëßí
---  | --- 
0¬∞   | 0 
45¬∞  | 0.785
90¬∞  | 1.57
135¬∞ | 2.36
180¬∞ | 3.14
225¬∞ | 3.93
270¬∞ | 4.71
315¬∞ | 5.50
360¬∞ | 6.28
> Â∞ëÊï∞‰ª•‰∏ã„ÅØ **ÁÑ°Èôê„Å´** Á∂ö„Åç„Åæ„Åô

[„É©„Ç∏„Ç¢„É≥„Å£„Å¶Ôºü](https://ja.wikipedia.org/wiki/%E3%83%A9%E3%82%B8%E3%82%A2%E3%83%B3)

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](angle/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](angle/stage.js)

- - -

## ÂøúÁî®‰æã

--></script>
<script
  class="download_content"
  name="angle/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486543847789"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Åã„Åü„ÇÄ„Åç</title>
		<link rel="stylesheet" href="style.css" />
		<script src="angle/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="angle/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486545419172"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('angle/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="angle/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486545424273"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

--></script>
<script
  class="download_content"
  name="attractors/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486429894927"
  
  
  type="hack"
><!--
# ‰∏áÊúâÂºïÂäõ


Ë≥™Èáè„ÅÆ„ÅÇ„Çã‰∏ñÁïå„Åß„ÅØ„ÄÅ„Åô„Åπ„Å¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅØ‰∫í„ÅÑ„Å´Âº±„ÅÑÂäõ„Åß‰∫í„ÅÑ„Å´Âºï„Åç‰ªò„ÅëÂêà„Å£„Å¶„ÅÑ„Çã„Çà  
„Åì„ÅÆÂäõ„Çí **‰∏áÊúâÂºïÂäõÔºà„Å∞„Çì„ÇÜ„ÅÜ„ÅÑ„Çì„Çä„Çá„ÅèÔºâ** „Å®Âëº„Å∂„Çì„Å†„ÄÇ  
„Éã„É•„Éº„Éà„É≥„ÅåÁô∫Ë¶ã„Åó„Åü„Å®„Åó„Å¶ÊúâÂêç„Å†„Çà„Å≠ÔºÅ  
„Å°„Å™„Åø„Å´„ÄÅÈáçÂäõ„ÇÇ‰∏áÊúâÂºïÂäõ„ÅÆ„Å≤„Å®„Å§„Åß„ÄÅÂú∞ÁêÉ„Å´Âºï„Åç‰ªò„Åë„Çâ„Çå„Å¶„ÅÑ„ÇãÂäõ„ÅÆ„Åì„Å®„Å†„Çà  

„Åù„ÅÆ‰∏áÊúâÂºïÂäõ„Çí„ÄÅ„ÅÜ„Çì„Å®Âº∑„Åè„Åó„Å¶„Åø„Åü„Çâ„ÄÅ„Åì„Çì„Å™ÊÑü„Åò„Å´„Å™„Çã„Åø„Åü„ÅÑ„Å†„Çà


## „Éë„É©„É°„Éº„Çø
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
G | ‰∏áÊúâÂºïÂäõÂÆöÊï∞ | *m^3 kg^-1 s^-2* | 0 | Infinity 
mass | Ë≥™Èáè | *kg* | 0 | Infinity 
frictionAir | ÊäµÊäó„ÅÆÂ§ß„Åç„Åï | ÂÄç | 0 | 1.0 
isStatic | ÈùôÊ≠¢„Åô„Çã„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 


## ![ÊîπÈÄ†„Åô„Çã](attractors/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="attractors/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>‰∏áÊúâÂºïÂäõ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="attractors/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="attractors/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830832,&quot;hash&quot;:&quot;93221e8a0f5aaefc230423652b4b8790&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import Matter, {
	Engine,
	Render,
	Runner,
	Body,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';

import 'plugins/attractorsPlugin.js';
import 'plugins/gravityPlugin.js';
import 'plugins/wrapPlugin.js';

Matter.use(
	'matter-gravity',
	'matter-wrap'
);

import engine from 'engine';
engine.timing.timeScale = 1.5;
	
const world = engine.world;
world.gravity.scale = 0;
	
import render from 'render';
Render.run(render);

// create runner
const runner = Runner.create();
Runner.run(runner, engine);
	

const G = 0.001;
const speed = 5;

	
for (const _ of [...Array(150)]) {
	const radius = Common.random(6, 10);

	const body = Bodies.circle(
		Common.random(10, render.options.width),
		Common.random(10, render.options.height),
		radius, {
			mass: Common.random(10, 15),
			frictionAir: 0,
			plugin: {
				gravity: G,
				wrap: {
					min: {
						x: 0,
						y: 0
					},
					max: {
						x: render.options.width,
						y: render.options.height
					}
				}
			}
		}
	);

	Body.setVelocity(body, {
		x: Common.random(-speed, speed),
		y: Common.random(-speed, speed)
	});

	World.add(world, body);
}

// add mouse control
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;

	
feeles.openReadme('attractors/README.md');

--></script>
<script
  class="download_content"
  name="avalanche/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486430491244"
  
  
  type="hack"
><!--
# ÂùÇÈÅì

ÂÇæ„ÅÑ„ÅüÈÅì„Çí‰Ωú„Çã„Å´„ÅØ `angle` „ÅÆ‰∏≠„Å´ËßíÂ∫¶„ÇíÂÖ•„Çå„Çã„Çà  
„Åì„Åì„Åß„ÅØ **„É©„Ç∏„Ç¢„É≥** „Å®Âëº„Å∞„Çå„Çã„ÄÅÊï∞Â≠¶„Åß„Çà„Åè‰Ωø„Çè„Çå„ÇãËßíÂ∫¶„Çí‰Ωø„Å£„Å¶„Åø„Çà„ÅÜ

„Åµ„Å§„ÅÜËßíÂ∫¶„ÅØ `0` „Åã„ÇâÂßã„Åæ„Å£„Å¶„ÄÅÂèçÂØæÂêë„Åç„Åå `180` „Å†„Çà„Å≠Ôºü  
„Åù„Çå„Çí„ÄÅ `0` „Åã„ÇâÂßã„ÇÅ„Å¶ÂèçÂØæ„Çí `œÄ`, „Å§„Åæ„Çä `3.14‚Ä¶` „Å´„Åó„Åü„ÅÆ„Åå„ÄÅ  
„É©„Ç∏„Ç¢„É≥Ëßí„Å®Âëº„Å∞„Çå„ÇãËßíÂ∫¶„Å™„Çì„Å†


## „Éë„É©„É°„Éº„Çø
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
friction | „Åæ„Åï„Å§‰øÇÊï∞ | ÂÄç | 0 | 1
restitution | ÂèçÁô∫‰øÇÊï∞ | ÂÄç | 0 | 1
density | ÂØÜÂ∫¶ | *kg m^-2* | 0 | Infinity
angle | ËßíÂ∫¶ | *rad* | -Math.PI | Math.PI
isStatic | ÈùôÊ≠¢„Åô„Çã„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 


## ![ÊîπÈÄ†„Åô„Çã](avalanche/main.js)


## Â§âÊèõË°®

„Åµ„Å§„ÅÜ„ÅÆËßíÂ∫¶ | „É©„Ç∏„Ç¢„É≥Ëßí
--- | --- 
0 | 0 
45 | Math.PI * 0.25
90 | Math.PI * 0.5
180 | Math.PI
270 | Math.PI * 1.5
360 | Math.PI * 2
-180 | -Math.PI


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="avalanche/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÂùÇÈÅì</title>
		<link rel="stylesheet" href="style.css" />
		<script src="avalanche/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="avalanche/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830834,&quot;hash&quot;:&quot;3deb7c0f543bfa74e98ec7b21310d667&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	use,
	Engine,
	Render,
	Runner,
	Composite,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';

import 'plugins/wrapPlugin';

use(
	'matter-wrap'
);


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// Ëª¢„Åå„Å£„Å¶„ÅÑ„Çã„Éú„Éº„É´
const stack = Composites.stack(20, 20, 20, 5, 0, 0, (x, y)„ÄÄ => {
	return Bodies.circle(x, y, Common.random(10, 20), {
		friction: 0.00001,
		restitution: 0.5,
		density: 0.001
	});
});

World.add(world, stack);

World.add(world, [
	// ÂùÇÈÅì
	Bodies.rectangle(200, 150, 700, 20, {
		isStatic: true,
		angle: Math.PI * 0.06
	}),
	Bodies.rectangle(500, 350, 700, 20, {
		isStatic: true,
		angle: -Math.PI * 0.06
	}),
	Bodies.rectangle(340, 580, 700, 20, {
		isStatic: true,
		angle: Math.PI * 0.04
	})
]);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

render.mouse = mouse;


// ÁîªÈù¢Á´Ø„Åã„ÇâÂèçÂØæ„ÅÆÁ´Ø„Å∏ÁßªÂãï„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥„ÅÆË®≠ÂÆö
for (const body of stack.bodies) {
	body.plugin = body.plugin || {};
	body.plugin.wrap = {
		min: {
			x: render.bounds.min.x,
			y: render.bounds.min.y
		},
		max: {
			x: render.bounds.max.x,
			y: render.bounds.max.y
		}
	};
}


feeles.openReadme('avalanche/README.md');

--></script>
<script
  class="download_content"
  name="ballPool/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486429078659"
  
  
  type="hack"
><!--
# „Éú„Éº„É´„Éó„Éº„É´

`matter-wrap` „Éó„É©„Ç∞„Ç§„É≥„Çí‰Ωø„ÅÜ„Å®„ÄÅÁîªÈù¢Á´Ø„Åã„ÇâÂá∫„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå  
ÂèçÂØæ„ÅÆÁ´Ø„Åã„ÇâÂá∫„Å¶„Åè„Çã„Çà„ÅÜ„Å´„Åß„Åç„Çã„Çà  

## „Éë„É©„É°„Éº„Çø
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
restitution | ÂèçÁô∫‰øÇÊï∞ | ÂÄç | 0 | 1
friction | „Åæ„Åï„Å§‰øÇÊï∞ | ÂÄç | 0 | 1
isStatic | ÈùôÊ≠¢„Åô„Çã„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 

## ![ÊîπÈÄ†„Åô„Çã](ballPool/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="ballPool/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Éú„Éº„É´„Éó„Éº„É´</title>
		<link rel="stylesheet" href="style.css" />
		<script src="ballPool/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="ballPool/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;b99a1c53e8fb8ac63a59f3c81929e1c5&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	use,
	Engine,
	Render,
	Runner,
	Composite,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';

import 'plugins/wrapPlugin';

use(
	'matter-wrap'
);

import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

// create runner
const runner = Runner.create();
Runner.run(runner, engine);

// Â∫ä
World.add(world, [
	Bodies.rectangle(400, 600, 1200, 50.5, {
		isStatic: true
	})
]);

// ‰∏∏„Åü„Å°
const stack = Composites.stack(100, 0, 10, 8, 10, 10, (x, y) => {
	return Bodies.circle(x, y, Common.random(15, 30), {
		restitution: 0.6,
		friction: 0.1
	});
});

World.add(world, [
	stack,
	// 	‰∏âËßíÂΩ¢
	Bodies.polygon(200, 460, 3, 60),
	// 	‰∫îËßíÂΩ¢
	Bodies.polygon(400, 460, 5, 60),
	// 	Ê≠£ÊñπÂΩ¢
	Bodies.rectangle(600, 460, 80, 80)
]);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


// ÁîªÈù¢Á´Ø„Åã„ÇâÂèçÂØæ„ÅÆÁ´Ø„Å´ÁßªÂãï„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥„ÅÆË®≠ÂÆö
const allBodies = Composite.allBodies(world);

for (const body of allBodies) {
	body.plugin = {
		wrap: {
			min: {
				x: render.bounds.min.x - 100,
				y: render.bounds.min.y
			},
			max: {
				x: render.bounds.max.x + 100,
				y: render.bounds.max.y
			}
		}
	};
}


feeles.openReadme('ballPool/README.md');

--></script>
<script
  class="download_content"
  name="bridge/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486699342986"
  
  
  type="hack"
><!--
# „Éñ„É™„ÉÉ„Ç∏
  
Ê©ã‰Ωú„Å£„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## „Å©„ÅÜ„ÇÑ„Å£„Å¶‰Ωú„Å£„Å¶„Çã„ÅÆÔºü

„Åì„Çå„Çâ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„ÅÑ„Çã„Çà  
> „ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„Çµ„É≥„Éó„É´„Å´ÁßªÂãï„Åó„Åæ„Åô

Ê©ã„Çí‰Ωú„Çã„Å´„ÅØ‚Ä¶[„Éê„Éç](constraint/index.html) „Å® [„É≠„Éº„Éó](chains/index.html)  

## ÊîπÈÄ†„Å´ÊåëÊà¶„Åó„Å¶„Åø„Çã

![Ê©ã„Çí‰Ωú„Çã](bridge/main.js)  
![„Çπ„ÉÜ„Éº„Ç∏](bridge/stage.js)  
![Ë®≠ÂÆö](bridge/setting.js)


--></script>
<script
  class="download_content"
  name="bridge/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Éñ„É™„ÉÉ„Ç∏</title>
		<link rel="stylesheet" href="style.css" />
		<script src="bridge/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="bridge/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;cb1c7795dadf02cbac056f13d28a3ab9&quot;}]"
  data-last-modified="1486698855158"
  
  
  type="hack"
><!--
import {
	Body,
	Composites,
	Constraint,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// Ê©ã„ÅÆ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂêåÂ£´„Åå„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç∞„É´„Éº„Éó
const group1 = Body.nextGroup(true);

// Ê©ã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const bridge = Composites.stack(150, 300, 9, 1, 10, 10, (x, y) => {
	return Bodies.rectangle(x, y, 50, 20, {
		collisionFilter: {
			group: group1,
		},
		
	});
});

// Ê©ã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„ÉÅ„Çß„Éº„É≥„Åß„Å§„Å™„Åê
Composites.chain(bridge, 0.5, 0, -0.5, 0, {
	// „Éê„Éç„ÅÆÂº∑„Åï
	stiffness: 0.9,
	
});



World.add(world, [
	// Ê©ã„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
	bridge,
	
	// 	Â∑¶ÂÅ¥„ÇíÂõ∫ÂÆö„Åô„Çã
	Constraint.create({
		// Âõ∫ÂÆö„Åô„ÇãÁÇπ
		pointA: {
			x: 140,
			y: 300
		},
		// Ê©ã„ÅÆ‰∏ÄÁï™Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
		bodyB: bridge.bodies[0],
		// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂ∑¶Á´Ø„ÇíÂõ∫ÂÆö
		pointB: {
			x: -25,
			y: 0
		},
		
	}),
	
	// 	Âè≥ÂÅ¥„ÇíÂõ∫ÂÆö„Åô„Çã
	Constraint.create({
		// Âõ∫ÂÆö„Åô„ÇãÁÇπ
		pointA: {
			x: 660,
			y: 300
		},
		// Ê©ã„ÅÆ‰∏ÄÁï™Âè≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
		bodyB: bridge.bodies[8],
		// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂè≥Á´Ø„ÇíÂõ∫ÂÆö
		pointB: {
			x: 25,
			y: 0
		},
		
	}),
	
]);



import './stage';

--></script>
<script
  class="download_content"
  name="bridge/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486698732115"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);
render.options.background = '#aaaaaa';

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('bridge/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="bridge/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486693849398"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
	Common,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// 	Â∑¶„ÅÆÂ§ß„Åç„Å™ÂõõËßí
	Bodies.rectangle(80, 440, 120, 280, {
		isStatic: true,
	}),

	// 	Âè≥„ÅÆÂ§ß„Åç„Å™ÂõõËßí
	Bodies.rectangle(720, 440, 120, 280, {
		isStatic: true,
	}),

	// ‰∏ä„Å´‰πó„Å£„Å¶„ÅÑ„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
	Composites.stack(200, 40, 6, 3, 0, 0, (x, y) => {
		return Bodies.polygon(x, y, Math.round(Common.random(1, 8)), Common.random(20, 40));
	}),

]);
--></script>
<script
  class="download_content"
  name="broadphase/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486429062587"
  
  
  type="hack"
><!--
# „Éñ„É≠„Éº„Éâ„Éï„Çß„Éº„Ç∫


Matter.js „Å´„ÅØ„ÄÅÈ´òÈÄüÂåñ„ÅÆ„Åü„ÇÅ„Å´ **„Éñ„É≠„Éº„Éâ„Éï„Çß„Éº„Ç∫** „ÅåÂà©Áî®„Åï„Çå„Å¶„ÅÑ„Çã„Çì„Å†  
„Åù„Çå„ÇíÁõÆ„ÅßË¶ã„Åà„Çã„Çà„ÅÜ„Å´„Åó„Åü„ÅÆ„Åå„ÄÅÈªÑËâ≤„ÅÑÊû†„Å†„Çà

## „Éñ„É≠„Éº„Éâ„Éï„Çß„Éº„Ç∫„Å£„Å¶Ôºü

„ÅÇ„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å®Âà•„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅåÈáç„Å™„Å£„Å¶„ÅÑ„Çã„ÅãÔºà„Å∂„Å§„Åã„Å£„Åü„ÅãÔºâ„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØ„ÄÅ  
Âãï„Åç„ÇíË®àÁÆó„Åô„Çã‰∏ä„Åß„ÄÅ„Åã„Åã„Åõ„Å™„ÅÑÊÉÖÂ†±„Å†„Çà„Å≠

„Åß„ÇÇ„ÄÅÁîªÈù¢‰∏ä„Å´„ÅÇ„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Å≤„Å®„Å§„Å≤„Å®„Å§Ë®àÁÆó„Åó„Å¶„ÅÑ„Çã„Å®„ÄÅ  
„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå 10 ÂÄã„Å™„Çâ„ÄÅ„Åä„Çà„Åù 100 Âõû.  
„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå 100 ÂÄã„Å™„Çâ„ÄÅ„Åä„Çà„Åù 10000 Âõû.  
„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå 1000 ÂÄã„Å™„Çâ„ÄÅ„Åä„Çà„Åù 1000000 Âõû...  
„Å®„ÄÅ„Å®„Å£„Å¶„ÇÇ„Åü„Åè„Åï„Çì„ÅÆ„Éë„Çø„Éº„É≥„ÇíË®àÁÆó„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Çì„Å†

„Åù„Åì„Åß„ÄÅ **Áµ∂ÂØæ„Å´„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„Åè„Çâ„ÅÑ„Å´Èõ¢„Çå„Å¶„ÅÑ„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂêåÂ£´„ÅØ„ÄÅË®àÁÆó„ÇíÁúÅÁï•„Åô„Çã** „Çà  
Êú¨Êù•„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅØÂ§öËßíÂΩ¢Ôºà‰∏âËßí„ÄÅÂõõËßí„ÄÅ‰∫îËßí‚Ä¶‚Ä¶Ôºâ„Å†„Åë„Å©„ÄÅ  
„Åù„Çå„Çâ„Çí **„Åä„Åä„Åñ„Å£„Å±„Å™ÂΩ¢** ÔºàÈï∑ÊñπÂΩ¢„Å´„Åô„Çã„Åì„Å®„ÅåÂ§ö„ÅÑÔºâ„Å´„Åó„Å¶„Åã„Çâ„ÄÅË®àÁÆó„Åô„Çã„Çì„Å†  
„Åì„ÅÆÂΩ¢„ÅØÂøÖ„Åö **ÂÖÉ„ÅÆÂΩ¢„Çà„ÇäÂ§ß„Åç„Åè„Å™„Åè„Å°„ÇÉ„ÅÑ„Åë„Å™„ÅÑ** „Çà„ÄÇ  
„Éõ„É≥„Éà„ÅØÈáç„Å™„Å£„Å¶„Çã„ÅÆ„Å´„ÄÅÂΩ¢„ÅåÂ§â„Çè„Å£„Åü„Åõ„ÅÑ„ÅßÈõ¢„Çå„Åü„Çâ„ÅÑ„Åë„Å™„ÅÑ„Åã„Çâ„Å≠
> „Åì„ÅÆÈÉ®ÂàÜ„ÅÆË®àÁÆó„Çí„Äå„Éñ„É≠„Éº„Éâ„Éï„Çß„Éº„Ç∫„Äç„Å®Âëº„Å∂„Çàüåü

„Éñ„É≠„Éº„Éâ„Éï„Çß„Éº„Ç∫„ÅåÁµÇ„Çè„Å£„Åü„Çâ„ÄÅ„ÄåÈáç„Å™„Å£„Å¶„Çã„Åã„ÇÇÁü•„Çå„Å™„ÅÑ„Äç„ÇÇ„ÅÆ„Å†„Åë„ÇíÈõÜ„ÇÅ„Å¶„ÄÅ  
„Å°„ÇÉ„Çì„Å®„Åó„ÅüË®àÁÆó„ÇíË°å„ÅÜ„Çà
> „Åì„ÅÆÈÉ®ÂàÜ„ÅÆË®àÁÆó„Çí„Äå„Éä„É≠„Éº„Éï„Çß„Éº„Ç∫„Äç„Å®Âëº„Å∂„Çàüåä


## ![ÊîπÈÄ†„Åô„Çã](broadphase/main.js)


## „Éë„É©„É°„Éº„Çø
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
isStatic | ÈùôÊ≠¢„Åô„Çã„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="broadphase/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Éñ„É≠„Éº„Éâ„Éï„Çß„Éº„Ç∫</title>
		<link rel="stylesheet" href="style.css" />
		<script src="broadphase/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="broadphase/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;aebf2e8b2a4f396dc00f91e0808ca227&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showBroadphase = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const stack = Composites.stack(20, 20, 12, 5, 0, 0, (x, y) => {
	switch (Math.round(Common.random(0, 1))) {

		case 0:
			if (Common.random() < 0.8) {
				return Bodies.rectangle(x, y, Common.random(20, 50), Common.random(20, 50));
			} else {
				return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30));
			}
			break;
		case 1:
			return Bodies.polygon(x, y, Math.round(Common.random(1, 8)), Common.random(20, 50));

	}
});

World.add(world, stack);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('broadphase/README.md');

--></script>
<script
  class="download_content"
  name="car/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486628273013"
  
  
  type="hack"
><!--
# Ëªä

Ëªä„Åì„Çç„Åå„Åó„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)

## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](car/main.js)

Composites.car(`1`, `2`, `3`, `4`, `5`)
| | ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | Â∑¶„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
2 | ‰∏ä„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 600 
3 | Ëªä„ÅÆÊ®™ÂπÖ | 0 ~  
4 | Ëªä„ÅÆÈ´ò„Åï | 0 ~  
5 | „Çø„Ç§„É§„ÅÆÂ§ß„Åç„Åï | 0 ~  

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](car/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](car/stage.js)


--></script>
<script
  class="download_content"
  name="car/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ëªä</title>
		<link rel="stylesheet" href="style.css" />
		<script src="car/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="car/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;e83b84ed0e9c90529287765030449b6b&quot;}]"
  data-last-modified="1486628111201"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';

World.add(world, [

	// Ëªä
	Composites.car(150, 100, 100, 40, 30),

]);










import './stage';
--></script>
<script
  class="download_content"
  name="car/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486627850580"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
render.options.showCollisions = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);



// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('car/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="car/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486627969360"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// 	Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
	// 	ÂùÇÈÅì
	Bodies.rectangle(200, 150, 400, 20, {
		isStatic: true,
		angle: Math.PI * 0.06,
	}),
	Bodies.rectangle(550, 350, 650, 20, {
		isStatic: true,
		angle: -Math.PI * 0.06,
	}),
	Bodies.rectangle(300, 560, 600, 20, {
		isStatic: true,
		angle: Math.PI * 0.04,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="catapult/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486701128545"
  
  
  type="hack"
><!--
# Áô∫Â∞ÑÂè∞

„Åµ„Å£„Å®„Å∞„Åó„Å¶„ÇÑ„Å£„Åü„Åúüí•

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## „Å©„ÅÜ„ÇÑ„Å£„Å¶‰Ωú„Å£„Å¶„Çã„ÅÆÔºü

„Åì„Çå„Çâ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„ÅÑ„Çã„Çà  
> „ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„Çµ„É≥„Éó„É´„Å´ÁßªÂãï„Åó„Åæ„Åô

Èáç„Åï„ÇíÂ§â„Åà„Çã„Å´„ÅØ‚Ä¶[„Åä„ÇÇ„Åï](density/index.html)  
„Ç∑„Éº„ÇΩ„Éº„Çí‰Ωú„Çã„Å´„ÅØ‚Ä¶[„Éê„Éç](constraint/index.html)  
„Çπ„Éà„ÉÉ„Éë„Éº„Çí‰Ωú„Çã„Å´„ÅØ‚Ä¶[„Åã„Åπ„Éª„ÇÜ„Åã](isStatic/index.html)  

## ÊîπÈÄ†„Å´ÊåëÊà¶„Åó„Å¶„Åø„Çã

![Áô∫Â∞ÑÂè∞„Çí‰Ωú„Çã](catapult/main.js)  
![„Çπ„ÉÜ„Éº„Ç∏](catapult/stage.js)  
![Ë®≠ÂÆö](catapult/setting.js)


--></script>
<script
  class="download_content"
  name="catapult/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Áô∫Â∞ÑÂè∞</title>
		<link rel="stylesheet" href="style.css" />
		<script src="catapult/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="catapult/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;76cbd514a07fc3b674f07edda75056f1&quot;}]"
  data-last-modified="1486716792366"
  
  
  type="hack"
><!--
import {
	Composites,
	Constraint,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// Âè∞„Çí„Å§„Åè„Çã
const catapult = Bodies.rectangle(400, 520, 320, 20);

World.add(world, [
	// Âè∞„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	catapult,

	// Âè∞„ÇíÂõ∫ÂÆö„Åô„Çã„Éê„Éç 1
	Constraint.create({
		// Âõ∫ÂÆö„Åô„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
		bodyA: catapult,
		// Âõ∫ÂÆö„Åô„Çã„Éù„Ç§„É≥„Éà
		pointB: {
			x: 390,
			y: 580
		},

	}),

	// Âè∞„ÇíÂõ∫ÂÆö„Åô„Çã„Éê„Éç 2
	Constraint.create({
		// Âõ∫ÂÆö„Åô„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
		bodyA: catapult,
		// Âõ∫ÂÆö„Åô„Çã„Éù„Ç§„É≥„Éà
		pointB: {
			x: 410,
			y: 580
		},

	}),

	// Â∑¶‰∏ã„Å´„ÅÇ„Çã„Çπ„Éà„ÉÉ„Éë„Éº
	Bodies.rectangle(250, 555, 20, 50, {
		// Âõ∫ÂÆö„Åô„Çã
		isStatic: true,

	}),

	// ËêΩ„Å°„Å¶„Åè„ÇãÂ§ß„Åç„Å™ÂÜÜ
	Bodies.circle(560, 100, 50, {
		// „Åä„ÇÇ„Åï
		density: 0.0000000005,

	}),

]);



import './stage';

--></script>
<script
  class="download_content"
  name="catapult/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486702690259"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
render.options.showCollisions = true;
render.options.showVelocity = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('catapult/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="catapult/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486702972122"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// Â∞è„Åï„Å™„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
	Composites.stack(250, 255, 1, 6, 0, 0, (x, y) => {
		return Bodies.rectangle(x, y, 30, 30);
	}),

	// Âú∞Èù¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 600, 800, 50.5, {
		isStatic: true,

	}),

]);

--></script>
<script
  class="download_content"
  name="chains/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486699292993"
  
  
  type="hack"
><!--
# „É≠„Éº„Éó

„ÉÅ„Çß„Éº„É≥„Å®„Çπ„Çø„ÉÉ„ÇØ„Çí‰Ωø„Å£„Å¶„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„É≠„Éº„Éó„Çí‰Ωú„Å£„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## „Å©„ÅÜ„ÇÑ„Å£„Å¶‰Ωú„Å£„Å¶„Çã„ÅÆÔºü

„Åì„Çå„Çâ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„ÅÑ„Çã„Çà  
> „ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„Çµ„É≥„Éó„É´„Å´ÁßªÂãï„Åó„Åæ„Åô

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰∏ÄÊ∞ó„Å´‰∏¶„Åπ„Çã„Å´„ÅØ‚Ä¶[„Çπ„Çø„ÉÉ„ÇØ](stack/index.html)  
„É≠„Éº„Éó„ÇíÁ©∫‰∏≠„Å´Âõ∫ÂÆö„Åô„Çã„Å´„ÅØ‚Ä¶[„Éê„Éç](constraint/index.html)  

## ÊîπÈÄ†„Å´ÊåëÊà¶„Åó„Å¶„Åø„Çã

![„É≠„Éº„Éó„Çí‰Ωú„Çã](chains/main.js)  
![Ë®≠ÂÆö](chains/setting.js)

- - -

## ÂøúÁî®‰æã

[„Éñ„É™„ÉÉ„Ç∏](bridge/index.html)


--></script>
<script
  class="download_content"
  name="chains/image.png"
  data-type="image/png"
  data-credits="[]"
  data-last-modified="1486625062529"
  is-trashed
  
  type="hack"
><!--
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
--></script>
<script
  class="download_content"
  name="chains/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486625028418"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„É≠„Éº„Éó</title>
		<link rel="stylesheet" href="style.css" />
		<script src="chains/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="chains/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;b4520c25fc7fd5cc0564feb25a3deb54&quot;}]"
  data-last-modified="1486696019452"
  
  
  type="hack"
><!--
import {
	Body,
	Composite,
	Composites,
	Constraint,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// „É≠„Éº„Éó„ÅÆ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂêåÂ£´„Åå„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç∞„É´„Éº„Éó
const ropeGroup = Body.nextGroup(true);

// „É≠„Éº„Éó„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const ropeA = Composites.stack(400, 100, 1, 8, 0, 10, (x, y) => {
	return Bodies.rectangle(x, y, 20, 50, {
		collisionFilter: {
			group: ropeGroup,
		},
		
	});
});
World.add(world, ropeA);

// „É≠„Éº„Éó„Çí„ÉÅ„Çß„Éº„É≥„Åß„Å§„Å™„Åê
Composites.chain(ropeA, 0, 0.5, 0, -0.5, {
	stiffness: 0.8,
	
});

// Â∑¶„ÅÆ„É≠„Éº„Éó„ÇíÁ©∫‰∏≠„Å´Âõ∫ÂÆö„Åô„Çã
Composite.add(ropeA, Constraint.create({
	bodyB: ropeA.bodies[0],
	pointB: {
		x: 0,
		y: -25
	},
	pointA: {
		x: 400,
		y: 100
	},
	stiffness: 0.5,
}));


--></script>
<script
  class="download_content"
  name="chains/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486699088449"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
render.options.showCollisions = true;
render.options.showVelocity = true;
render.options.background = '#aaaaaa';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('chains/README.md');


export {
	engine,
	world,
	render,
};
--></script>
<script
  class="download_content"
  name="chamfer/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486557701487"
  
  
  type="hack"
><!--
# Ëßí‰∏∏ 1

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆËßí„Çí‰∏∏„Åè„Åó„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](chamfer/main.js)


||| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ 
--- | --- | --- | ---
chamfer | | Ëßí„Çí‰∏∏„Åè„Åô„Çã„Åã„Å©„ÅÜ„Åã | `true` „Å™„Çâ‰∏∏„Åè„Å™„Çã 
chamfer | radius | ‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï | 0 ~ 

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](chamfer/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](chamfer/stage.js)

Ëßí„Åî„Å®„Å´‰∏∏„Åø„ÇíÂ§â„Åà„Çã„Å´„ÅØ
[Ëßí‰∏∏ 2](rounded/index.html)
„ÇíË¶ã„Å¶„Å≠

- - -

## ÂøúÁî®‰æã

--></script>
<script
  class="download_content"
  name="chamfer/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486557079737"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ëßí‰∏∏ 1</title>
		<link rel="stylesheet" href="style.css" />
		<script src="chamfer/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="chamfer/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486557966124"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting.js';

World.add(world, [
	
	// Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 400, 200, 200, {
		// Ëßí„Çí‰∏∏„Åè„Åô„Çã
		chamfer: true,
		
	}),
	
	// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 100, 150, 150, {
		// ‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï„Çí„Åã„Åà„Çã
		chamfer: {
			radius: 2,
		},
		
	}),
	
	// Âè≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(550, 300, 300, 300, {
		// ‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï„Çí„Åã„Åà„Çã
		chamfer: {
			radius: 40,
		},
		
	}),
	
]);


import './stage.js';

--></script>
<script
  class="download_content"
  name="chamfer/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486557462040"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('chamfer/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="chamfer/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486557421610"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	}),
]);

--></script>
<script
  class="download_content"
  name="circleStack/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486623769446"
  
  
  type="hack"
><!--
# ÂÜÜ„ÅÆ„Çπ„Çø„ÉÉ„ÇØ

„Çπ„Çø„ÉÉ„ÇØ„Çí‰Ωø„Å£„Å¶ÂÜÜ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰∏ÄÊ∞ó„Å´Âá∫„Åó„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](circleStack/main.js)

**Composites.stack(`1`, `2`, `3`, `4`, `5`, `6`, (x, y) => {  
„ÄÄ„ÄÄreturn Bodies.circle(x, y, `7`);  
});**

|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | Â∑¶„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
2 | ‰∏ä„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 600
3 | Âè≥„Å´„ÅÑ„Åè„Å§Âá∫„Åô„ÅãÔºàÊ®™Ôºâ | 0 ~ 
4 | ‰∏ã„Å´„ÅÑ„Åè„Å§Âá∫„Åô„ÅãÔºà„Çø„ÉÜÔºâ | 0 ~ 
5 | Âàó„ÅÆÈñì„Åã„ÅèÔºàÊ®™Ôºâ | 0 ~ 
6 | Ë°å„ÅÆÈñì„Åã„ÅèÔºà„Çø„ÉÜÔºâ | 0 ~ 
7 | ÂÜÜ„ÅÆÂçäÂæÑ | 0 ~ 


„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](circleStack/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](circleStack/stage.js)

- - -

## ÂøúÁî®‰æã


--></script>
<script
  class="download_content"
  name="circleStack/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÂÜÜ„ÅÆ„Çπ„Çø„ÉÉ„ÇØ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="circleStack/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="circleStack/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;9236bae4c335cc6c3bc132b71e427e1e&quot;}]"
  data-last-modified="1486624065536"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
	Composites,
	
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// ÂÜÜ„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
	Composites.stack(100, 185, 10, 10, 20, 0, (x, y) => {
		return Bodies.circle(x, y, 20);
	}),
	
]);








import './stage';

--></script>
<script
  class="download_content"
  name="circleStack/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486624046418"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('circleStack/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="circleStack/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486623918170"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
]);

--></script>
<script
  class="download_content"
  name="cloth/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486626858900"
  
  
  type="hack"
><!--
# Â∏É

Èù¢„Å´‰∏¶„Åπ„Åü„Çπ„Çø„ÉÉ„ÇØ„Çí„ÇΩ„Éï„Éà„Éú„Éá„Ç£„Å´„Åô„Çã„Å®„ÄÅÂ∏É„ÅÆ„Çà„ÅÜ„Å™Ë°®Áèæ„Åå„Åß„Åç„Çã„Çà  
„Åü„Å†„Åó„ÄÅÂÖ®„Å¶„ÇíËá™Áî±„Å´„Åô„Çã„Å®Â∫ä„Å´ËêΩ„Å°„Å¶„Åó„Åæ„ÅÜ„ÅÆ„Åß„ÄÅ  
‰∏ä„ÅÆË°å (0 ~ 20 Áï™„Åæ„Åß) „ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å†„Åë„ÅØÂõ∫ÂÆö„Åó„Åü„Çì„Å†  


## ![ÊîπÈÄ†„Åô„Çã](cloth/main.js)


## „Éë„É©„É°„Éº„Çø
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
friction | „Åæ„Åï„Å§‰øÇÊï∞ | ÂÄç | 0 | 1.0
isStatic | ÈùôÊ≠¢„Åô„Çã„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)

- - -

## ÂøÖË¶Å„Å™„ÇÇ„ÅÆ

[„ÇΩ„Éï„Éà„Éú„Éá„Ç£](softBody/index.html)

--></script>
<script
  class="download_content"
  name="cloth/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Â∏É</title>
		<link rel="stylesheet" href="style.css" />
		<script src="cloth/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="cloth/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;4542a7ec969fea209570660295902fd2&quot;}]"
  data-last-modified="1486450907607"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Body,
	Composites,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.background = '#0f0f13';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// Â∏É„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const group = Body.nextGroup(true);
const particleOptions = {
	friction: 0.00001,
	collisionFilter: {
		group: group
	},
	render: {
		visible: false,
	}
};
const cloth = Composites.softBody(200, 200, 20, 12, 5, 5, false, 8, particleOptions);

// ‰∏ÄÁï™‰∏ä„ÅÆË°å„Å†„Åë„ÄÅÂãï„Åã„Å™„ÅÑ„Çà„ÅÜ„Å´
for (let i = 0; i < 20; i++) {
	Body.setStatic(cloth.bodies[i], true);
}

World.add(world, [
	cloth,
	// 	ÂÜÜ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.circle(300, 500, 80, {
		isStatic: true
	}),
	// 	ÂõõËßí„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(500, 480, 80, 80, {
		isStatic: true
	}),
	// 	Â∫ä„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 609, 800, 50, {
		isStatic: true
	})
]);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.98,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('cloth/README.md');

--></script>
<script
  class="download_content"
  name="coins/README.MD"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--































--></script>
<script
  class="download_content"
  name="coins/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486710852773"
  
  
  type="hack"
><!--
# „Ç≥„Ç§„É≥„Ç≤„Éº„É†

„Ç≥„Ç§„É≥„Ç≤„Éº„É†‰Ωú„Å£„Å¶„Åø„Åü„ÄÄ

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



## „Å©„ÅÜ„ÇÑ„Å£„Å¶‰Ωú„Å£„Å¶„Çã„ÅÆÔºü

„Åì„Çå„Çâ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„Ç≤„Éº„É†„Å´„Åó„Å¶„ÅÑ„Çã„Çà  
> „ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„Çµ„É≥„Éó„É´„Å´ÁßªÂãï„Åó„Åæ„Åô

„Éê„Éº„ÇíÂãï„Åã„Åô„Å´„ÅØ‚Ä¶[„Ç§„Éô„É≥„Éà](events/index.html)  
„Ç≥„Ç§„É≥„Çª„É≥„Çµ„Éº„ÅØ‚Ä¶[„Çª„É≥„Çµ„Éº](sensors/index.html)  

## ÊîπÈÄ†„Å´ÊåëÊà¶„Åó„Å¶„Åø„Çã

![Âãï„ÅèÂè∞](coins/main.js)  
![„Ç≥„Ç§„É≥„Çª„É≥„Çµ„Éº](coins/sensor.js)  
![„Çπ„ÉÜ„Éº„Ç∏](coins/stage.js)  
![Ë®≠ÂÆö](coins/setting.js)

--></script>
<script
  class="download_content"
  name="coins/REAMDE.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486704331663"
  is-trashed
  
  type="hack"
><!--
# „Ç≥„Ç§„É≥„Ç≤„Éº„É†

„Ç≥„Ç§„É≥„Ç≤„Éº„É†‰Ωú„Å£„Å¶„Åø„Åü„ÄÄ

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## „Å©„ÅÜ„ÇÑ„Å£„Å¶‰Ωú„Å£„Å¶„Çã„ÅÆÔºü

„Åì„Çå„Çâ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„Ç≤„Éº„É†„Å´„Åó„Å¶„ÅÑ„Çã„Çà  
> „ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„Çµ„É≥„Éó„É´„Å´ÁßªÂãï„Åó„Åæ„Åô

Èáç„Åï„ÇíÂ§â„Åà„Çã„Å´„ÅØ‚Ä¶[„Åä„ÇÇ„Åï](density/index.html)  
Â±±„Çí‰Ωú„Çã„Å´„ÅØ‚Ä¶[„Éî„É©„Éü„ÉÉ„Éâ](pyramid/index.html)  
Â≤©„ÇíÊîæ„Å§„Å´„ÅØ‚Ä¶[„Ç§„Éô„É≥„Éà](events/index.html)  

## ÊîπÈÄ†„Å´ÊåëÊà¶„Åó„Å¶„Åø„Çã

![Âãï„ÅèÂè∞„Å®„Ç≥„Ç§„É≥„Çª„É≥„Çµ„Éº](coins/main.js)  
![„Çπ„ÉÜ„Éº„Ç∏](coins/stage.js)  
![Ë®≠ÂÆö](coins/setting.js)

--></script>
<script
  class="download_content"
  name="coins/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486703611004"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Ç≥„Ç§„É≥„Ç≤„Éº„É†</title>
		<link rel="stylesheet" href="style.css" />
		<script src="coins/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="coins/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486710425190"
  
  
  type="hack"
><!--
import {
	Body,
	Events,
	World,
	Bodies,
} from 'matter';

import {
	engine,
	world,
} from './setting';


// „Ç≥„Ç§„É≥„ÇíÈÅã„Å∂„Éê„Éº
const bar1 = Bodies.rectangle(700, 350, 250, 50, {
	// Âõ∫ÂÆö„Åô„Çã
	isStatic: true,
	
});

World.add(world, [
	
	// „Ç≥„Ç§„É≥„ÇíÈÅã„Å∂„Éê„Éº
	bar1,
	
	// „Éê„Éº„ÅÆ‰∏ä„ÅÆ„Çπ„Éà„ÉÉ„Éë„Éº
	Bodies.rectangle(750, 300, 70, 50, {
		// Âõ∫ÂÆö„Åô„Çã
		isStatic: true,

	}),
	
]);

Events.on(engine, 'beforeUpdate', (event) => {
	
	// Âßã„Åæ„Å£„Å¶„Åã„Çâ„ÅÆÁµåÈÅéÊôÇÈñì(Áßí)
	const time = event.timestamp / 1000;

	// „Éê„Éº„ÇíÂ∑¶Âè≥„Å´Âãï„Åã„Åô
	const px = 700 + 150 * Math.sin(time - 1);
	Body.setVelocity(bar1, {
		x: px - bar1.position.x,
		y: 0
	});
	Body.setPosition(bar1, {
		x: px,
		y: bar1.position.y
	});
	
});


import './stage';
import './sensor';

--></script>
<script
  class="download_content"
  name="coins/sensor.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486709055006"
  
  
  type="hack"
><!--
import {
	Composites,
	Body,
	Events,
	World,
	Bodies,
} from 'matter';

import {
	engine,
	world,
} from './setting';


// „Çª„É≥„Çµ„Éº„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Å§„Åè„Çã
const sensor = Bodies.rectangle(740, 400, 60, 20, {
	isSensor: true,
	isStatic: true,
	render: {
		strokeStyle: '#FFFF00',
		fillStyle: 'transparent',
		lineWidth: 1
	}
});


World.add(world, [

	// „Çª„É≥„Çµ„Éº„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	sensor,

	// „Åï„ÅÑ„Åó„Çá„ÅÆ„Ç≥„Ç§„É≥
	Bodies.rectangle(750, 350, 50, 10, {
		chamfer: {
			radius: 4,
		},
		render: {
			fillStyle: '#FFFF00',
			strokeStyle: '#000000',
			lineWidth: 1,
		},
		// „ÉÑ„É´„ÉÑ„É´„Å´„Åô„Çã
		slop: 0.005,
		friction: 0.01,
		frictionStatic: 10,
		restitution: 0.3,
		// „Çø„ÉÜ„Å´„Åô„Çã
		angle: 1.57,

	}),

]);



Events.on(engine, 'collisionStart', function(event) {
	// „Åó„Çá„ÅÜÁ™Å„ÅåÂßã„Åæ„Å£„Åü„Çâ„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

	for (const pair of event.pairs) {
		if (pair.bodyA === sensor || pair.bodyB === sensor) {
			// „Çª„É≥„Çµ„Éº„Å®„Å∂„Å§„Åã„Å£„Åü„Çâ„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

			World.add(world, [

				// „Ç≥„Ç§„É≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
				Composites.stack(50, 300, 2, 5, 0, 0, (x, y) => {
					return Bodies.rectangle(x, y, 50, 10, {
						chamfer: {
							radius: 4,
						},
						render: {
							fillStyle: '#FFFF00',
							strokeStyle: '#000000',
							lineWidth: 1,
						},
						slop: 0.005,
						friction: 0.01,
						frictionStatic: 10,
						restitution: 0.3,
						restitution: 0.3,

					});
				}),

			]);

		}
	}

});

--></script>
<script
  class="download_content"
  name="coins/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486706632647"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('coins/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="coins/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486708502456"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';

World.add(world, [
	// „Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 80, {
		isStatic: true,
		angle: -0.05,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
	// „Éê„Éº„ÅÆ‰∏ã„ÅÆÂúüÂè∞
	Bodies.rectangle(450, 400, 520, 50, {
		isStatic: true,
		chamfer: true,
	}),
	Bodies.rectangle(180, 450, 150, 50, {
		isStatic: true,
		chamfer: true,
		angle: -1.2,
	}),
	
	// „É¨„Éº„É≥
	Bodies.rectangle(270, 180, 350, 20, {
		isStatic: true,
		chamfer: true,
		angle: 0.5,
		friction: 0,
	}),
	Bodies.rectangle(130, 190, 20, 200, {
		isStatic: true,
		chamfer: true,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="collisionFiltering/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486455224533"
  
  
  type="hack"
><!--
# „Ç´„ÉÜ„Ç¥„É™„Éº„Åî„Å®„ÅÆ„Åó„Çá„ÅÜ„Å®„Å§


Ëâ≤‰ªò„Åç„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅØ„ÄÅ  
Âêå„ÅòËâ≤„ÅÆÁ∑ö„Çí„ÇÇ„Å§„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å®„Åó„Åã„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´  
**„Ç´„ÉÜ„Ç¥„É™„ÉºÂàÜ„Åë** „Åï„Çå„Å¶„ÅÑ„Çã„Çà


## ![ÊîπÈÄ†„Åô„Çã](collisionFiltering/main.js)


## ‰Ωï„Åå„Åß„Åç„Çã„ÅÆÔºü
„Ç´„ÉÜ„Ç¥„É™„Éº„Åî„Å®„ÅÆ„Åó„Çá„ÅÜ„Å®„Å§„Çí‰Ωø„ÅÑ„Åì„Å™„Åõ„Çã„Çà„ÅÜ„Å´„Å™„Çå„Å∞„ÄÅ  
„Äå„Åì„Çå„Å®„Åù„Çå„ÅØ„Å∂„Å§„Åã„Çã„ÄÇ„Åß„ÇÇ„ÄÅ„ÅÇ„Çå„Å®„Åì„Çå„ÅØ„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„Äç  
„Å®„ÅÑ„ÅÜ„Åì„Å®„Åå„ÄÅËá™Áî±Ëá™Âú®„Å´„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„Çà


‰ªäÂõû„ÅÆ‰æã„Åß„ÅØ„ÄÅ Ëµ§„Ç´„ÉÜ„Ç¥„É™„Éº, Èùí„Ç´„ÉÜ„Ç¥„É™„Éº, Á∑ë„Ç´„ÉÜ„Ç¥„É™„Éº,  
„Åù„Åó„Å¶ „Éá„Éï„Ç©„É´„Éà„Ç´„ÉÜ„Ç¥„É™„ÉºÔºà„Ç´„ÉÜ„Ç¥„É™„Éº„Å™„ÅóÔºâ„Å®„ÅÑ„ÅÜ„ÄÅ  
Ôºî„Å§„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº„Çí‰Ωø„ÅÑÂàÜ„Åë„Å¶„ÅÑ„Çã„Çì„Å†


## „Éë„É©„É°„Éº„Çø
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
isStatic | ÈùôÊ≠¢„Åô„Çã„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 
collisionFilter | | | |
category | „Åù„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº | „Éì„ÉÉ„Éà„Éï„É©„Ç∞ | `0x0001` („Éá„Éï„Ç©„É´„Éà„Ç´„ÉÜ„Ç¥„É™„Éº) | 
mask | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå„Åó„Çá„ÅÜ„Å®„Å§„Åô„Çã„Ç´„ÉÜ„Ç¥„É™„Éº |„ÄÄ„Éì„ÉÉ„Éà„Éï„É©„Ç∞ | `0x0000` (ÁÑ°) | `0xFFFF` (ÂÖ®„Å¶)  
render | | | |
strokeStyle | Á∑ö„ÅÆËâ≤ | Ëâ≤ | *"#000000"* (Èªí) | *"#FFFFFF"* (ÁôΩ)
fillStyle | Â°ó„Çä„Å§„Å∂„Åó„ÅÆËâ≤ | Ëâ≤ | *"#000000"* (Èªí) | *"#FFFFFF"* (ÁôΩ)
lineWidth | Á∑ö„ÅÆÂ§™„Åï | px | 0 | Infinity

## | „ÅÆÊÑèÂë≥
`defaultCategory | greenCategory` „ÅØ„ÄÅ  
„Éá„Éï„Ç©„É´„Éà„Ç´„ÉÜ„Ç¥„É™„Éº **„Å®„ÄÅ** Á∑ë„Ç´„ÉÜ„Ç¥„É™„Éº  
„Å®„ÅÑ„ÅÜÊÑèÂë≥„ÇíË°®„Åó„Å¶„ÅÑ„Çã„Çà

## „Éì„ÉÉ„Éà„Éï„É©„Ç∞„ÅÆÊÑèÂë≥

„Éì„ÉÉ„Éà„Å®„ÅØ„ÄÅ 0 „Åã 1 „ÅÆÊÉÖÂ†±„Åó„Åã„ÇÇ„Åü„Å™„ÅÑ„ÄÅÊÉÖÂ†±„ÅÆÊúÄÂ∞èÂçò‰Ωç„ÅÆ„Åì„Å®  
`0x0001` „ÅØ 16ÈÄ≤Êï∞„Å®„ÅÑ„ÅÜÁâπÂà•„Å™Êï∞Â≠ó„ÅÆÊõ∏„ÅçÊñπ„Åß„ÄÅÂÆüÈöõ„Å´„ÅØ„Åµ„Å§„ÅÜ„ÅÆÊï∞Â≠ó„Å®Âêå„Åò„Å†„Çà


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="collisionFiltering/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Ç´„ÉÜ„Ç¥„É™„Éº„Åî„Å®„ÅÆ„Åó„Çá„ÅÜÁ™Å</title>
		<link rel="stylesheet" href="style.css" />
		<script src="collisionFiltering/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="collisionFiltering/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;f1f017b4112a39fc56bdd561b99edce9&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composite,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.background = '#111';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Ç´„ÉÜ„Ç¥„É™„Éº„ÄÄ(Ôºë„Å§„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Éº„ÅØ 1 bit „ÅßË°®„Åï„Çå„Çã„ÅÆ„Åß„ÄÅË°®„Åõ„Çã„Ç´„ÉÜ„Ç¥„É™„Éº„ÅØ 32 „Åæ„Åß)
const defaultCategory = 0x0001;
const redCategory = 0x0002;
const greenCategory = 0x0004;
const blueCategory = 0x0008;

// „Ç´„É©„ÉºÔºà‰∏ä„Åã„Çâ Ëµ§, Èùí, Á∑ëÔºâ
const redColor = '#C44D58';
const blueColor = '#4ECDC4';
const greenColor = '#C7F464';

// Â∫ä
World.add(world, Bodies.rectangle(400, 600, 900, 50, {
	isStatic: true,
	render: {
		fillStyle: 'transparent',
		lineWidth: 1
	}
}));

/**
 * ÈÄèÊòé„Å™ÂÜÜ„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
 * 0 ~ 2 Ëµ§„ÅÑ„Éï„ÉÅ
 * 3 ~ 5 Á∑ë„ÅÆ„Éï„ÉÅ
 * 6 ~ 9 Èùí„ÅÑ„Éï„ÉÅ
 */
World.add(world,
	Composites.stack(275, 100, 5, 9, 10, 10, (x, y, column, row) => {

		return Bodies.circle(x, y, 20, {
			collisionFilter: {
				category: row <= 2 ? redCategory : row <= 5 ? greenCategory : blueCategory
			},
			render: {
				strokeStyle: row <= 2 ? redColor : row <= 5 ? greenColor : blueColor,
				fillStyle: 'transparent',
				lineWidth: 1
			}
		});
	
	})
);

// Á∑ë„Ç´„ÉÜ„Ç¥„É™„Éº„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´„Åó„Åã„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„ÄÅÁ∑ë„ÅÆÂÜÜ
World.add(world,
	Bodies.circle(310, 40, 30, {
		collisionFilter: {
			mask: defaultCategory | greenCategory
		},
		render: {
			strokeStyle: Common.shadeColor(greenColor, -20),
			fillStyle: greenColor
		}
	})
);

// Ëµ§„Ç´„ÉÜ„Ç¥„É™„Éº„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´„Åó„Åã„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„ÄÅËµ§„ÅÆÂÜÜ
World.add(world,
	Bodies.circle(400, 40, 30, {
		collisionFilter: {
			mask: defaultCategory | redCategory
		},
		render: {
			strokeStyle: Common.shadeColor(redColor, -20),
			fillStyle: redColor
		}
	})
);

// Èùí„Ç´„ÉÜ„Ç¥„É™„Éº„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´„Åó„Åã„Å∂„Å§„Åã„Çâ„Å™„ÅÑ„ÄÅÈùí„ÅÆÂÜÜ
World.add(world,
	Bodies.circle(480, 40, 30, {
		collisionFilter: {
			mask: defaultCategory | blueCategory
		},
		render: {
			strokeStyle: Common.shadeColor(blueColor, -20),
			fillStyle: blueColor
		}
	})
);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;

// Ëµ§„Ç´„ÉÜ„Ç¥„É™„Éº„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Éû„Ç¶„Çπ„Åß„Éâ„É©„ÉÉ„Ç∞„Åï„Åõ„Å™„ÅÑ
mouseConstraint.collisionFilter.mask = defaultCategory | blueCategory | greenCategory;


feeles.openReadme('collisionFiltering/README.md');

--></script>
<script
  class="download_content"
  name="compositeManipulation/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486428844876"
  
  
  type="hack"
><!--
# „Çπ„Çø„ÉÉ„ÇØÂÖ®‰Ωì„ÅÆÊìç‰Ωú


`Composite` „Çí‰Ωø„ÅÜ„Å®„ÄÅ„Çπ„Çø„ÉÉ„ÇØ„Å´„Åµ„Åè„Åæ„Çå„Çã  
ÂÖ®„Å¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÂêåÊôÇ„Å´Âãï„Åã„Åõ„Çã„Çà


## ![ÊîπÈÄ†„Åô„Çã](compositeManipulation/main.js)


### Composite.translate(stack, { x: `x`, y: `y` })

„Çπ„Çø„ÉÉ„ÇØÂÖ®‰Ωì„ÇíÁßªÂãï„Åï„Åõ„Çã

„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç
--- | --- | ---
x | Âè≥„Å´ÁßªÂãï„Åô„ÇãÈáè | px
y | ‰∏ã„Å´ÁßªÂãï„Åô„ÇãÈáè | px

### Composite.rotate(stack, `angle`, { x: `centerX`, y: `centerY` })

„Çπ„Çø„ÉÉ„ÇØÂÖ®‰Ωì„ÇíÂõûËª¢„Åï„Åõ„Çã

„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç
--- | --- | ---
angle | ÁèæÂú®„ÅÆËßíÂ∫¶„Å´ **Ë∂≥„ÅóÁÆó** „Åô„ÇãËßíÂ∫¶ | *rad*
centerX | ÂõûËª¢„ÅÆ‰∏≠ÂøÉÔºà 0 „Å™„Çâ„Çπ„Çø„ÉÉ„ÇØ„ÅÆÂ∑¶Á´ØÔºâ | px
centerY | ÂõûËª¢„ÅÆ‰∏≠ÂøÉÔºà 0 „Å™„Çâ„Çπ„Çø„ÉÉ„ÇØ„ÅÆ‰∏äÁ´ØÔºâ | px

### Composite.scale(stack, `scaleX`, `scaleY`,  { x: `centerX`, y: `centerY` })

„Çπ„Çø„ÉÉ„ÇØÂÖ®‰Ωì„ÇíÊã°Â§ß„Åï„Åõ„Çã

„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç
--- | --- | ---
scaleX | Ê®™ÊñπÂêë„Å´ **„Åã„ÅëÁÆó** „Åô„ÇãÂ§ß„Åç„Åï ( 1 „Å™„ÇâÂ§âÂåñ„Å™„Åó) | ÂÄç
scaleY | Á∏¶ÊñπÂêë„Å´ **„Åã„ÅëÁÆó** „Åô„ÇãÂ§ß„Åç„Åï ( 1 „Å™„ÇâÂ§âÂåñ„Å™„Åó) | ÂÄç
centerX | Êã°Â§ß„ÅÆ‰∏≠ÂøÉÔºà 0 „Å™„Çâ„Çπ„Çø„ÉÉ„ÇØ„ÅÆÂ∑¶Á´ØÔºâ | px
centerY | Êã°Â§ß„ÅÆ‰∏≠ÂøÉÔºà 0 „Å™„Çâ„Çπ„Çø„ÉÉ„ÇØ„ÅÆ‰∏äÁ´ØÔºâ | px


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="compositeManipulation/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Çπ„Çø„ÉÉ„ÇØÂÖ®‰Ωì„ÅÆÊìç‰Ωú</title>
		<link rel="stylesheet" href="style.css" />
		<script src="compositeManipulation/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="compositeManipulation/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;39bfd1d7ac00f8cb56298aedb8bd5048&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Events,
	Composite,
	Composites,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;
// ‰∏ãÊñπÂêë„Å∏„ÅÆÈáçÂäõ
world.gravity.y = 0;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(200, 200, 4, 4, 0, 0, (x, y) => {
	return Bodies.rectangle(x, y, 40, 40);
});

World.add(world, stack);

Events.on(engine, 'afterUpdate', (event) => {
	// ÊØé„Éï„É¨„Éº„É†„Åì„Åì„Å´ÂÖ•„Çã
	const time = engine.timing.timestamp;

	Composite.translate(stack, {
		x: Math.sin(time * 0.001) * 2,
		y: 0
	});

	Composite.rotate(stack, Math.sin(time * 0.001) * 0.01, {
		x: 300,
		y: 300
	});

	const scale = 1 + (Math.sin(time * 0.001) * 0.01);

	Composite.scale(stack, scale, scale, {
		x: 300,
		y: 300
	});
});

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('compositeManipulation/README.md');

--></script>
<script
  class="download_content"
  name="compound/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486630158493"
  
  
  type="hack"
><!--
# „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂêàÊàê

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÂêàÊàê„Åó„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](compound/main.js)

**Body.create({  
„ÄÄ„ÄÄparts: [  
„ÄÄ„ÄÄ„ÄÄ„ÄÄ`1`,  
„ÄÄ„ÄÄ„ÄÄ„ÄÄ`2`,  
„ÄÄ„ÄÄ„ÄÄ„ÄÄ`...`,  
„ÄÄ„ÄÄ],  
„ÄÄ});**

|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà | „Å™„Åó
2 | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà | „Å™„Åó
... | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà | „Å™„Åó


„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](compound/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](compound/stage.js)


- - -

## ÂøúÁî®‰æã


--></script>
<script
  class="download_content"
  name="compound/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂêàÊàê</title>
		<link rel="stylesheet" href="style.css" />
		<script src="compound/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="compound/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830829,&quot;hash&quot;:&quot;f4f2d344a2fd74e35168a390294dd5bb&quot;}]"
  data-last-modified="1486630197429"
  
  
  type="hack"
><!--
import {
	Body,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';



// Ê®™Ê£í
const partA = Bodies.rectangle(200, 300, 200, 40);
// „Çø„ÉÜÊ£í
const partB = Bodies.rectangle(200, 300, 40, 200, {
	// Ê®™Ê£í „Å®Ëâ≤„ÇíÂêå„Åò„Å´„Åô„Çã
	render: partA.render,
	
});

// partA „Å® partB „ÇíÂêàÊàê
const partAB = Body.create({
	parts: [
		partA, 
		partB,
		
	]
});

World.add(world, [
	// Ôºã „ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	partAB,
	
]);


// ‰∏ä„ÅÆÁÇπ
const part1 = Bodies.circle(600, 220, 30);
// Ê®™Ê£í
const part2 = Bodies.rectangle(600, 300, 200, 40, {
	// ‰∏ä„ÅÆÁÇπ „Å®Ëâ≤„ÇíÂêå„Åò„Å´„Åô„Çã
	render: part1.render,
	
});
// ‰∏ã„ÅÆÁÇπ
const part3 = Bodies.circle(600, 380, 30, {
	// ‰∏ä„ÅÆÁÇπ „Å®Ëâ≤„ÇíÂêå„Åò„Å´„Åô„Çã
	render: part1.render,
	
});

// partC „Å® partD „Å® partE „ÇíÂêàÊàê
const part123 = Body.create({
	parts: [
		part1, 
		part2,
		part3,
		
	]
});

World.add(world, [
	// √∑ „ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	part123,
	
]);


import './stage';

--></script>
<script
  class="download_content"
  name="compound/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486629404422"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAxes = true;
render.options.showPositions = true;
render.options.showConvexHulls = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('compound/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="compound/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486629469043"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';

World.add(world, [
	// „Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="compoundStack/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486630391113"
  
  
  type="hack"
><!--
# ÂêàÊàê„Åó„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ

ÂêàÊàê„Åó„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰∏ÄÊ∞ó„Å´Âá∫„Åó„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)

## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](compoundStack/main.js)

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](compoundStack/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](compoundStack/stage.js)


--></script>
<script
  class="download_content"
  name="compoundStack/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÂêàÊàê„Åó„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="compoundStack/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="compoundStack/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;ccfd443f31d256308bfd26d26330c2f1&quot;}]"
  data-last-modified="1486630606541"
  
  
  type="hack"
><!--
import {
	Body,
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// ÂêàÊàê„Åó„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(100, 280, 12, 6, 0, 0, (x, y) => {
	// Ê®™Ê£í
	const partA = Bodies.rectangle(x, y, 50, 10);
	// „Çø„ÉÜÊ£í
	const partB = Bodies.rectangle(x, y, 10, 50, {
		// Ê®™Ê£í„Å®Ë¶ã„ÅüÁõÆ„ÇíÂêå„Åò„Å´„Åô„Çã
		render: partA.render,
		
	});
	
	// ÂêàÊàê„Åï„Çå„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Å≤„Å®„Å§
	return Body.create({
		parts: [
			partA, 
			partB,
		]
	});
});

World.add(world, [
	// „Çπ„Çø„ÉÉ„ÇØ
	stack,
	
]);


import './stage';

--></script>
<script
  class="download_content"
  name="compoundStack/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486630445494"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('compoundStack/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="compoundStack/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486630467420"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';

World.add(world, [
	// „Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="concave/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486430828727"
  
  
  type="hack"
><!--
# Â•Ω„Åç„Å™ÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà


`Vertices.fromPath` „Å® `Bodies.fromVertices` „Çí‰Ωø„Åà„Å∞„ÄÅ  
Â•Ω„Åç„Å™ÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çà


Â§ß„Åæ„Åã„Å™ÂéüÁêÜ„ÅØ„ÄÅ SVG „Çí‰Ωø„ÅÜ„Å®„Åç„Å®Âêå„Åò„Å™„Çì„Å†„ÄÇ  
„Åì„Åì„Åß„ÅØ SVG ÂΩ¢Âºè„ÅÆÁîªÂÉè„Çí‰Ωø„ÅÜ‰ª£„Çè„Çä„Å´„ÄÅ  
„Éô„ÇØ„Éà„É´ÔºàÊï∞Â≠ó„ÅÆÈõÜ„Åæ„ÇäÔºâ„ÇíÁõ¥Êé•Êâã„ÅßÊõ∏„ÅèÊñπÊ≥ï„Çí‰Ωø„ÅÜ„Çà

## ÊµÅ„Çå

1. `Vertices.fromPath` „Åß„ÄÅ„Éô„ÇØ„Éà„É´„Éá„Éº„Çø„Çí„Å§„Åè„Çã
2. `Bodies.fromVertices` „Åß„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Å§„Åè„Çã
3. „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Åæ„Å®„ÇÅ„Åü„Çπ„Çø„ÉÉ„ÇØ„Çí„Å§„Åè„Çã


## ![ÊîπÈÄ†„Åô„Çã](concave/main.js)


### Bodies.fromVertices(`x`, `y`, `vertices`, { render: `render` })
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
x | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ‰ΩçÁΩÆÔºàÊ®™Ôºâ | px | 0 | 800
y | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ‰ΩçÁΩÆÔºàÁ∏¶Ôºâ | px | 0 | 600 
vertices | „Éô„ÇØ„Éà„É´„Éá„Éº„Çø |  | | 
render | | | |
fillStyle | Â°ó„Çä„Å§„Å∂„Åó„ÅÆËâ≤ | Ëâ≤ | | 
strokeStyle | Á∑ö„ÅÆËâ≤ | Ëâ≤ | | 
lineWidth | Á∑ö„ÅÆÂ§™„Åï | px | 0 | Infinity


## „Éô„ÇØ„Éà„É´„Éá„Éº„Çø„ÅÆÊõ∏„ÅçÊñπ

`'40 0 40 20 ... 0 50'` „Å®„ÅÑ„ÅÜÊñáÂ≠óÂàó„ÅÆÈÉ®ÂàÜ„Åå„Éô„ÇØ„Éà„É´„Éá„Éº„Çø„Å†„Çà  
„Åæ„Åö„ÅØ„ÄÅ„Åù„Çå„Åû„Çå„ÅÆÊï∞Â≠ó„Çí‰∫å„Å§„Åö„Å§„Å´Âå∫Âàá„Å£„Å¶„Åø„Å¶„Åø„Çà„ÅÜ  
`40 0` `40 20` ... `0 50` „Åø„Åü„ÅÑ„Å´„Å≠  
ÂÆü„ÅØ„ÄÅ„Åì„ÅÆ„Åã„Åü„Åæ„Çä‰∏Ä„Å§‰∏Ä„Å§„Åå„ÄÅÁÇπ„ÅÆ‰ΩçÁΩÆ„ÇíË°®„Åó„Å¶„ÅÑ„Çã„Çì„Å†

‰∏ÄËæ∫„ÅÆÈï∑„Åï„Åå 100 „ÅÆÊ≠£ÊñπÂΩ¢„Çí„Ç§„É°„Éº„Ç∏„Åó„Å¶„Åø„Çà„ÅÜ  
„Åù„ÅÆÊ≠£ÊñπÂΩ¢„ÅÆ‰∏≠„Åß `40 0` `40 20` ... `0 50` „Åå  
„Åù„Çå„Åû„Çå„Å©„ÅÆ‰ΩçÁΩÆ„Å´Êù•„Çã„ÅÆ„Åã„ÇíËÄÉ„Åà„Å¶„Åø„Çà„ÅÜ

ÂàÜ„Åã„Çä„Å´„Åè„ÅÑ„Å®„Åç„ÅØ„ÄÅ„Å®„Çä„ÅÇ„Åà„ÅöÊõ∏„ÅÑ„Å¶„Åø„Å¶„ÄÅ  
„Å©„ÅÜ„Å™„Çã„ÅãË©¶„Åó„Å¶„Åø„Çà„ÅÜ


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="concave/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Â•Ω„Åç„Å™ÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà</title>
		<link rel="stylesheet" href="style.css" />
		<script src="concave/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="concave/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;282db7ccb0f8fbe75e89d0c8fb718f0d&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Vertices,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „Éô„ÇØ„Éà„É´„Éá„Éº„Çø
const arrow = Vertices.fromPath('40 0 40 20 100 20 100 80 40 80 40 100 0 50');
const chevron = Vertices.fromPath('100 0 75 50 100 100 25 100 0 50 25 0');
const star = Vertices.fromPath('50 0 63 38 100 38 69 59 82 100 50 75 18 100 31 59 0 38 37 38');
const horseShoe = Vertices.fromPath('35 7 19 17 14 38 14 58 25 79 45 85 65 84 65 66 46 67 34 59 30 44 33 29 45 23 66 23 66 7 53 7');

// „Éô„ÇØ„Éà„É´„Éá„Éº„Çø„Åã„Çâ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„Å£„Å¶„ÄÅ 24 ÂÄã„ÅÆ„Çπ„Çø„ÉÉ„ÇØ„Å´„Åô„Çã
const stack = Composites.stack(50, 50, 6, 4, 10, 10, function(x, y) {
	const color = Common.choose(['#556270', '#4ECDC4', '#C7F464', '#FF6B6B', '#C44D58']);
	return Bodies.fromVertices(x, y, Common.choose([arrow, chevron, star, horseShoe]), {
		render: {
			fillStyle: color,
			strokeStyle: color,
			lineWidth: 1
		}
	}, true);
});

World.add(world, stack);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('concave/README.md');

--></script>
<script
  class="download_content"
  name="constraint/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486703110597"
  
  
  type="hack"
><!--
# „Éê„Éç

„Éê„Éç„Å£„ÅΩ„ÅÑÂãï„Åç„Çí‰Ωú„Å£„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](constraint/main.js)

**Constraint.create({  
„ÄÄ„ÄÄbodyA: `1`,  
„ÄÄ„ÄÄpointB: {  
„ÄÄ„ÄÄ„ÄÄ„ÄÄx: `2`,  
„ÄÄ„ÄÄ„ÄÄ„ÄÄy: `3`,  
„ÄÄ„ÄÄ},  
„ÄÄ„ÄÄstiffness: `4`,  
});**

|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà | „Å™„Åó
2 | Â∑¶„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
3 | ‰∏ä„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 600
4 | „Éê„Éç„ÅÆÂº∑„Åï | 0 ~ 1.0


„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](constraint/setting.js)

## „Ç≥„É©„É† „Äå„Éï„ÉÉ„ÇØ„ÅÆÊ≥ïÂâá„Äç

„Éï„ÉÉ„ÇØ„ÅÆÊ≥ïÂâá„Å´„Çà„Çã„Å® „Éê„Éç „ÅåÂÖÉ„Å´Êàª„Çç„ÅÜ„Å®„Åô„ÇãÂäõ„ÅØ„ÄÅ  
„Éê„Éç„Åå‰º∏„Å≥„ÅüÈï∑„Åï„Å´„ÄÅ„ÅÇ„ÇãÂÆöÊï∞„Çí„Åã„Åë„Åü„ÇÇ„ÅÆ„Å™„Çì„Å†  
‰º∏„Å≥„ÅüÈï∑„Åï„ÅåÂÄç„Å´„Å™„Çå„Å∞„ÄÅÊàª„Çç„ÅÜ„Å®„Åô„ÇãÂäõ„ÇÇÂÄç„Å´„Å™„Çã„Çì„Å†„Å≠

„ÅÇ„ÇãÂÆöÊï∞„ÅÆ„Åì„Å®„Çí **„Éê„ÉçÂÆöÊï∞** „Å®Ë®Ä„Å£„Å¶„ÄÅ  
„Éë„É©„É°„Éº„Çø„Åß„ÅØ `stiffness` „ÅÆ„Åì„Å®„Å†„Çà

- - -

## ÂøúÁî®‰æã

[„Çπ„É™„É≥„Ç∞„Ç∑„Éß„ÉÉ„Éà](slingshot/index.html)
[„É¢„É≥„Ç±„Éº„É≥](wreckingBall/index.html)
[„Éñ„É™„ÉÉ„Ç∏](bridge/index.html)
[Áô∫Â∞ÑÂè∞](catapult/index.html)

--></script>
<script
  class="download_content"
  name="constraint/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486645158396"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Éê„Éç</title>
		<link rel="stylesheet" href="style.css" />
		<script src="constraint/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="constraint/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486646020975"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAxes = true;
render.options.background = '#000000';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('constraint/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="constraint/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486645521775"
  is-trashed
  
  type="hack"
><!--































--></script>
<script
  class="download_content"
  name="density/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486703087452"
  
  
  type="hack"
><!--
# „Åä„ÇÇ„Åï

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ [„Åø„Å§Â∫¶](https://ja.wikipedia.org/wiki/%E5%AF%86%E5%BA%A6)
„ÇíÂ§â„Åà„Å¶„ÄÅÈáç„Åè„Åó„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](density/main.js)


|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ 
--- | --- | --- 
density | „Åä„ÇÇ„Åï„ÅÆ„Åø„Å§Â∫¶ | 0 ~ 

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](density/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](density/stage.js)

- - -

## ÂøúÁî®‰æã

[„Çπ„É™„É≥„Ç∞„Ç∑„Éß„ÉÉ„Éà](slingshot/index.html)  
[„É¢„É≥„Ç±„Éº„É≥](wreckingBall/index.html)  
[Áô∫Â∞ÑÂè∞](catapult/index.html)  

--></script>
<script
  class="download_content"
  name="density/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486546012963"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Åä„ÇÇ„Åï</title>
		<link rel="stylesheet" href="style.css" />
		<script src="density/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="density/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486716296196"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting.js';


World.add(world, [
	
	// „Åã„Çã„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(300, 430, 30, 500, {
		// „Åø„Å§Â∫¶Ôºà„Åä„ÇÇ„ÅïÔºâ
		density: 100,
		// Â∞ë„Åó„Å†„ÅëÂÇæ„Åë„Çã
		angle: 0.1,
		
	}),
	
	// „Åä„ÇÇ„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 430, 30, 500, {
		// „Åø„Å§Â∫¶Ôºà„Åä„ÇÇ„ÅïÔºâ
		density: 15,
		
	}),
	
]);


import './stage.js';

--></script>
<script
  class="download_content"
  name="density/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486550448183"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('density/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="density/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486550324396"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="engine.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Grid,
} from 'matter.js';

// create an engine
export default Engine.create({
	positionIterations: 6,
	velocityIterations: 4,
	constraintIterations: 2,
	enableSleeping: true,
	events: [],
	timing: {
		timestamp: 0,
		timeScale: 1
	},
	broadphase: {
		controller: Grid
	}
});

--></script>
<script
  class="download_content"
  name="engineConfigs.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486460114609"
  is-trashed
  
  type="hack"
><!--
export default {
	positionIterations: 6,
	velocityIterations: 4,
	constraintIterations: 2,
	enableSleeping: true,
	events: [],
	timing: {
		timestamp: 0,
		timeScale: 1
	},
	broadphase: {
		controller: Grid
	}
};

--></script>
<script
  class="download_content"
  name="events/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486632426110"
  
  
  type="hack"
><!--
# „Ç§„Éô„É≥„Éà


„ÅÇ„ÇãÂá∫Êù•‰∫ã„ÅåËµ∑„Åì„Å£„Åü„Å®„Åç„ÄÅ  
„ÅÇ„Çâ„Åã„Åò„ÇÅË®≠ÂÆö„Åó„Å¶„Åä„ÅÑ„ÅüÈñ¢Êï∞„ÇíÂÆüË°å„Åô„Çã‰ªïÁµÑ„Åø„ÅÆ„Åì„Å®„Çí„ÄÅ  
„Ç§„Éô„É≥„Éà„Å®Âëº„Å∂„Çà

„Åì„ÅÆ„Çµ„É≥„Éó„É´„Åß„ÅØ„ÄÅ  
- „Éû„Ç¶„Çπ„Åß„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åü
- ÔºïÁßí„Åü„Å£„ÅüÔºàÁπ∞„ÇäËøî„ÅôÔºâ  
„ÅÆ„Å©„Å°„Çâ„Åã„ÅÆÂá∫Êù•‰∫ã„ÅåËµ∑„Åì„Å£„Åü„Å®„Åç„ÄÅÁîªÈù¢ÂÖ®‰Ωì„Çí„Ç∑„Çß„Ç§„ÇØ„Åô„Çã„Çà

## ![ÊîπÈÄ†„Åô„Çã](events/main.js)

## „Ç§„Éô„É≥„Éà„ÅÆÁ®ÆÈ°û

Ë™∞„ÅåËµ∑„Åì„Åô„Ç§„Éô„É≥„Éà„Åã | „Ç§„Éô„É≥„Éà„ÅÆÂêçÂâç | ÊÑèÂë≥
--- | --- | ---
world | afterAdd | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇÑ„Çπ„Çø„ÉÉ„ÇØ„ÅåÊñ∞„Åó„ÅèËøΩÂä†„Åï„Çå„Åü„Å®„Åç
engine | beforeUpdate | ÂÆüË°å‰∏≠„ÅØÂ∏∏„Å´ÊØé„Éï„É¨„Éº„É†
engine | collisionStart | „ÅÑ„Åö„Çå„Åã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå„Åó„Çá„ÅÜÁ™Å„Åó„Åü„Å®„Åç
engine | collisionActive | „ÅÑ„Åö„Çå„Åã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå„Åó„Çá„ÅÜÁ™Å„ÅóÁ∂ö„Åë„Å¶„ÅÑ„ÇãÈñìÂ∏∏„Å´
engine | collisionEnd | „Åó„Çá„ÅÜÁ™Å„ÅåÁµÇ„Çè„Å£„ÅüÔºàÈõ¢„Çå„ÅüÔºâ„Å®„Åç
mouseConstraint | mousedown | „Éû„Ç¶„Çπ„ÅåÊäº„Åï„Çå„Åü„Å®„Åç
mouseConstraint | mouseup | „Éû„Ç¶„Çπ„ÅåÈõ¢„Çå„Åü„Åü„Å®„Åç
mouseConstraint | startdrag | „Éû„Ç¶„Çπ„Åå„Éâ„É©„ÉÉ„Ç∞„ÇíÂßã„ÇÅ„Åü„Å®„Åç
mouseConstraint | enddrag | „Éû„Ç¶„Çπ„Åå„Éâ„É©„ÉÉ„Ç∞„ÇíÁµÇ„Åà„Åü„Å®„Åç


## console.log „Å´„Å§„ÅÑ„Å¶

„ÅÇ„ÇãÂ§âÊï∞„ÅÆ‰∏≠Ë∫´„Çí„ÄÅ„Ç≥„É≥„ÇΩ„Éº„É´„Å®„ÅÑ„ÅÜÈÉ®ÂàÜ„Å´Ë°®Á§∫„Åô„ÇãÊ©üËÉΩ„Å†„Çà  
Á¢∫Ë™ç„Åô„Çã„Å´„ÅØ„ÄÅ„Éñ„É©„Ç¶„Ç∂„ÅÆ **ÈñãÁô∫ËÄÖ„ÉÑ„Éº„É´** „ÇíÈñã„Åì„ÅÜ

- Windows „ÅÆÂ†¥Âêà F12 „Ç≠„Éº
- Mac „ÅÆÂ†¥Âêà Alt + Cmd + I „Ç≠„Éº


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


- - -

## ÂøúÁî®‰æã

[„Çπ„É™„É≥„Ç∞„Ç∑„Éß„ÉÉ„Éà](slingshot/index.html)


--></script>
<script
  class="download_content"
  name="events/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Ç§„Éô„É≥„Éà</title>
		<link rel="stylesheet" href="style.css" />
		<script src="events/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="events/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;50fb1ba3fc27e894ac682a3e93863b47&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Body,
	Events,
	Composite,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);

Events.on(world, 'afterAdd', (event) => {
	// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇÑ„Çπ„Çø„ÉÉ„ÇØ„ÅåÊñ∞„Åó„ÅèËøΩÂä†„Åï„Çå„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	console.log('added to world:', event.object);

});

Events.on(engine, 'beforeUpdate', (event) => {
	// ÂÆüË°å‰∏≠„ÅØÂ∏∏„Å´ÊØé„Éï„É¨„Éº„É†„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	const engine = event.source;
	if (event.timestamp % 5000 < 50) {

		// 5Áßí„Åä„Åç„Å´„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		shakeScene(engine);

	}

});

Events.on(engine, 'collisionStart', (event) => {
	// „ÅÑ„Åö„Çå„Åã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå„Åó„Çá„ÅÜÁ™Å„Åó„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

	// „Åó„Çá„ÅÜÁ™Å„Åó„Åü‰∏°Êñπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆËâ≤„ÇíÂ§â„Åà„Çã
	for (const pair of event.pairs) {
		pair.bodyA.render.fillStyle = '#333';
		pair.bodyB.render.fillStyle = '#333';
	}

});

Events.on(engine, 'collisionActive', (event) => {
	// „ÅÑ„Åö„Çå„Åã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå„Åó„Çá„ÅÜÁ™Å„ÅóÁ∂ö„Åë„Å¶„ÅÑ„ÇãÈñìÂ∏∏„Å´„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

	// „Åó„Çá„ÅÜÁ™Å„Åó„Å¶„ÅÑ„Çã‰∏°Êñπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆËâ≤„ÇíÂ§â„Åà„Çã
	for (const pair of event.pairs) {
		pair.bodyA.render.fillStyle = '#333';
		pair.bodyB.render.fillStyle = '#333';
	}

});

Events.on(engine, 'collisionEnd', (event) => {
	// „Åó„Çá„ÅÜÁ™Å„ÅåÁµÇ„Çè„Å£„ÅüÔºàÈõ¢„Çå„ÅüÔºâ„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

	// Èõ¢„Çå„Åü‰∏°Êñπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆËâ≤„ÇíÂ§â„Åà„Çã	
	for (const pair of event.pairs) {
		pair.bodyA.render.fillStyle = '#222';
		pair.bodyB.render.fillStyle = '#222';
	}

});

const bodyStyle = {
	fillStyle: '#222'
};

World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
		render: bodyStyle
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
		render: bodyStyle
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
		render: bodyStyle
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
		render: bodyStyle
	})
]);

// È£õ„Å≥Âõû„Å£„Å¶„ÅÑ„ÇãÂÜÜ„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(70, 100, 9, 4, 50, 50, (x, y) => {
	return Bodies.circle(x, y, 15, {
		restitution: 1,
		render: bodyStyle
	});
});

World.add(world, stack);

// ÁîªÈù¢ÂÖ®‰Ωì„Çí„Ç∑„Çß„Ç§„ÇØÔºÅ
const shakeScene = (engine) => {
	const bodies = Composite.allBodies(engine.world);

	for (const body of bodies) {
		if (!body.isStatic && body.position.y >= 500) {
			const forceMagnitude = 0.02 * body.mass;

			Body.applyForce(body, body.position, {
				x: (forceMagnitude + Common.random() * forceMagnitude) * Common.choose([1, -1]),
				y: -forceMagnitude + Common.random() * -forceMagnitude
			});
		}
	}
};

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;

Events.on(mouseConstraint, 'mousedown', (event) => {
	// „Éû„Ç¶„Çπ„ÅåÊäº„Åï„Çå„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	const mousePosition = event.mouse.position;
	console.log('mousedown at ' + mousePosition.x + ' ' + mousePosition.y);
	shakeScene(engine);

});

Events.on(mouseConstraint, 'mouseup', (event) => {
	// „Éû„Ç¶„Çπ„ÅåÈõ¢„Çå„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	const mousePosition = event.mouse.position;
	console.log('mouseup at ' + mousePosition.x + ' ' + mousePosition.y);

});

Events.on(mouseConstraint, 'startdrag', (event) => {
	// „Éû„Ç¶„Çπ„Åå„Éâ„É©„ÉÉ„Ç∞„ÇíÂßã„ÇÅ„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	console.log('startdrag', event);

});

Events.on(mouseConstraint, 'enddrag', (event) => {
	// „Éû„Ç¶„Çπ„Åå„Éâ„É©„ÉÉ„Ç∞„ÇíÁµÇ„Åà„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	console.log('enddrag', event);

});


feeles.openReadme('events/README.md');
--></script>
<script
  class="download_content"
  name="feeles/codemirror.css"
  data-type="text/css"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
.CodeMirror {
	font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
	background-color: rgba(245, 245, 245, 1.0);
	/* 100%„ÄÄ„Å´„Åô„Çã„Å®„ÄÅ„ÉÄ„Éº„ÇØ„É¢„Éº„Éâ„Å´„Å™„Çã„Çà */
	filter: invert(0%);
}

.CodeMirror .cm-tab:before {
	visibility: hidden;
	content: '‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
	color: rgba(0, 0, 0, 0.1);
	border-left: 1px solid rgba(0, 0, 0, 0.1);
	position: absolute;
}

.CodeMirror-linenumber {
	color: rgba(153, 153, 153, 1.0);
}






























--></script>
<script
  class="download_content"
  name="feeles/codemirror.json"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
{
	"lineNumbers": true,
	"indentUnit": 4,
	"indentWithTabs": true,
	"matchBrackets": true,
	"autoCloseBrackets": true,
	"keyMap": "sublime",
	"scrollbarStyle": "simple",
	"foldGutter": true,
	"foldOptions": {
		"widget": "‚úß‚ü£‚ùÉ‚ü¢‚úß",
		"minFoldSize": 1,
		"scanUp": false
	}
}
--></script>
<script
  class="download_content"
  name="feeles/ogp.json"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
{
	"og:title": "„É¢„Éé„ÅÆÂãï„Åç„Ç∑„Éü„É•„É¨„Éº„Çø",
	"og:url": "https://teramotodaiki.github.io/matterjs-on-feeles/",
	"og:description": "È£õ„Å∞„Åó„Åü„Çä „Å∂„Å§„Åë„Åü„Çä Âõû„Åó„Åü„Çä „Å§„Å™„Åí„Åü„Çä‚Ä¶‚Ä¶Áâ©ÁêÜ„ÅÆ‰∏ñÁïå„Çí„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„Åß‰ΩìÈ®ì„Åó„Çà„ÅÜÔºÅ",
	"og:image": "https://embed.hackforplay.xyz/open-source/ogp/matter-ogp-image.png",
	"og:image:width": 1200,
	"og:image:height": 630,
	"twitter:card": "summary_large_image",
	"twitter:site": "@teramotodaiki",
	"twitter:title": "„É¢„Éé„ÅÆÂãï„Åç„Ç∑„Éü„É•„É¨„Éº„Çø",
	"twitter:description": "È£õ„Å∞„Åó„Åü„Çä „Å∂„Å§„Åë„Åü„Çä Âõû„Åó„Åü„Çä „Å§„Å™„Åí„Åü„Çä‚Ä¶‚Ä¶Áâ©ÁêÜ„ÅÆ‰∏ñÁïå„Çí„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„Åß‰ΩìÈ®ì„Åó„Çà„ÅÜÔºÅ",
	"twitter:image": "https://embed.hackforplay.xyz/open-source/ogp/matter-ogp-image.png",
	"fb:app_id": 1862685483943802
}

--></script>
<script
  class="download_content"
  name="free/Assets.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="0"
  is-trashed
  
  type="hack"
><!--
import {
	World,
	Bodies,
	Render,
	Engine,
} from 'matter';


import engine from 'engine';
import render from 'render';


// run the engine
Engine.run(engine);

// run the renderer
Render.run(render);


const Assets = {};

Object.keys(Bodies).forEach((shape) => {

	Assets[shape] = (...args) => {
		const self = Bodies[shape](...args);
		World.add(engine.world, self);
		return Promise.resolve(self);
	};

	Assets[shape + 'Sync'] = (...args) => {
		const self = Bodies[shape](...args);
		World.add(engine.world, self);
		return self;
	};

});

export default Assets;


--></script>
<script
  class="download_content"
  name="friction/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486468811805"
  
  
  type="hack"
><!--
# „Åæ„Åï„Å§Âäõ
> „Åæ„Åï„Å§-„Çä„Çá„Åè  
Êë©Êì¶Âäõ

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ [„Åæ„Åï„Å§Âäõ](https://ja.wikipedia.org/wiki/%E6%91%A9%E6%93%A6%E5%8A%9B)
„ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](friction/main.js)

|| ÊÑèÂë≥ | ÁØÑÂõ≤
--- | --- | --- 
friction | „Åæ„Åï„Å§„ÅÆÂ§ß„Åç„Åï | 0 ~ 1.0

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](friction/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](friction/stage.js)

- - -

## ÂøúÁî®‰æã







--></script>
<script
  class="download_content"
  name="friction/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Êë©Êì¶Âäõ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="friction/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="friction/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;9658a4a0e6b12e876e24551a957ecc57&quot;}]"
  data-last-modified="1486469544243"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [

	// ‰∏ä„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(300, 70, 40, 40, {
		// „Åæ„Åï„Å§Âäõ
		friction: 0.001,
		
	}),
	
	// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(300, 250, 40, 40, {
		// „Åæ„Åï„Å§Âäõ
		friction: 0.0005,
		
	}),
	
	// ‰∏ã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(300, 430, 40, 40, {
		// „Åæ„Åï„Å§Âäõ
		friction: 0,
		
	}),
	
]);


import './stage';

--></script>
<script
  class="download_content"
  name="friction/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486550399203"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('friction/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="friction/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486469211552"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// „Åã„Åπ
World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „ÇÜ„Åã
World.add(world, [
	Bodies.rectangle(300, 180, 700, 20, {
		isStatic: true,
		angle: Math.PI * 0.06
	}),
	Bodies.rectangle(300, 350, 700, 20, {
		isStatic: true,
		angle: Math.PI * 0.06
	}),
	Bodies.rectangle(300, 520, 700, 20, {
		isStatic: true,
		angle: Math.PI * 0.06
	}),
]);

--></script>
<script
  class="download_content"
  name="gravity/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486606208960"
  
  
  type="hack"
><!--
# ÈáçÂäõ

Á©∫Èñì„ÅÆ 
[ÈáçÂäõ](https://ja.wikipedia.org/wiki/%E9%87%8D%E5%8A%9B)
„ÇíÂ§â„Åà„Å¶„Åø„Åü


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

## ![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](gravity/main.js)

|| ÊÑèÂë≥ | 
--- | ---  
world.gravity.x | Âè≥Âêë„Åç„ÅÆÈáçÂäõ 
world.gravity.y | ‰∏ãÂêë„Åç„ÅÆÈáçÂäõ 

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](gravity/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](gravity/stage.js)
![„Çπ„Çø„ÉÉ„ÇØ](gravity/stack.js)


--></script>
<script
  class="download_content"
  name="gravity/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÈáçÂäõ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="gravity/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="gravity/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486606691858"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showVelocity = true;
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('gravity/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="gravity/stack.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486606741337"
  
  
  type="hack"
><!--
import {
	Composites,
	Common,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
	Composites.stack(50, 120, 11, 5, 0, 0, (x, y) => {
		
		// „É©„É≥„ÉÄ„É†„Å´ÂΩ¢„ÇÑÂ§ß„Åç„Åï„ÇíÂ§â„Åà„Çã
		if (Common.random(0, 1) < 0.5) {
			if (Common.random() < 0.8) {
				return Bodies.rectangle(x, y, Common.random(20, 50), Common.random(20, 50));
			} else {
				return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30));
			}
		} else {
			return Bodies.polygon(x, y, Math.round(Common.random(1, 8)), Common.random(20, 50));
		}
		
	}),
	
]);


--></script>
<script
  class="download_content"
  name="gravity/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486606726374"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50.5, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	})
]);


--></script>
<script
  class="download_content"
  name="gyro/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486428815812"
  
  
  type="hack"
><!--
# „Ç∏„É£„Ç§„É≠„Çª„É≥„Çµ„Éº


„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥„ÅÆ„Ç∏„É£„Ç§„É≠„Çª„É≥„Çµ„Éº„Çí‰Ωø„Å£„Å¶„ÄÅÈáçÂäõ„ÇíÊìç‰Ωú„Åô„Çã„Çà

„Éë„ÇΩ„Ç≥„É≥„Åã„Çâ„ÅØ„Ç∏„É£„Ç§„É≠„Çª„É≥„Çµ„Éº„Çí‰Ωø„Åà„Å™„ÅÑ„ÅÆ„Åß„ÄÅÊ≥®ÊÑè„Åó„Å¶„Å≠


## ![ÊîπÈÄ†„Åô„Çã](gyro/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="gyro/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Ç∏„É£„Ç§„É≠„Çª„É≥„Çµ„Éº</title>
		<link rel="stylesheet" href="style.css" />
		<script src="gyro/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="gyro/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;86f8bb1fc8acfb24777ad698f0698cb0&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(20, 20, 10, 5, 0, 0, (x, y) => {
	const _sides = Math.round(Common.random(1, 8));

	// 3 „Å†„Å®ËâØ„Åè„Å™„ÅÑ„ÅÆ„Åß„ÄÅ‰ª£„Çè„Çä„Å´ 4 „Å´„Åô„Çã
	const sides = (_sides === 3) ? 4 : _sides;

	// „Åü„Åæ„Å´Ëßí„Çí‰∏∏„Åè„Åô„Çã
	const chamfer = sides > 2 && Common.random() > 0.7 ? {
		radius: 10
	} : null;

	switch (Math.round(Common.random(0, 1))) {
		case 0:
			if (Common.random() < 0.8) {
				return Bodies.rectangle(x, y, Common.random(25, 50), Common.random(25, 50), {
					chamfer: chamfer
				});
			} else {
				return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(25, 30), {
					chamfer: chamfer
				});
			}
			break;
		case 1:
			return Bodies.polygon(x, y, sides, Common.random(25, 50), {
				chamfer: chamfer
			});
	}
});

World.add(world, [
	stack,
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „Ç∏„É£„Ç§„É≠„Çª„É≥„Çµ„Éº„ÅÆÊìç‰Ωú
const updateGravity = (event) => {
	const orientation = typeof window.orientation !== 'undefined' ? window.orientation : 0;
	const gravity = world.gravity;

	if (orientation === 0) {
		gravity.x = Common.clamp(event.gamma, -90, 90) / 90;
		gravity.y = Common.clamp(event.beta, -90, 90) / 90;
	} else if (orientation === 180) {
		gravity.x = Common.clamp(event.gamma, -90, 90) / 90;
		gravity.y = Common.clamp(-event.beta, -90, 90) / 90;
	} else if (orientation === 90) {
		gravity.x = Common.clamp(event.beta, -90, 90) / 90;
		gravity.y = Common.clamp(-event.gamma, -90, 90) / 90;
	} else if (orientation === -90) {
		gravity.x = Common.clamp(-event.beta, -90, 90) / 90;
		gravity.y = Common.clamp(event.gamma, -90, 90) / 90;
	}
};

window.addEventListener('deviceorientation', updateGravity);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('gyro/README.md');

--></script>
<script
  class="download_content"
  name="isStatic/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486703159276"
  
  
  type="hack"
><!--
# „Åã„Åπ„Éª„ÇÜ„Åã

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí **ÈùôÊ≠¢„Åï„Åõ„Å¶„ÄÅ** „Åã„Åπ„Å®„ÇÜ„Åã„Çí„Å§„Åè„Å£„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](isStatic/main.js)


|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ 
--- | --- | --- 
isStatic | ÈùôÊ≠¢„Åô„Çã„Åã„Å©„ÅÜ„Åã | `true` „Å™„ÇâÈùôÊ≠¢ `false` „Å™„ÇâÂãï„Åè

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](isStatic/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](isStatic/stage.js)

- - -

## ÂøúÁî®‰æã

[Áô∫Â∞ÑÂè∞](catapult/index.html)

--></script>
<script
  class="download_content"
  name="isStatic/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486542672442"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Åã„Åπ„Éª„ÇÜ„Åã</title>
		<link rel="stylesheet" href="style.css" />
		<script src="isStatic/main.js"></script>
</head>
<body>
</body>
</html>
--></script>
<script
  class="download_content"
  name="isStatic/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486543782761"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
		
	// „ÇÜ„Åã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 400, 600, 10, {
		// ÈùôÊ≠¢„Åô„Çã„Éï„É©„Ç∞
		isStatic: true,
		
	}),
	
	// „Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 300, 10, 400, {
		// ÈùôÊ≠¢„Åô„Çã„Éï„É©„Ç∞
		isStatic: true,
		
	}),
	
	// Âãï„Åè„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 200, 70, 70, {
		// ÈùôÊ≠¢„Åô„Çã„Éï„É©„Ç∞„ÄÄÔºàÂÖÉ„Åã„Çâ false „Å™„ÅÆ„Åß„ÄÅÊõ∏„Åã„Å™„Åè„Å¶„ÇÇ„ÅÑ„ÅÑÔºâ
		isStatic: false,
		
	}),

	
]);


import './stage';

--></script>
<script
  class="download_content"
  name="isStatic/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486542843839"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showVelocity = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('isStatic/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="isStatic/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486543073012"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

--></script>
<script
  class="download_content"
  name="lib/decomp.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2013 Stefan Hedman&quot;,&quot;url&quot;:&quot;http://schteppe.github.io/poly-decomp.js/&quot;,&quot;timestamp&quot;:1485698748102,&quot;hash&quot;:&quot;d90b23c0e6620e986d91abe3e856ed09&quot;}]"
  data-last-modified="0"
  
  no-babel
  type="hack"
><!--
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.decomp=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
module.exports = {
    decomp: polygonDecomp,
    quickDecomp: polygonQuickDecomp,
    isSimple: polygonIsSimple,
    removeCollinearPoints: polygonRemoveCollinearPoints,
    makeCCW: polygonMakeCCW
};

/**
 * Compute the intersection between two lines.
 * @static
 * @method lineInt
 * @param  {Array}  l1          Line vector 1
 * @param  {Array}  l2          Line vector 2
 * @param  {Number} precision   Precision to use when checking if the lines are parallel
 * @return {Array}              The intersection point.
 */
function lineInt(l1,l2,precision){
    precision = precision || 0;
    var i = [0,0]; // point
    var a1, b1, c1, a2, b2, c2, det; // scalars
    a1 = l1[1][1] - l1[0][1];
    b1 = l1[0][0] - l1[1][0];
    c1 = a1 * l1[0][0] + b1 * l1[0][1];
    a2 = l2[1][1] - l2[0][1];
    b2 = l2[0][0] - l2[1][0];
    c2 = a2 * l2[0][0] + b2 * l2[0][1];
    det = a1 * b2 - a2*b1;
    if (!scalar_eq(det, 0, precision)) { // lines are not parallel
        i[0] = (b2 * c1 - b1 * c2) / det;
        i[1] = (a1 * c2 - a2 * c1) / det;
    }
    return i;
}

/**
 * Checks if two line segments intersects.
 * @method segmentsIntersect
 * @param {Array} p1 The start vertex of the first line segment.
 * @param {Array} p2 The end vertex of the first line segment.
 * @param {Array} q1 The start vertex of the second line segment.
 * @param {Array} q2 The end vertex of the second line segment.
 * @return {Boolean} True if the two line segments intersect
 */
function lineSegmentsIntersect(p1, p2, q1, q2){
	var dx = p2[0] - p1[0];
	var dy = p2[1] - p1[1];
	var da = q2[0] - q1[0];
	var db = q2[1] - q1[1];

	// segments are parallel
	if((da*dy - db*dx) === 0){
		return false;
	}

	var s = (dx * (q1[1] - p1[1]) + dy * (p1[0] - q1[0])) / (da * dy - db * dx);
	var t = (da * (p1[1] - q1[1]) + db * (q1[0] - p1[0])) / (db * dx - da * dy);

	return (s>=0 && s<=1 && t>=0 && t<=1);
}

/**
 * Get the area of a triangle spanned by the three given points. Note that the area will be negative if the points are not given in counter-clockwise order.
 * @static
 * @method area
 * @param  {Array} a
 * @param  {Array} b
 * @param  {Array} c
 * @return {Number}
 */
function triangleArea(a,b,c){
    return (((b[0] - a[0])*(c[1] - a[1]))-((c[0] - a[0])*(b[1] - a[1])));
}

function isLeft(a,b,c){
    return triangleArea(a,b,c) > 0;
}

function isLeftOn(a,b,c) {
    return triangleArea(a, b, c) >= 0;
}

function isRight(a,b,c) {
    return triangleArea(a, b, c) < 0;
}

function isRightOn(a,b,c) {
    return triangleArea(a, b, c) <= 0;
}

var tmpPoint1 = [],
    tmpPoint2 = [];

/**
 * Check if three points are collinear
 * @method collinear
 * @param  {Array} a
 * @param  {Array} b
 * @param  {Array} c
 * @param  {Number} [thresholdAngle=0] Threshold angle to use when comparing the vectors. The function will return true if the angle between the resulting vectors is less than this value. Use zero for max precision.
 * @return {Boolean}
 */
function collinear(a,b,c,thresholdAngle) {
    if(!thresholdAngle){
        return triangleArea(a, b, c) === 0;
    } else {
        var ab = tmpPoint1,
            bc = tmpPoint2;

        ab[0] = b[0]-a[0];
        ab[1] = b[1]-a[1];
        bc[0] = c[0]-b[0];
        bc[1] = c[1]-b[1];

        var dot = ab[0]*bc[0] + ab[1]*bc[1],
            magA = Math.sqrt(ab[0]*ab[0] + ab[1]*ab[1]),
            magB = Math.sqrt(bc[0]*bc[0] + bc[1]*bc[1]),
            angle = Math.acos(dot/(magA*magB));
        return angle < thresholdAngle;
    }
}

function sqdist(a,b){
    var dx = b[0] - a[0];
    var dy = b[1] - a[1];
    return dx * dx + dy * dy;
}

/**
 * Get a vertex at position i. It does not matter if i is out of bounds, this function will just cycle.
 * @method at
 * @param  {Number} i
 * @return {Array}
 */
function polygonAt(polygon, i){
    var s = polygon.length;
    return polygon[i < 0 ? i % s + s : i % s];
}

/**
 * Clear the polygon data
 * @method clear
 * @return {Array}
 */
function polygonClear(polygon){
    polygon.length = 0;
}

/**
 * Append points "from" to "to"-1 from an other polygon "poly" onto this one.
 * @method append
 * @param {Polygon} poly The polygon to get points from.
 * @param {Number}  from The vertex index in "poly".
 * @param {Number}  to The end vertex index in "poly". Note that this vertex is NOT included when appending.
 * @return {Array}
 */
function polygonAppend(polygon, poly, from, to){
    for(var i=from; i<to; i++){
        polygon.push(poly[i]);
    }
}

/**
 * Make sure that the polygon vertices are ordered counter-clockwise.
 * @method makeCCW
 */
function polygonMakeCCW(polygon){
    var br = 0,
        v = polygon;

    // find bottom right point
    for (var i = 1; i < polygon.length; ++i) {
        if (v[i][1] < v[br][1] || (v[i][1] === v[br][1] && v[i][0] > v[br][0])) {
            br = i;
        }
    }

    // reverse poly if clockwise
    if (!isLeft(polygonAt(polygon, br - 1), polygonAt(polygon, br), polygonAt(polygon, br + 1))) {
        polygonReverse(polygon);
    }
}

/**
 * Reverse the vertices in the polygon
 * @method reverse
 */
function polygonReverse(polygon){
    var tmp = [];
    var N = polygon.length;
    for(var i=0; i!==N; i++){
        tmp.push(polygon.pop());
    }
    for(var i=0; i!==N; i++){
		polygon[i] = tmp[i];
    }
}

/**
 * Check if a point in the polygon is a reflex point
 * @method isReflex
 * @param  {Number}  i
 * @return {Boolean}
 */
function polygonIsReflex(polygon, i){
    return isRight(polygonAt(polygon, i - 1), polygonAt(polygon, i), polygonAt(polygon, i + 1));
}

var tmpLine1=[],
    tmpLine2=[];

/**
 * Check if two vertices in the polygon can see each other
 * @method canSee
 * @param  {Number} a Vertex index 1
 * @param  {Number} b Vertex index 2
 * @return {Boolean}
 */
function polygonCanSee(polygon, a,b) {
    var p, dist, l1=tmpLine1, l2=tmpLine2;

    if (isLeftOn(polygonAt(polygon, a + 1), polygonAt(polygon, a), polygonAt(polygon, b)) && isRightOn(polygonAt(polygon, a - 1), polygonAt(polygon, a), polygonAt(polygon, b))) {
        return false;
    }
    dist = sqdist(polygonAt(polygon, a), polygonAt(polygon, b));
    for (var i = 0; i !== polygon.length; ++i) { // for each edge
        if ((i + 1) % polygon.length === a || i === a){ // ignore incident edges
            continue;
        }
        if (isLeftOn(polygonAt(polygon, a), polygonAt(polygon, b), polygonAt(polygon, i + 1)) && isRightOn(polygonAt(polygon, a), polygonAt(polygon, b), polygonAt(polygon, i))) { // if diag intersects an edge
            l1[0] = polygonAt(polygon, a);
            l1[1] = polygonAt(polygon, b);
            l2[0] = polygonAt(polygon, i);
            l2[1] = polygonAt(polygon, i + 1);
            p = lineInt(l1,l2);
            if (sqdist(polygonAt(polygon, a), p) < dist) { // if edge is blocking visibility to b
                return false;
            }
        }
    }

    return true;
}

/**
 * Copy the polygon from vertex i to vertex j.
 * @method copy
 * @param  {Number} i
 * @param  {Number} j
 * @param  {Polygon} [targetPoly]   Optional target polygon to save in.
 * @return {Polygon}                The resulting copy.
 */
function polygonCopy(polygon, i,j,targetPoly){
    var p = targetPoly || [];
    polygonClear(p);
    if (i < j) {
        // Insert all vertices from i to j
        for(var k=i; k<=j; k++){
            p.push(polygon[k]);
        }

    } else {

        // Insert vertices 0 to j
        for(var k=0; k<=j; k++){
            p.push(polygon[k]);
        }

        // Insert vertices i to end
        for(var k=i; k<polygon.length; k++){
            p.push(polygon[k]);
        }
    }

    return p;
}

/**
 * Decomposes the polygon into convex pieces. Returns a list of edges [[p1,p2],[p2,p3],...] that cuts the polygon.
 * Note that this algorithm has complexity O(N^4) and will be very slow for polygons with many vertices.
 * @method getCutEdges
 * @return {Array}
 */
function polygonGetCutEdges(polygon) {
    var min=[], tmp1=[], tmp2=[], tmpPoly = [];
    var nDiags = Number.MAX_VALUE;

    for (var i = 0; i < polygon.length; ++i) {
        if (polygonIsReflex(polygon, i)) {
            for (var j = 0; j < polygon.length; ++j) {
                if (polygonCanSee(polygon, i, j)) {
                    tmp1 = polygonGetCutEdges(polygonCopy(polygon, i, j, tmpPoly));
                    tmp2 = polygonGetCutEdges(polygonCopy(polygon, j, i, tmpPoly));

                    for(var k=0; k<tmp2.length; k++){
                        tmp1.push(tmp2[k]);
                    }

                    if (tmp1.length < nDiags) {
                        min = tmp1;
                        nDiags = tmp1.length;
                        min.push([polygonAt(polygon, i), polygonAt(polygon, j)]);
                    }
                }
            }
        }
    }

    return min;
}

/**
 * Decomposes the polygon into one or more convex sub-Polygons.
 * @method decomp
 * @return {Array} An array or Polygon objects.
 */
function polygonDecomp(polygon){
    var edges = polygonGetCutEdges(polygon);
    if(edges.length > 0){
        return polygonSlice(polygon, edges);
    } else {
        return [polygon];
    }
}

/**
 * Slices the polygon given one or more cut edges. If given one, this function will return two polygons (false on failure). If many, an array of polygons.
 * @method slice
 * @param {Array} cutEdges A list of edges, as returned by .getCutEdges()
 * @return {Array}
 */
function polygonSlice(polygon, cutEdges){
    if(cutEdges.length === 0){
		return [polygon];
    }
    if(cutEdges instanceof Array && cutEdges.length && cutEdges[0] instanceof Array && cutEdges[0].length===2 && cutEdges[0][0] instanceof Array){

        var polys = [polygon];

        for(var i=0; i<cutEdges.length; i++){
            var cutEdge = cutEdges[i];
            // Cut all polys
            for(var j=0; j<polys.length; j++){
                var poly = polys[j];
                var result = polygonSlice(poly, cutEdge);
                if(result){
                    // Found poly! Cut and quit
                    polys.splice(j,1);
                    polys.push(result[0],result[1]);
                    break;
                }
            }
        }

        return polys;
    } else {

        // Was given one edge
        var cutEdge = cutEdges;
        var i = polygon.indexOf(cutEdge[0]);
        var j = polygon.indexOf(cutEdge[1]);

        if(i !== -1 && j !== -1){
            return [polygonCopy(polygon, i,j),
                    polygonCopy(polygon, j,i)];
        } else {
            return false;
        }
    }
}

/**
 * Checks that the line segments of this polygon do not intersect each other.
 * @method isSimple
 * @param  {Array} path An array of vertices e.g. [[0,0],[0,1],...]
 * @return {Boolean}
 * @todo Should it check all segments with all others?
 */
function polygonIsSimple(polygon){
    var path = polygon, i;
    // Check
    for(i=0; i<path.length-1; i++){
        for(var j=0; j<i-1; j++){
            if(lineSegmentsIntersect(path[i], path[i+1], path[j], path[j+1] )){
                return false;
            }
        }
    }

    // Check the segment between the last and the first point to all others
    for(i=1; i<path.length-2; i++){
        if(lineSegmentsIntersect(path[0], path[path.length-1], path[i], path[i+1] )){
            return false;
        }
    }

    return true;
}

function getIntersectionPoint(p1, p2, q1, q2, delta){
	delta = delta || 0;
	var a1 = p2[1] - p1[1];
	var b1 = p1[0] - p2[0];
	var c1 = (a1 * p1[0]) + (b1 * p1[1]);
	var a2 = q2[1] - q1[1];
	var b2 = q1[0] - q2[0];
	var c2 = (a2 * q1[0]) + (b2 * q1[1]);
	var det = (a1 * b2) - (a2 * b1);

	if(!scalar_eq(det,0,delta)){
		return [((b2 * c1) - (b1 * c2)) / det, ((a1 * c2) - (a2 * c1)) / det];
	} else {
		return [0,0];
    }
}

/**
 * Quickly decompose the Polygon into convex sub-polygons.
 * @method quickDecomp
 * @param  {Array} result
 * @param  {Array} [reflexVertices]
 * @param  {Array} [steinerPoints]
 * @param  {Number} [delta]
 * @param  {Number} [maxlevel]
 * @param  {Number} [level]
 * @return {Array}
 */
function polygonQuickDecomp(polygon, result,reflexVertices,steinerPoints,delta,maxlevel,level){
    maxlevel = maxlevel || 100;
    level = level || 0;
    delta = delta || 25;
    result = typeof(result)!=="undefined" ? result : [];
    reflexVertices = reflexVertices || [];
    steinerPoints = steinerPoints || [];

    var upperInt=[0,0], lowerInt=[0,0], p=[0,0]; // Points
    var upperDist=0, lowerDist=0, d=0, closestDist=0; // scalars
    var upperIndex=0, lowerIndex=0, closestIndex=0; // Integers
    var lowerPoly=[], upperPoly=[]; // polygons
    var poly = polygon,
        v = polygon;

    if(v.length < 3){
		return result;
    }

    level++;
    if(level > maxlevel){
        console.warn("quickDecomp: max level ("+maxlevel+") reached.");
        return result;
    }

    for (var i = 0; i < polygon.length; ++i) {
        if (polygonIsReflex(poly, i)) {
            reflexVertices.push(poly[i]);
            upperDist = lowerDist = Number.MAX_VALUE;


            for (var j = 0; j < polygon.length; ++j) {
                if (isLeft(polygonAt(poly, i - 1), polygonAt(poly, i), polygonAt(poly, j)) && isRightOn(polygonAt(poly, i - 1), polygonAt(poly, i), polygonAt(poly, j - 1))) { // if line intersects with an edge
                    p = getIntersectionPoint(polygonAt(poly, i - 1), polygonAt(poly, i), polygonAt(poly, j), polygonAt(poly, j - 1)); // find the point of intersection
                    if (isRight(polygonAt(poly, i + 1), polygonAt(poly, i), p)) { // make sure it's inside the poly
                        d = sqdist(poly[i], p);
                        if (d < lowerDist) { // keep only the closest intersection
                            lowerDist = d;
                            lowerInt = p;
                            lowerIndex = j;
                        }
                    }
                }
                if (isLeft(polygonAt(poly, i + 1), polygonAt(poly, i), polygonAt(poly, j + 1)) && isRightOn(polygonAt(poly, i + 1), polygonAt(poly, i), polygonAt(poly, j))) {
                    p = getIntersectionPoint(polygonAt(poly, i + 1), polygonAt(poly, i), polygonAt(poly, j), polygonAt(poly, j + 1));
                    if (isLeft(polygonAt(poly, i - 1), polygonAt(poly, i), p)) {
                        d = sqdist(poly[i], p);
                        if (d < upperDist) {
                            upperDist = d;
                            upperInt = p;
                            upperIndex = j;
                        }
                    }
                }
            }

            // if there are no vertices to connect to, choose a point in the middle
            if (lowerIndex === (upperIndex + 1) % polygon.length) {
                //console.log("Case 1: Vertex("+i+"), lowerIndex("+lowerIndex+"), upperIndex("+upperIndex+"), poly.size("+polygon.length+")");
                p[0] = (lowerInt[0] + upperInt[0]) / 2;
                p[1] = (lowerInt[1] + upperInt[1]) / 2;
                steinerPoints.push(p);

                if (i < upperIndex) {
                    //lowerPoly.insert(lowerPoly.end(), poly.begin() + i, poly.begin() + upperIndex + 1);
                    polygonAppend(lowerPoly, poly, i, upperIndex+1);
                    lowerPoly.push(p);
                    upperPoly.push(p);
                    if (lowerIndex !== 0){
                        //upperPoly.insert(upperPoly.end(), poly.begin() + lowerIndex, poly.end());
                        polygonAppend(upperPoly, poly,lowerIndex,poly.length);
                    }
                    //upperPoly.insert(upperPoly.end(), poly.begin(), poly.begin() + i + 1);
                    polygonAppend(upperPoly, poly,0,i+1);
                } else {
                    if (i !== 0){
                        //lowerPoly.insert(lowerPoly.end(), poly.begin() + i, poly.end());
                        polygonAppend(lowerPoly, poly,i,poly.length);
                    }
                    //lowerPoly.insert(lowerPoly.end(), poly.begin(), poly.begin() + upperIndex + 1);
                    polygonAppend(lowerPoly, poly,0,upperIndex+1);
                    lowerPoly.push(p);
                    upperPoly.push(p);
                    //upperPoly.insert(upperPoly.end(), poly.begin() + lowerIndex, poly.begin() + i + 1);
                    polygonAppend(upperPoly, poly,lowerIndex,i+1);
                }
            } else {
                // connect to the closest point within the triangle
                //console.log("Case 2: Vertex("+i+"), closestIndex("+closestIndex+"), poly.size("+polygon.length+")\n");

                if (lowerIndex > upperIndex) {
                    upperIndex += polygon.length;
                }
                closestDist = Number.MAX_VALUE;

                if(upperIndex < lowerIndex){
                    return result;
                }

                for (var j = lowerIndex; j <= upperIndex; ++j) {
                    if (isLeftOn(polygonAt(poly, i - 1), polygonAt(poly, i), polygonAt(poly, j)) && isRightOn(polygonAt(poly, i + 1), polygonAt(poly, i), polygonAt(poly, j))) {
                        d = sqdist(polygonAt(poly, i), polygonAt(poly, j));
                        if (d < closestDist) {
                            closestDist = d;
                            closestIndex = j % polygon.length;
                        }
                    }
                }

                if (i < closestIndex) {
                    polygonAppend(lowerPoly, poly,i,closestIndex+1);
                    if (closestIndex !== 0){
                        polygonAppend(upperPoly, poly,closestIndex,v.length);
                    }
                    polygonAppend(upperPoly, poly,0,i+1);
                } else {
                    if (i !== 0){
                        polygonAppend(lowerPoly, poly,i,v.length);
                    }
                    polygonAppend(lowerPoly, poly,0,closestIndex+1);
                    polygonAppend(upperPoly, poly,closestIndex,i+1);
                }
            }

            // solve smallest poly first
            if (lowerPoly.length < upperPoly.length) {
                polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);
                polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);
            } else {
                polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);
                polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);
            }

            return result;
        }
    }
    result.push(polygon);

    return result;
}

/**
 * Remove collinear points in the polygon.
 * @method removeCollinearPoints
 * @param  {Number} [precision] The threshold angle to use when determining whether two edges are collinear. Use zero for finest precision.
 * @return {Number}           The number of points removed
 */
function polygonRemoveCollinearPoints(polygon, precision){
    var num = 0;
    for(var i=polygon.length-1; polygon.length>3 && i>=0; --i){
        if(collinear(polygonAt(polygon, i-1),polygonAt(polygon, i),polygonAt(polygon, i+1),precision)){
            // Remove the middle point
            polygon.splice(i%polygon.length,1);
            num++;
        }
    }
    return num;
}

/**
 * Check if two scalars are equal
 * @static
 * @method eq
 * @param  {Number} a
 * @param  {Number} b
 * @param  {Number} [precision]
 * @return {Boolean}
 */
function scalar_eq(a,b,precision){
    precision = precision || 0;
    return Math.abs(a-b) < precision;
}

},{}]},{},[1])
(1)
});

--></script>
<script
  class="download_content"
  name="lib/interrupt.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;(c) 2017 Teramoto Daiki&quot;,&quot;url&quot;:&quot;https://twitter.com/teramotodaiki&quot;,&quot;timestamp&quot;:1485781596564,&quot;hash&quot;:&quot;e5a7a17b6ea46a8e81b84361e025cbea&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
const a_href = false;
const img_src = true;
const audio_src = false;
const script_src = false;
const xhr_url = false;

// Hyper link
if (a_href) {
	const hrefLoader = (node, href, set) => {
		set(`javascript: feeles.replace('${href}');`);
	};
	interruptSetter(HTMLAnchorElement, 'href', hrefLoader);
}

// Image source
if (img_src) {
	interruptSetter(HTMLImageElement, 'src', resourceLoader);
}

// Audio source
if (audio_src) {
	interruptSetter(HTMLAudioElement, 'src', resourceLoader);
}

// Script source
if (script_src) {
	interruptSetter(HTMLScriptElement, 'src', resourceLoader);
}

// XHR open()
if (xhr_url) {
	interruptXHR(XMLHttpRequest);
}

/**
 * @param node: HTMLElement
 * @param src: String
 * @param set: Function
 */
function resourceLoader(node, src, set) {

	if (!isSameOrigin(src)) {
		set(src);
		return;
	}
	// If relative path:
	feeles.fetch(getFeelesName(src))
		.then(response => response.blob())
		.then((blob) => {
			const url = URL.createObjectURL(blob);
			const revokeHandler = () => {
				node.removeEventListener('load', revokeHandler);
				node.removeEventListener('error', revokeHandler);
				URL.revokeObjectURL(url);
			};
			node.addEventListener('load', revokeHandler);
			node.addEventListener('error', revokeHandler);

			set(url);
		});

}

/**
 * @param constructor: HTMLElement
 * @param attr: String
 * @param delegate: Function(
 *	 node: HTMLElement,
 *	 value: any,
 *	 set: Function
 * )
 */
function interruptSetter(constructor, attr, delegate) {

	const proto = constructor.prototype;
	const desc = Object.getOwnPropertyDescriptor(proto, attr);
	Object.defineProperty(proto, attr, {
		set: function(value) {
			delegate(this, value, desc.set.bind(this));
		}
	});

}

/**
 * @param constructor: XMLHttpRequest
 * @param attr: String
 * @param delegate: Function(
 *	 node: HTMLElement,
 *	 value: any,
 *	 set: Function
 * )
 */
function interruptXHR(constructor) {
	const {
		open,
		send
	} = constructor.prototype;

	Object.defineProperty(constructor.prototype, 'open', {
		value: interruptOpen,
	});

	function interruptOpen(_method, _url, _async = true, _user = '', _password = '') {
		if (_async === false) {
			throw new Error('feeles.XMLHttpRequest does not support synchronization requests.');
		}
		if (!isSameOrigin(_url)) {
			open.call(this, _method, _url, _async, _user, _password);
			return;
		}
		this.send = function(...sendArgs) {
			feeles.fetch(getFeelesName(_url))
				.then((response) => response.blob())
				.then((blob) => {
					const url = URL.createObjectURL(blob);

					const revokeHandler = () => {
						this.removeEventListener('load', revokeHandler);
						this.removeEventListener('error', revokeHandler);
						this.removeEventListener('abort', revokeHandler);
						URL.revokeObjectURL(url);
					};

					this.addEventListener('load', revokeHandler);
					this.addEventListener('error', revokeHandler);
					this.addEventListener('abort', revokeHandler);

					open.call(this, _method, url, _async, _user, _password);
					send.apply(this, sendArgs);
				});
		};
	}

}



const currentOrigin = getOrigin('');
const baseURL = (() => {
	const a = document.createElement('a');
	a.href = '';

	if (!a.href) {
		return '';
	}

	// 	If a.origin === "null" (e.g. Open in Blob URL), a.pathname doesn't work.
	if (a.origin === "null") {
		return 'http://fake.origin/';
	}

	const index = a.href.lastIndexOf('/');
	return a.href.substr(0, index + 1);
})();

/**
 * @param url: String
 * @return String
 */
function getFeelesName(url) {
	if (baseURL && typeof URL === 'function') {
		const fullPath = new URL(url, baseURL).href;
		return fullPath.substr(baseURL.length);
	}
	return url;
}

/**
 * @param url: String
 * @return Boolean
 */
function isSameOrigin(url) {
	return getOrigin(url) === currentOrigin;
}

/**
 * @param url: String
 * @return String
 */
function getOrigin(url) {
	const a = document.createElement('a');
	a.href = url;
	return a.origin;
}
--></script>
<script
  class="download_content"
  name="lib/matter-tools.demo.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748107,&quot;hash&quot;:&quot;b5465215b5c0f311aba0ea87adeb7952&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
/*!
 * matter-tools 0.9.1 by Liam Brummitt 2017-01-26
 * https://github.com/liabru/matter-tools
 * License MIT
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("Matter"), require("MatterTools"));
	else if(typeof define === 'function' && define.amd)
		define(["Matter", "MatterTools"], factory);
	else if(typeof exports === 'object')
		exports["Demo"] = factory(require("Matter"), require("MatterTools"));
	else
		root["MatterTools"] = root["MatterTools"] || {}, root["MatterTools"]["Demo"] = factory(root["Matter"], root["MatterTools"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/demo/lib";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	/**
	 * A tool for for running and testing example scenes.
	 * @module Demo
	 */

	var Matter = __webpack_require__(1);
	var Common = Matter.Common;
	var Demo = module.exports = {};
	var Gui = __webpack_require__(2).Gui;
	var Inspector = __webpack_require__(2).Inspector;
	var ToolsCommon = __webpack_require__(3);

	Demo._isIOS = window.navigator && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

	Demo._matterLink = 'http://brm.io/matter-js/';

	/**
	 * Creates a new demo instance.
	 * See example for options and usage.
	 * @function Demo.create
	 * @param {} options
	 */
	Demo.create = function (options) {
	  var demo = Object.assign({
	    example: {
	      instance: null
	    },
	    examples: [],
	    resetOnOrientation: false,
	    preventZoom: false,
	    inline: false,
	    toolbar: {
	      title: null,
	      url: null,
	      reset: true,
	      source: false,
	      inspector: false,
	      tools: false,
	      fullscreen: true,
	      exampleSelect: false
	    },
	    tools: {
	      inspector: null,
	      gui: null
	    },
	    dom: {}
	  }, options || {});

	  if (demo.examples.length > 1 && options.toolbar.exampleSelect !== false) {
	    demo.toolbar.exampleSelect = true;
	  }

	  if (Demo._isIOS) {
	    demo.toolbar.fullscreen = false;
	  }

	  if (!Gui) {
	    demo.toolbar.tools = false;
	    demo.tools.gui = false;
	  }

	  if (!Inspector) {
	    demo.toolbar.inspector = false;
	    demo.tools.inspector = false;
	  }

	  demo.dom = Demo._createDom(demo);
	  Demo._bindDom(demo);

	  if (options.inline) {
	    demo.dom.root.classList.add('matter-demo-inline');
	  }

	  return demo;
	};

	/**
	 * Starts a new demo instance by running the first or given example.
	 * See example for options and usage.
	 * @function Demo.start
	 * @param {demo} demo
	 * @param {string} [initalExampleId] example to start (defaults to first)
	 */
	Demo.start = function (demo, initalExampleId) {
	  initalExampleId = initalExampleId || demo.examples[0].id;

	  if (window.location.hash.length > 0) {
	    initalExampleId = window.location.hash.slice(1);
	  }

	  Demo.setExampleById(demo, initalExampleId);
	};

	/**
	 * Stops the currently running example in the demo.
	 * This requires that the `example.init` function returned 
	 * an object specifiying a `stop` function.
	 * @function Demo.stop
	 * @param {demo} demo
	 */
	Demo.stop = function (demo) {
	  if (demo.example && demo.example.instance) {
	    demo.example.instance.stop();
	  }
	};

	/**
	 * Stops and restarts the currently running example.
	 * @function Demo.reset
	 * @param {demo} demo
	 */
	Demo.reset = function (demo) {
	  Common._nextId = 0;
	  Common._seed = 0;

	  Demo.setExample(demo, demo.example);
	};

	/**
	 * Starts the given example by its id. 
	 * Any running example will be stopped.
	 * @function Demo.setExampleById
	 * @param {demo} demo
	 * @param {string} exampleId 
	 */
	Demo.setExampleById = function (demo, exampleId) {
	  var example = demo.examples.filter(function (example) {
	    return example.id === exampleId;
	  })[0];

	  Demo.setExample(demo, example);
	};

	/**
	 * Starts the given example.
	 * Any running example will be stopped.
	 * @function Demo.setExample
	 * @param {demo} demo
	 * @param {example} example 
	 */
	Demo.setExample = function (demo, example) {
	  if (example) {
	    var instance = demo.example.instance;

	    if (instance) {
	      instance.stop();

	      if (instance.canvas) {
	        instance.canvas.parentElement.removeChild(instance.canvas);
	      }
	    }

	    window.location.hash = example.id;

	    demo.example.instance = null;
	    demo.example = example;

	    demo.example.instance = instance = example.init(demo);

	    if (!instance.canvas && instance.render) {
	      instance.canvas = instance.render.canvas;
	    }

	    if (instance.canvas) {
	      demo.dom.header.style.maxWidth = instance.canvas.width + 'px';
	      demo.dom.root.appendChild(instance.canvas);
	    }

	    demo.dom.exampleSelect.value = example.id;
	    demo.dom.buttonSource.href = example.sourceLink || demo.url || '#';

	    setTimeout(function () {
	      if (demo.tools.inspector) {
	        Demo.setInspector(demo, true);
	      }

	      if (demo.tools.gui) {
	        Demo.setGui(demo, true);
	      }
	    }, 500);
	  } else {
	    Demo.setExample(demo, demo.examples[0]);
	  }
	};

	/**
	 * Enables or disables the inspector tool.
	 * If `enabled` a new `Inspector` instance will be created and the old one destroyed.
	 * @function Demo.setInspector
	 * @param {demo} demo
	 * @param {bool} enabled
	 */
	Demo.setInspector = function (demo, enabled) {
	  if (!enabled) {
	    Demo._destroyTools(demo, true, false);
	    demo.dom.root.classList.toggle('matter-inspect-active', false);
	    return;
	  }

	  var instance = demo.example.instance;

	  Demo._destroyTools(demo, true, false);
	  demo.dom.root.classList.toggle('matter-inspect-active', true);

	  demo.tools.inspector = Inspector.create(instance.engine, instance.render);
	};

	/**
	 * Enables or disables the Gui tool.
	 * If `enabled` a new `Gui` instance will be created and the old one destroyed.
	 * @function Demo.setGui
	 * @param {demo} demo
	 * @param {bool} enabled
	 */
	Demo.setGui = function (demo, enabled) {
	  if (!enabled) {
	    Demo._destroyTools(demo, false, true);
	    demo.dom.root.classList.toggle('matter-gui-active', false);
	    return;
	  }

	  var instance = demo.example.instance;

	  Demo._destroyTools(demo, false, true);
	  demo.dom.root.classList.toggle('matter-gui-active', true);

	  demo.tools.gui = Gui.create(instance.engine, instance.runner, instance.render);
	};

	Demo._destroyTools = function (demo, destroyInspector, destroyGui) {
	  var inspector = demo.tools.inspector,
	      gui = demo.tools.gui;

	  if (destroyInspector && inspector && inspector !== true) {
	    Inspector.destroy(inspector);
	    demo.tools.inspector = null;
	  }

	  if (destroyGui && gui && gui !== true) {
	    Gui.destroy(gui);
	    demo.tools.gui = null;
	  }
	};

	Demo._toggleFullscreen = function (demo) {
	  var fullscreenElement = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;

	  if (!fullscreenElement) {
	    fullscreenElement = demo.dom.root;

	    if (fullscreenElement.requestFullscreen) {
	      fullscreenElement.requestFullscreen();
	    } else if (fullscreenElement.mozRequestFullScreen) {
	      fullscreenElement.mozRequestFullScreen();
	    } else if (fullscreenElement.webkitRequestFullscreen) {
	      fullscreenElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
	    }
	  } else {
	    if (document.exitFullscreen) {
	      document.exitFullscreen();
	    } else if (document.mozCancelFullScreen) {
	      document.mozCancelFullScreen();
	    } else if (document.webkitExitFullscreen) {
	      document.webkitExitFullscreen();
	    }
	  }
	};

	Demo._bindDom = function (demo) {
	  var dom = demo.dom;

	  window.addEventListener('orientationchange', function () {
	    setTimeout(function () {
	      if (demo.resetOnOrientation) {
	        Demo.reset(demo);
	      }
	    }, 300);
	  });

	  if (demo.preventZoom) {
	    document.body.addEventListener('gesturestart', function (event) {
	      event.preventDefault();
	    });

	    var allowTap = true,
	        tapTimeout;

	    document.body.addEventListener('touchstart', function (event) {
	      if (!allowTap) {
	        event.preventDefault();
	      }

	      allowTap = false;

	      clearTimeout(tapTimeout);
	      tapTimeout = setTimeout(function () {
	        allowTap = true;
	      }, 500);
	    });
	  }

	  if (dom.exampleSelect) {
	    dom.exampleSelect.addEventListener('change', function () {
	      var exampleId = this.options[this.selectedIndex].value;
	      Demo.setExampleById(demo, exampleId);
	    });
	  }

	  if (dom.buttonReset) {
	    dom.buttonReset.addEventListener('click', function () {
	      Demo.reset(demo);
	    });
	  }

	  if (dom.buttonInspect) {
	    dom.buttonInspect.addEventListener('click', function () {
	      var showInspector = !demo.tools.inspector;
	      Demo.setInspector(demo, showInspector);
	    });
	  }

	  if (dom.buttonTools) {
	    dom.buttonTools.addEventListener('click', function () {
	      var showGui = !demo.tools.gui;
	      Demo.setGui(demo, showGui);
	    });
	  }

	  if (dom.buttonFullscreen) {
	    dom.buttonFullscreen.addEventListener('click', function () {
	      Demo._toggleFullscreen(demo);
	    });

	    var fullscreenChange = function fullscreenChange() {
	      var isFullscreen = document.fullscreen || document.webkitIsFullScreen || document.mozFullScreen;
	      document.body.classList.toggle('matter-is-fullscreen', isFullscreen);

	      setTimeout(function () {
	        Demo.setExample(demo, demo.example);
	      }, 500);
	    };

	    document.addEventListener('webkitfullscreenchange', fullscreenChange);
	    document.addEventListener('mozfullscreenchange', fullscreenChange);
	    document.addEventListener('fullscreenchange', fullscreenChange);
	  }
	};

	Demo._createDom = function (options) {
	  var styles = __webpack_require__(4);
	  ToolsCommon.injectStyles(styles, 'matter-demo-style');

	  var root = document.createElement('div');

	  var exampleOptions = options.examples.map(function (example) {
	    return '<option value="' + example.id + '">' + example.name + '</option>';
	  }).join(' ');

	  var preventZoomClass = options.preventZoom && Demo._isIOS ? 'prevent-zoom-ios' : '';

	  root.innerHTML = '\n    <div class="matter-demo ' + options.toolbar.title + ' ' + preventZoomClass + '">\n      <div class="matter-header-outer">\n        <header class="matter-header">\n          <div class="matter-header-inner">\n            <h1 class="matter-demo-title">\n              <a href="' + options.toolbar.url + '" target="_blank">' + options.toolbar.title + ' \u2197&#xFE0E;</a>\n            </h1>\n            <div class="matter-toolbar">\n              <div class="matter-select-wrapper">\n                <select class="matter-example-select matter-select">\n                  ' + exampleOptions + '\n                </select>\n              </div>\n              <button class="matter-btn matter-btn-reset" title="Reset">\u21BB&#xFE0E;</button>\n              <a href="#" class="matter-btn matter-btn-source" title="Source" target="_blank">{ }</a>\n              <button class="matter-btn matter-btn-tools" title="Tools">\u270E&#xFE0E;</button>\n              <button class="matter-btn matter-btn-inspect" title="Inspect">&#8857;&#xFE0E;</button>\n              <button class="matter-btn matter-btn-fullscreen" title="Fullscreen">&#9633;&#xFE0E;</button>\n            </div>\n            <a class="matter-link" href="' + Demo._matterLink + '" title="matter.js" target="_blank">\n              <i>\u25B2</i><i>\u25CF</i><i>\u25A0</i>\n            </a>\n          </div>\n        </header>\n      </div>\n    </div>\n  ';

	  var dom = {
	    root: root.firstElementChild,
	    title: root.querySelector('.matter-demo-title'),
	    header: root.querySelector('.matter-header'),
	    exampleSelect: root.querySelector('.matter-example-select'),
	    buttonReset: root.querySelector('.matter-btn-reset'),
	    buttonSource: root.querySelector('.matter-btn-source'),
	    buttonTools: root.querySelector('.matter-btn-tools'),
	    buttonInspect: root.querySelector('.matter-btn-inspect'),
	    buttonFullscreen: root.querySelector('.matter-btn-fullscreen')
	  };

	  if (!options.toolbar.title) {
	    ToolsCommon.domRemove(dom.title);
	  }

	  if (!options.toolbar.exampleSelect) {
	    ToolsCommon.domRemove(dom.exampleSelect.parentElement);
	  }

	  if (!options.toolbar.reset) {
	    ToolsCommon.domRemove(dom.buttonReset);
	  }

	  if (!options.toolbar.source) {
	    ToolsCommon.domRemove(dom.buttonSource);
	  }

	  if (!options.toolbar.inspector) {
	    ToolsCommon.domRemove(dom.buttonInspect);
	  }

	  if (!options.toolbar.tools) {
	    ToolsCommon.domRemove(dom.buttonTools);
	  }

	  if (!options.toolbar.fullscreen) {
	    ToolsCommon.domRemove(dom.buttonFullscreen);
	  }

	  return dom;
	};

	/*** EXPORTS FROM exports-loader ***/

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ },
/* 2 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ },
/* 3 */
/***/ function(module, exports) {

	"use strict";

	/**
	* @class Common
	*/

	var Common = module.exports = {};

	Common.injectStyles = function (styles, id) {
	  if (document.getElementById(id)) {
	    return;
	  }

	  var root = document.createElement('div');
	  root.innerHTML = '<style id="' + id + '" type="text/css">' + styles + '</style>';

	  var lastStyle = document.head.querySelector('style:last-of-type');
	  Common.domInsertBefore(root.firstElementChild, lastStyle);
	};

	Common.injectScript = function (url, id, callback) {
	  if (document.getElementById(id)) {
	    return;
	  }

	  var script = document.createElement('script');
	  script.id = id;
	  script.src = url;
	  script.onload = callback;

	  document.body.appendChild(script);
	};

	Common.domRemove = function (element) {
	  return element.parentElement.removeChild(element);
	};

	Common.domInsertBefore = function (element, before) {
	  return before.parentNode.insertBefore(element, before.previousElementSibling);
	};

	/*** EXPORTS FROM exports-loader ***/

/***/ },
/* 4 */
/***/ function(module, exports) {

	module.exports = "/*\n*\tMatterTools.Demo\n*/\n\n.matter-demo {\n  font-family: Helvetica, Arial, sans-serif;\n  display: flex;\n  background: #14151f;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: 100vh;\n}\n\n.matter-demo canvas {\n  border-radius: 8px;\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.matter-demo.matter-demo-inline canvas {\n  max-height: calc(100% - 50px);\n}\n\n@media screen and (min-width: 900px) and (min-height: 600px) {\n  .matter-demo.matter-demo-inline canvas {\n    max-height: calc(100% - 100px);\n  }\n}\n\n.matter-is-fullscreen .matter-demo {\n  width: 100%;\n}\n\n.matter-is-fullscreen .dg.ac,\n.matter-is-fullscreen .ins-container {\n  display: none;\n}\n\n.matter-header-outer {\n  position: fixed;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 400ms ease;\n}\n\n.matter-header-outer:hover {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n.matter-demo-inline .matter-header-outer {\n  position: static;\n  background: transparent;\n  z-index: 0;\n  width: 100%;\n}\n\n.matter-header {\n  width: 100%;\n  padding: 10px 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.matter-demo-inline .matter-header {\n  padding: 10px;\n}\n\nbody .ins-container,\nbody .dg .dg.main,\nbody .dg .dg.main.a {\n  padding-top: 52px;\n}\n\n@media screen and (min-width: 500px) {\n  .matter-header {\n    padding: 12px 20px;\n  }\n\n  .matter-demo-inline .matter-header {\n    padding: 10px 30px 16px 30px;\n  }\n}\n\n@media screen and (min-width: 900px) and (min-height: 600px) {\n  .matter-demo-inline .matter-header {\n    padding: 10px 30px 36px 30px;\n  }\n}\n\n.matter-header-inner {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 960px;\n  width: 100%;\n}\n\n.matter-header h1 {\n  display: none;\n  margin: 0;\n  width: 18px;\n  overflow: hidden;\n}\n\n.matter-header h1 a {\n  color: #f2f2f5;\n  font-size: 15px;\n  font-weight: 400;\n  font-family: Helvetica, Arial, sans-serif;\n  display: block;\n  text-decoration: none;\n  margin: 7px 0 0 0;\n  padding: 0 0 2px 0;\n  border-bottom: 2px solid transparent;\n  white-space: nowrap;\n  float: right;\n}\n\n@media screen and (min-width: 300px) {\n  .matter-header h1 {\n    display: inline;\n  }\n}\n\n@media screen and (min-width: 600px) {\n  .matter-header h1 {\n    width: auto;\n    overflow: visible;\n  }\n}\n\n.btn-home {\n  display: none;\n}\n\n.matter-header h1 a:hover {\n  border-bottom: 2px solid #F5B862;\n}\n\n.matter-link {\n  font-family: Helvetica, Arial, sans-serif;\n  text-decoration: none;\n  line-height: 13px;\n  transform: translate(0, 3px) scale(0.8);\n}\n\n@media screen and (min-width: 500px) {\n  .matter-link {\n    transform: none;\n  }\n}\n\n.matter-link i {\n  transition: transform 400ms ease;\n}\n\n.matter-link:hover i {\n  transition: transform 400ms ease;\n}\n\n.matter-link:hover i:nth-child(1) {\n  transform: rotate(-26deg) translate3d(-4px, -7px, 0);\n}\n\n.matter-link i:nth-child(2) {\n  transform: translate3d(0, 1px, 0);\n}\n\n.matter-link:hover i:nth-child(2) {\n  transition-delay: 80ms;\n  transform: translate3d(3px, -5px, 0);\n}\n\n.matter-link:hover i:nth-child(3) {\n  transition-delay: 180ms;\n  transform: translate3d(9px, 0, 0);\n}\n\n.matter-link i:nth-child(1) {\n  display: inline-block;\n  color: #76F09B;\n  font-size: 30px;\n}\n\n.matter-link i:nth-child(2) {\n  color: #F5B862;\n  font-size: 16px;\n  padding: 0 2px 0 0;\n  display: inline-block;\n}\n\n.matter-link i:nth-child(3) {\n  display: inline-block;\n  color: #F55F5F; \n  font-size: 46px;\n}\n\n.matter-toolbar {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: -6px 0 0 0;\n}\n\n.matter-select {\n  background: transparent;\n  color: #fff;\n  font-size: 14px;\n  height: 30px;\n  width: 100%;\n  outline: none;\n  padding: 0 7px;\n  margin: 0 0 -6px 0;\n  border: 0;\n  border-bottom: 2px solid rgba(0, 0, 0, 0.1);\n  border-radius: 0;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n}\n\n.prevent-zoom-ios .matter-select {\n  font-size: 16px;\n}\n\n.matter-demo-inline .matter-select {\n  border-bottom: 2px solid #3a3a3a;\n}\n\n.matter-select:hover {\n  border-bottom-color: #F5B862;\n}\n\n.matter-select-wrapper {\n  width: 20%;\n  min-width: 100px;\n  max-width: 200px;\n  position: relative;\n  display: inline-block;\n  margin: 0 6% 0 0;\n}\n\n.matter-select-wrapper:hover:after {\n  color: #fff;\n}\n\n.matter-select-wrapper:after {\n  content: '‚ñæ';\n  display: block;\n  pointer-events: none;\n  color: #cecece;\n  font-size: 14px;\n  position: absolute;\n  top: 6px;\n  right: 5px;\n}\n\n.prevent-zoom-ios .matter-select-wrapper:after {\n  top: 4px;\n}\n\n.matter-btn {\n  font-family: Helvetica, Arial, sans-serif;\n  border: 0;\n  background: rgba(0,0,0,0.1);\n  padding: 2px 0 0 0;\n  width: 40px;\n  height: 33px;\n  border-radius: 2px;\n  margin: 0 0 -6px 0;\n  display: inline-block;\n  font-size: 16px;\n  line-height: 1;\n  color: #c2cad4;\n  text-decoration: none;\n  text-align: center;\n}\n\n.matter-demo-inline .matter-btn {\n  background: #0f0f13;\n}\n\n.matter-btn:focus {\n  outline: 0;\n}\n\n.matter-btn:hover {\n  transform: translate(0px, -1px);\n}\n\n.matter-btn:active {\n  transform: translate(0px, 1px);\n}\n\n.matter-btn:hover {\n  background: #212a3a;\n}\n\n.matter-btn-reset:active {\n  color: #76F09B;\n}\n\n.matter-btn-tools {\n  display: none;\n  font-size: 15px;\n  padding-right: 3px;\n}\n\n.matter-gui-active .matter-btn-tools {\n  color: #F55F5F;\n}\n\n.matter-btn-inspect {\n  display: none;\n}\n\n.matter-inspect-active .matter-btn-inspect {\n  color: #fff036;\n}\n\n.matter-btn-source {\n  display: none;\n  font-size: 12px;\n  text-align: center;\n  line-height: 31px;\n}\n\n.matter-btn-source:active {\n  color: #F5B862;\n}\n\n.matter-btn-fullscreen {\n  font-size: 20px;\n}\n\n.matter-btn-source:active {\n  color: #F5B862;\n}\n\n.matter-is-fullscreen .matter-btn-tools,\n.matter-is-fullscreen .matter-btn-inspect {\n  display: none;\n}\n\n.matter-is-fullscreen .matter-btn-fullscreen {\n  color: #76F09B;\n}\n\n.ins-container,\nbody .dg {\n  display: none;\n}\n\n@media screen and (min-width: 500px) {\n  .ins-container,\n  body .dg,\n  .matter-btn-tools,\n  .matter-btn-inspect,\n  .matter-btn-source {\n    display: block;\n  }\n}"

/***/ }
/******/ ])
});
;
--></script>
<script
  class="download_content"
  name="lib/matter-tools.gui.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748112,&quot;hash&quot;:&quot;d5058389bbda5077e8fee4813d7978bd&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
/*!
 * matter-tools 0.9.1 by Liam Brummitt 2017-01-26
 * https://github.com/liabru/matter-tools
 * License MIT
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("Matter"), require("MatterTools"));
	else if(typeof define === 'function' && define.amd)
		define(["Matter", "MatterTools"], factory);
	else if(typeof exports === 'object')
		exports["Gui"] = factory(require("Matter"), require("MatterTools"));
	else
		root["MatterTools"] = root["MatterTools"] || {}, root["MatterTools"]["Gui"] = factory(root["Matter"], root["MatterTools"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/demo/lib";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	/**
	 * A tool for modifying the properties of an engine and renderer.
	 * @module Gui
	 */

	var Gui = module.exports = {};

	var dat = __webpack_require__(5);
	var ToolsCommon = __webpack_require__(3);
	var Serializer = __webpack_require__(2).Serializer;
	var Matter = __webpack_require__(1);
	var Engine = Matter.Engine;
	var Detector = Matter.Detector;
	var Grid = Matter.Grid;
	var World = Matter.World;
	var Bodies = Matter.Bodies;
	var Events = Matter.Events;
	var Composite = Matter.Composite;

	/**
	 * Creates a Gui
	 * @function Gui.create
	 * @param {engine} [engine]
	 * @param {runner} [runner]
	 * @param {render} [render]
	 * @return {gui} The created gui instance
	 */
	Gui.create = function (engine, runner, render) {
	  dat.GUI.TEXT_CLOSED = '‚ñ≤';
	  dat.GUI.TEXT_OPEN = '‚ñº';

	  var datGui = new dat.GUI();

	  var gui = {
	    engine: engine,
	    runner: runner,
	    render: render,
	    datGui: datGui,
	    broadphase: 'grid',
	    broadphaseCache: {
	      grid: engine.broadphase.controller === Grid ? engine.broadphase : Grid.create(),
	      bruteForce: {
	        detector: Detector.bruteForce
	      }
	    },
	    amount: 1,
	    size: 40,
	    sides: 4,
	    density: 0.001,
	    restitution: 0,
	    friction: 0.1,
	    frictionStatic: 0.5,
	    frictionAir: 0.01,
	    offset: { x: 0, y: 0 },
	    renderer: 'canvas',
	    chamfer: 0,
	    isRecording: false
	  };

	  if (Serializer) {
	    gui.serializer = Serializer.create();
	  }

	  var styles = __webpack_require__(6);
	  ToolsCommon.injectStyles(styles, 'matter-gui-style');

	  _initDatGui(gui);

	  return gui;
	};

	/**
	 * Updates the Gui
	 * @function Gui.update
	 * @param {gui} gui
	 */
	Gui.update = function (gui) {
	  var i;
	  var datGui = gui.datGui;

	  for (i in datGui.__folders) {
	    Gui.update(gui, datGui.__folders[i]);
	  }

	  for (i in datGui.__controllers) {
	    var controller = datGui.__controllers[i];
	    if (controller.updateDisplay) controller.updateDisplay();
	  }
	};

	/**
	 * Closes all sections of the Gui
	 * @function Gui.closeAll
	 * @param {gui} gui
	 */
	Gui.closeAll = function (gui) {
	  var datGui = gui.datGui;

	  for (var i in datGui.__folders) {
	    datGui.__folders[i].close();
	  }
	};

	/**
	 * Destroys the GUI
	 * @function Gui.destroy
	 * @param {gui} gui
	 */
	Gui.destroy = function (gui) {
	  gui.datGui.destroy();
	};

	var _initDatGui = function _initDatGui(gui) {
	  var engine = gui.engine,
	      runner = gui.runner,
	      datGui = gui.datGui;

	  var funcs = {
	    addBody: function addBody() {
	      _addBody(gui);
	    },
	    clear: function clear() {
	      _clear(gui);
	    },
	    save: function save() {
	      Serializer.saveState(gui.serializer, engine, 'guiState');Events.trigger(gui, 'save');
	    },
	    load: function load() {
	      Serializer.loadState(gui.serializer, engine, 'guiState');Events.trigger(gui, 'load');
	    }
	  };

	  var metrics = datGui.addFolder('Metrics');

	  if (runner) {
	    metrics.add(runner, 'fps').listen();
	  }

	  if (engine.metrics.extended) {
	    if (runner) {
	      metrics.add(runner, 'delta').listen();
	      metrics.add(runner, 'correction').listen();
	    }

	    if (engine) {
	      metrics.add(engine.metrics, 'bodies').listen();
	      metrics.add(engine.metrics, 'collisions').listen();
	      metrics.add(engine.metrics, 'pairs').listen();
	      metrics.add(engine.metrics, 'broadEff').listen();
	      metrics.add(engine.metrics, 'midEff').listen();
	      metrics.add(engine.metrics, 'narrowEff').listen();
	      metrics.add(engine.metrics, 'narrowReuse').listen();
	    }
	    metrics.close();
	  } else {
	    metrics.open();
	  }

	  if (engine) {
	    var controls = datGui.addFolder('Add Body');
	    controls.add(gui, 'amount', 1, 5).step(1);
	    controls.add(gui, 'size', 5, 150).step(1);
	    controls.add(gui, 'sides', 1, 8).step(1);
	    controls.add(gui, 'density', 0.0001, 0.01).step(0.001);
	    controls.add(gui, 'friction', 0, 1).step(0.05);
	    controls.add(gui, 'frictionStatic', 0, 10).step(0.1);
	    controls.add(gui, 'frictionAir', 0, gui.frictionAir * 10).step(gui.frictionAir / 10);
	    controls.add(gui, 'restitution', 0, 1).step(0.1);
	    controls.add(gui, 'chamfer', 0, 30).step(2);
	    controls.add(funcs, 'addBody');
	    controls.open();

	    var worldGui = datGui.addFolder('World');

	    if (gui.serializer) {
	      worldGui.add(funcs, 'load');
	      worldGui.add(funcs, 'save');
	    }

	    worldGui.add(funcs, 'clear');
	    worldGui.open();

	    var gravity = worldGui.addFolder('Gravity');
	    gravity.add(engine.world.gravity, 'scale', 0, 0.001).step(0.0001);
	    gravity.add(engine.world.gravity, 'x', -1, 1).step(0.01);
	    gravity.add(engine.world.gravity, 'y', -1, 1).step(0.01);
	    gravity.open();

	    var physics = datGui.addFolder('Engine');
	    physics.add(engine, 'enableSleeping');

	    physics.add(engine.timing, 'timeScale', 0, 1.2).step(0.05).listen();
	    physics.add(engine, 'velocityIterations', 1, 10).step(1);
	    physics.add(engine, 'positionIterations', 1, 10).step(1);
	    physics.add(engine, 'constraintIterations', 1, 10).step(1);

	    if (runner) {
	      physics.add(runner, 'enabled');
	    }

	    physics.open();
	  }

	  if (gui.render) {
	    var render = datGui.addFolder('Render');

	    render.add(gui.render.options, 'wireframes').onFinishChange(function (value) {
	      if (!value) {
	        angleIndicatorWidget.setValue(false);
	        axesWidget.setValue(false);
	      }
	    });

	    render.add(gui.render.options, 'showDebug');
	    render.add(gui.render.options, 'showPositions');
	    render.add(gui.render.options, 'showBroadphase');
	    render.add(gui.render.options, 'showBounds');
	    render.add(gui.render.options, 'showVelocity');
	    render.add(gui.render.options, 'showCollisions');
	    render.add(gui.render.options, 'showSeparations');
	    var axesWidget = render.add(gui.render.options, 'showAxes');
	    var angleIndicatorWidget = render.add(gui.render.options, 'showAngleIndicator');
	    render.add(gui.render.options, 'showSleeping');
	    render.add(gui.render.options, 'showIds');
	    render.add(gui.render.options, 'showVertexNumbers');
	    render.add(gui.render.options, 'showConvexHulls');
	    render.add(gui.render.options, 'showInternalEdges');
	    render.add(gui.render.options, 'enabled');
	    render.open();
	  }
	};

	var _addBody = function _addBody(gui) {
	  var engine = gui.engine;

	  var options = {
	    density: gui.density,
	    friction: gui.friction,
	    frictionStatic: gui.frictionStatic,
	    frictionAir: gui.frictionAir,
	    restitution: gui.restitution
	  };

	  if (gui.chamfer && gui.sides > 2) {
	    options.chamfer = {
	      radius: gui.chamfer
	    };
	  }

	  for (var i = 0; i < gui.amount; i++) {
	    World.add(engine.world, Bodies.polygon(gui.offset.x + 120 + i * gui.size + i * 50, gui.offset.y + 200, gui.sides, gui.size, options));
	  }
	};

	var _clear = function _clear(gui) {
	  var engine = gui.engine,
	      constraints = Composite.allConstraints(engine.world),
	      mouseConstraint = null;

	  // find mouse constraints
	  for (var i = 0; i < constraints.length; i += 1) {
	    var constraint = constraints[i];

	    // TODO: need a better way than this
	    if (constraint.label === 'Mouse Constraint') {
	      mouseConstraint = constraint;
	      break;
	    }
	  }

	  World.clear(engine.world, true);
	  Engine.clear(engine);

	  // add mouse constraint back in
	  if (mouseConstraint) {
	    Composite.add(engine.world, mouseConstraint);
	  }

	  // clear scene graph (if defined in controller)
	  if (gui.render) {
	    var renderController = gui.render.controller;
	    if (renderController.clear) renderController.clear(gui.render);
	  }

	  Events.trigger(gui, 'clear');
	};

	/*
	*
	*  Events Documentation
	*
	*/

	/**
	* Fired after the gui's clear button pressed
	*
	* @event clear
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/**
	* Fired after the gui's save button pressed
	*
	* @event save
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/**
	* Fired after the gui's load button pressed
	*
	* @event load
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/*** EXPORTS FROM exports-loader ***/

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ },
/* 2 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ },
/* 3 */
/***/ function(module, exports) {

	"use strict";

	/**
	* @class Common
	*/

	var Common = module.exports = {};

	Common.injectStyles = function (styles, id) {
	  if (document.getElementById(id)) {
	    return;
	  }

	  var root = document.createElement('div');
	  root.innerHTML = '<style id="' + id + '" type="text/css">' + styles + '</style>';

	  var lastStyle = document.head.querySelector('style:last-of-type');
	  Common.domInsertBefore(root.firstElementChild, lastStyle);
	};

	Common.injectScript = function (url, id, callback) {
	  if (document.getElementById(id)) {
	    return;
	  }

	  var script = document.createElement('script');
	  script.id = id;
	  script.src = url;
	  script.onload = callback;

	  document.body.appendChild(script);
	};

	Common.domRemove = function (element) {
	  return element.parentElement.removeChild(element);
	};

	Common.domInsertBefore = function (element, before) {
	  return before.parentNode.insertBefore(element, before.previousElementSibling);
	};

	/*** EXPORTS FROM exports-loader ***/

/***/ },
/* 4 */,
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	!function(e,t){ true?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.dat=t():e.dat=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";e.exports={color:{Color:n(2),math:n(6),interpret:n(3)},controllers:{Controller:n(7),BooleanController:n(8),OptionController:n(10),StringController:n(11),NumberController:n(12),NumberControllerBox:n(13),NumberControllerSlider:n(14),FunctionController:n(20),ColorController:n(21)},dom:{dom:n(9)},gui:{GUI:n(22)},GUI:n(22)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(_.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(_.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function a(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(_.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(_.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}t.__esModule=!0;var s=n(3),l=o(s),u=n(6),d=o(u),c=n(4),f=o(c),h=n(5),p=o(h),_=function(){function e(){if(i(this,e),this.__state=l["default"].apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1}return e.prototype.toString=function(){return f["default"](this)},e.prototype.toOriginal=function(){return this.__state.conversion.write(this)},e}();_.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=d["default"].component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw"Corrupted color state";p["default"].extend(e.__state,d["default"].hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},_.recalculateHSV=function(e){var t=d["default"].rgb_to_hsv(e.r,e.g,e.b);p["default"].extend(e.__state,{s:t.s,v:t.v}),p["default"].isNaN(t.h)?p["default"].isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},_.COMPONENTS=["r","g","b","h","s","v","hex","a"],r(_.prototype,"r",2),r(_.prototype,"g",1),r(_.prototype,"b",0),a(_.prototype,"h"),a(_.prototype,"s"),a(_.prototype,"v"),Object.defineProperty(_.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(_.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=d["default"].rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(4),r=o(i),a=n(5),s=o(a),l=[{litmus:s["default"].isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===t?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:r["default"]},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null===t?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:r["default"]},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===t?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:r["default"]},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===t?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:r["default"]}}},{litmus:s["default"].isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:s["default"].isArray,conversions:{RGB_ARRAY:{read:function(e){return 3!==e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4!==e.length?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:s["default"].isObject,conversions:{RGBA_OBJ:{read:function(e){return s["default"].isNumber(e.r)&&s["default"].isNumber(e.g)&&s["default"].isNumber(e.b)&&s["default"].isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return s["default"].isNumber(e.r)&&s["default"].isNumber(e.g)&&s["default"].isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return s["default"].isNumber(e.h)&&s["default"].isNumber(e.s)&&s["default"].isNumber(e.v)&&s["default"].isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return s["default"].isNumber(e.h)&&s["default"].isNumber(e.s)&&s["default"].isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],u=void 0,d=void 0,c=function(){d=!1;var e=arguments.length>1?s["default"].toArray(arguments):arguments[0];return s["default"].each(l,function(t){return t.litmus(e)?(s["default"].each(t.conversions,function(t,n){return u=t.read(e),d===!1&&u!==!1?(d=u,u.conversionName=n,u.conversion=t,s["default"].BREAK):void 0}),s["default"].BREAK):void 0}),d};t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),r=o(i);t["default"]=function(e){if(1===e.a||r["default"].isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=Array.prototype.forEach,o=Array.prototype.slice,i={BREAK:{},extend:function(e){return this.each(o.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(o.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=o.call(arguments);return function(){for(var t=o.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,o){if(e)if(n&&e.forEach&&e.forEach===n)e.forEach(t,o);else if(e.length===e.length+0){var i=void 0,r=void 0;for(i=0,r=e.length;r>i;i++)if(i in e&&t.call(o,e[i],i)===this.BREAK)return}else for(var i in e)if(t.call(o,e[i],i)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():o.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}};t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n,o={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),r=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=[[n,s,r],[a,n,r],[r,n,s],[r,a,n],[s,r,n],[n,r,a]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var o,i,r=Math.min(e,t,n),a=Math.max(e,t,n),s=a-r;return 0==a?{h:NaN,s:0,v:0}:(i=s/a,o=e==a?(t-n)/s:t==a?2+(n-e)/s:4+(e-t)/s,o/=6,0>o&&(o+=1),{h:360*o,s:i,v:a/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,o){return o<<(n=8*t)|e&~(255<<n)}};t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(5),a=(o(r),function(){function e(t,n){i(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return e.prototype.onChange=function(e){return this.__onChange=e,this},e.prototype.onFinishChange=function(e){return this.__onFinishChange=e,this},e.prototype.setValue=function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},e.prototype.getValue=function(){return this.object[this.property]},e.prototype.updateDisplay=function(){return this},e.prototype.isModified=function(){return this.initialValue!==this.getValue()},e}());t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(7),s=o(a),l=n(9),u=o(l),d=n(5),c=(o(d),function(e){function t(n,o){function r(){a.setValue(!a.__prev)}i(this,t),e.call(this,n,o);var a=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),u["default"].bind(this.__checkbox,"change",r,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()}return r(t,e),t.prototype.setValue=function(t){var n=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n},t.prototype.updateDisplay=function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,e.prototype.updateDisplay.call(this)},t}(s["default"]));t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){if("0"===e||a["default"].isUndefined(e))return 0;var t=e.match(u);return a["default"].isNull(t)?0:parseFloat(t[1])}t.__esModule=!0;var r=n(5),a=o(r),s={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},l={};a["default"].each(s,function(e,t){a["default"].each(e,function(e){l[e]=t})});var u=/(\d+(\.\d+)?)px/,d={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){a["default"].isUndefined(t)&&(t=!0),a["default"].isUndefined(n)&&(n=!0),e.style.position="absolute",t&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){n=n||{};var i=l[t];if(!i)throw new Error("Event type "+t+" not supported.");var r=document.createEvent(i);switch(i){case"MouseEvents":var s=n.x||n.clientX||0,u=n.y||n.clientY||0;r.initMouseEvent(t,n.bubbles||!1,n.cancelable||!0,window,n.clickCount||1,0,0,s,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var d=r.initKeyboardEvent||r.initKeyEvent;a["default"].defaults(n,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),d(t,n.bubbles||!1,n.cancelable,window,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode);break;default:r.initEvent(t,n.bubbles||!1,n.cancelable||!0)}a["default"].defaults(r,o),e.dispatchEvent(r)},bind:function(e,t,n,o){return o=o||!1,e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n),d},unbind:function(e,t,n,o){return o=o||!1,e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n),d},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return d},removeClass:function(e,t){if(t)if(void 0===e.className);else if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!=o&&(n.splice(o,1),e.className=n.join(" "))}else e.className=void 0;return d},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return i(t["border-left-width"])+i(t["border-right-width"])+i(t["padding-left"])+i(t["padding-right"])+i(t.width)},getHeight:function(e){var t=getComputedStyle(e);return i(t["border-top-width"])+i(t["border-bottom-width"])+i(t["padding-top"])+i(t["padding-bottom"])+i(t.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(7),s=o(a),l=n(9),u=o(l),d=n(5),c=o(d),f=function(e){function t(n,o,r){i(this,t),e.call(this,n,o);var a=this;if(this.__select=document.createElement("select"),c["default"].isArray(r)){var s={};c["default"].each(r,function(e){s[e]=e}),r=s}c["default"].each(r,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),a.__select.appendChild(n)}),this.updateDisplay(),u["default"].bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;a.setValue(e)}),this.domElement.appendChild(this.__select)}return r(t,e),t.prototype.setValue=function(t){var n=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n},t.prototype.updateDisplay=function(){return this.__select.value=this.getValue(),e.prototype.updateDisplay.call(this)},t}(s["default"]);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(7),s=o(a),l=n(9),u=o(l),d=n(5),c=(o(d),function(e){function t(n,o){function r(){s.setValue(s.__input.value)}function a(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}i(this,t),e.call(this,n,o);var s=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),u["default"].bind(this.__input,"keyup",r),u["default"].bind(this.__input,"change",r),u["default"].bind(this.__input,"blur",a),u["default"].bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)}return r(t,e),t.prototype.updateDisplay=function(){return u["default"].isActive(this.__input)||(this.__input.value=this.getValue()),e.prototype.updateDisplay.call(this)},t}(s["default"]));t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return e=e.toString(),e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}t.__esModule=!0;var s=n(7),l=o(s),u=n(5),d=o(u),c=function(e){function t(n,o,r){i(this,t),e.call(this,n,o),r=r||{},this.__min=r.min,this.__max=r.max,this.__step=r.step,d["default"].isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(this.initialValue))/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=a(this.__impliedStep)}return r(t,e),t.prototype.setValue=function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),e.prototype.setValue.call(this,t)},t.prototype.min=function(e){return this.__min=e,this},t.prototype.max=function(e){return this.__max=e,this},t.prototype.step=function(e){return this.__step=e,this.__impliedStep=e,this.__precision=a(e),this},t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}t.__esModule=!0;var s=n(12),l=o(s),u=n(9),d=o(u),c=n(5),f=o(c),h=function(e){function t(n,o,r){function a(){var e=parseFloat(p.__input.value);f["default"].isNaN(e)||p.setValue(e)}function s(){a(),p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())}function l(e){d["default"].bind(window,"mousemove",u),d["default"].bind(window,"mouseup",c),h=e.clientY}function u(e){var t=h-e.clientY;p.setValue(p.getValue()+t*p.__impliedStep),h=e.clientY}function c(){d["default"].unbind(window,"mousemove",u),d["default"].unbind(window,"mouseup",c)}i(this,t),e.call(this,n,o,r),this.__truncationSuspended=!1;var h,p=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),d["default"].bind(this.__input,"change",a),d["default"].bind(this.__input,"blur",s),d["default"].bind(this.__input,"mousedown",l),d["default"].bind(this.__input,"keydown",function(e){13===e.keyCode&&(p.__truncationSuspended=!0,this.blur(),p.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)}return r(t,e),t.prototype.updateDisplay=function(){return this.__input.value=this.__truncationSuspended?this.getValue():a(this.getValue(),this.__precision),e.prototype.updateDisplay.call(this)},t}(l["default"]);t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,o,i){return o+(i-o)*((e-t)/(n-t))}t.__esModule=!0;var s=n(12),l=o(s),u=n(9),d=o(u),c=n(15),f=o(c),h=n(5),p=(o(h),n(16)),_=o(p),m=function(e){function t(n,o,r,s,l){function u(e){d["default"].bind(window,"mousemove",c),d["default"].bind(window,"mouseup",f),c(e)}function c(e){e.preventDefault();var t=d["default"].getOffset(h.__background),n=d["default"].getWidth(h.__background);return h.setValue(a(e.clientX,t.left,t.left+n,h.__min,h.__max)),!1}function f(){d["default"].unbind(window,"mousemove",c),d["default"].unbind(window,"mouseup",f),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}i(this,t),e.call(this,n,o,{min:r,max:s,step:l});var h=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),d["default"].bind(this.__background,"mousedown",u),d["default"].addClass(this.__background,"slider"),d["default"].addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)}return r(t,e),t.prototype.updateDisplay=function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",e.prototype.updateDisplay.call(this)},t}(l["default"]);m.useDefaultStyles=function(){f["default"].inject(_["default"])},t["default"]=m,e.exports=t["default"]},function(e,t){"use strict";e.exports={load:function(e,t){var n=t||document,o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,n.getElementsByTagName("head")[0].appendChild(o)},inject:function(e,t){var n=t||document,o=document.createElement("style");o.type="text/css",o.innerHTML=e,n.getElementsByTagName("head")[0].appendChild(o)}}},function(e,t,n){var o=n(17);"string"==typeof o&&(o=[[e.id,o,""]]);n(19)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(18)(),t.push([e.id,".slider{box-shadow:inset 0 2px 4px rgba(0,0,0,.15);height:1em;border-radius:1em;background-color:#eee;padding:0 .5em;overflow:hidden}.slider-fg{padding:1px 0 2px;background-color:#aaa;height:1em;margin-left:-.5em;padding-right:.5em;border-radius:1em 0 0 1em}.slider-fg:after{display:inline-block;border-radius:1em;background-color:#fff;border:1px solid #aaa;content:'';float:right;margin-right:-1em;margin-top:-1px;height:.9em;width:.9em}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=c[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(s(o.parts[r],t))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(s(o.parts[r],t));c[o.id]={id:o.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],r=i[0],a=i[1],s=i[2],l=i[3],u={css:a,media:s,sourceMap:l};n[r]?n[r].parts.push(u):t.push(n[r]={id:r,parts:[u]})}return t}function r(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function a(){var e=document.createElement("link"),t=p();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var n,o,i;if(t.singleton){var s=m++;n=_||(_=r()),o=l.bind(null,n,s,!1),i=l.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(),o=d.bind(null,n),i=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=r(),o=u.bind(null,n),i=function(){n.parentNode.removeChild(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function l(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function u(e,t){var n=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,o=(t.media,t.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}var c={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=f(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,m=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h());var n=i(e);return o(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var s=n[a],l=c[s.id];l.refs--,r.push(l)}if(e){var u=i(e);o(u,t)}for(var a=0;a<r.length;a++){var l=r[a];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete c[l.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var a=n(7),s=o(a),l=n(9),u=o(l),d=n(5),c=(o(d),function(e){function t(n,o,r){i(this,t),e.call(this,n,o);var a=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===r?"Fire":r,u["default"].bind(this.__button,"click",function(e){return e.preventDefault(),a.fire(),!1}),u["default"].addClass(this.__button,"button"),this.domElement.appendChild(this.__button)}return r(t,e),t.prototype.fire=function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())},t}(s["default"]));t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,o){e.style.background="",g["default"].each(v,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "})}function s(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}t.__esModule=!0;var l=n(7),u=o(l),d=n(9),c=o(d),f=n(2),h=o(f),p=n(3),_=o(p),m=n(5),g=o(m),b=function(e){function t(n,o){function r(e){f(e),c["default"].bind(window,"mousemove",f),c["default"].bind(window,"mouseup",l)}function l(){c["default"].unbind(window,"mousemove",f),c["default"].unbind(window,"mouseup",l)}function u(){var e=_["default"](this.value);e!==!1?(m.__color.__state=e,m.setValue(m.__color.toOriginal())):this.value=m.__color.toString()}function d(){c["default"].unbind(window,"mousemove",p),c["default"].unbind(window,"mouseup",d)}function f(e){e.preventDefault();var t=c["default"].getWidth(m.__saturation_field),n=c["default"].getOffset(m.__saturation_field),o=(e.clientX-n.left+document.body.scrollLeft)/t,i=1-(e.clientY-n.top+document.body.scrollTop)/t;return i>1?i=1:0>i&&(i=0),o>1?o=1:0>o&&(o=0),m.__color.v=i,m.__color.s=o,m.setValue(m.__color.toOriginal()),!1}function p(e){e.preventDefault();var t=c["default"].getHeight(m.__hue_field),n=c["default"].getOffset(m.__hue_field),o=1-(e.clientY-n.top+document.body.scrollTop)/t;return o>1?o=1:0>o&&(o=0),m.__color.h=360*o,m.setValue(m.__color.toOriginal()),!1}i(this,t),e.call(this,n,o),this.__color=new h["default"](this.getValue()),this.__temp=new h["default"](0);var m=this;this.domElement=document.createElement("div"),c["default"].makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",c["default"].bind(this.__input,"keydown",function(e){13===e.keyCode&&u.call(this)}),c["default"].bind(this.__input,"blur",u),c["default"].bind(this.__selector,"mousedown",function(e){c["default"].addClass(this,"drag").bind(window,"mouseup",function(e){c["default"].removeClass(m.__selector,"drag")})});var b=document.createElement("div");g["default"].extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),g["default"].extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),g["default"].extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),g["default"].extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),g["default"].extend(b.style,{width:"100%",height:"100%",background:"none"}),a(b,"top","rgba(0,0,0,0)","#000"),g["default"].extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),s(this.__hue_field),g["default"].extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),c["default"].bind(this.__saturation_field,"mousedown",r),c["default"].bind(this.__field_knob,"mousedown",r),c["default"].bind(this.__hue_field,"mousedown",function(e){p(e),c["default"].bind(window,"mousemove",p),c["default"].bind(window,"mouseup",d)}),this.__saturation_field.appendChild(b),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),
	this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()}return r(t,e),t.prototype.updateDisplay=function(){var e=_["default"](this.getValue());if(e!==!1){var t=!1;g["default"].each(h["default"].COMPONENTS,function(n){return g["default"].isUndefined(e[n])||g["default"].isUndefined(this.__color.__state[n])||e[n]===this.__color.__state[n]?void 0:(t=!0,{})},this),t&&g["default"].extend(this.__color.__state,e)}g["default"].extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;g["default"].extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,a(this.__saturation_field,"left","#fff",this.__temp.toString()),g["default"].extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})},t}(u["default"]),v=["-moz-","-o-","-webkit-","-ms-",""];t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var o=document.createElement("li");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,params.before):e.__ul.appendChild(o),e.onResize(),o}function r(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];t?n.innerHTML=n.value+"*":n.innerHTML=n.value}function a(e,t,n){if(n.__li=t,n.__gui=e,K["default"].extend(n,{options:function(t){return arguments.length>1?(n.remove(),l(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[K["default"].toArray(arguments)]})):K["default"].isArray(t)||K["default"].isObject(t)?(n.remove(),l(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof j["default"])!function(){var e=new M["default"](n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});K["default"].each(["updateDisplay","onChange","onFinishChange"],function(t){var o=n[t],i=e[t];n[t]=e[t]=function(){var t=Array.prototype.slice.call(arguments);return o.apply(n,t),i.apply(e,t)}}),G["default"].addClass(t,"has-slider"),n.domElement.insertBefore(e.domElement,n.domElement.firstElementChild)}();else if(n instanceof M["default"]){var o=function(t){return K["default"].isNumber(n.__min)&&K["default"].isNumber(n.__max)?(n.remove(),l(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=K["default"].compose(o,n.min),n.max=K["default"].compose(o,n.max)}else n instanceof T["default"]?(G["default"].bind(t,"click",function(){G["default"].fakeEvent(n.__checkbox,"click")}),G["default"].bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof R["default"]?(G["default"].bind(t,"click",function(){G["default"].fakeEvent(n.__button,"click")}),G["default"].bind(t,"mouseover",function(){G["default"].addClass(n.__button,"hover")}),G["default"].bind(t,"mouseout",function(){G["default"].removeClass(n.__button,"hover")})):n instanceof D["default"]&&(G["default"].addClass(t,"color"),n.updateDisplay=K["default"].compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=K["default"].compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&r(e.getRoot(),!0),t},n.setValue)}function s(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,a=void 0;if(r[e.preset])a=r[e.preset];else{if(!r[Z])return;a=r[Z]}if(a[o]&&void 0!==a[o][t.property]){var s=a[o][t.property];t.initialValue=s,t.setValue(s)}}}}function l(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var r=void 0;if(o.color)r=new D["default"](t,n);else{var l=[t,n].concat(o.factoryArgs);r=A["default"].apply(e,l)}o.before instanceof k["default"]&&(o.before=o.before.__li),s(e,r),G["default"].addClass(r.domElement,"c");var u=document.createElement("span");G["default"].addClass(u,"property-name"),u.innerHTML=r.property;var d=document.createElement("div");d.appendChild(u),d.appendChild(r.domElement);var c=i(e,d,o.before);return G["default"].addClass(c,oe.CLASS_CONTROLLER_ROW),r instanceof D["default"]?G["default"].addClass(c,"color"):G["default"].addClass(c,typeof r.getValue()),a(e,c,r),e.__controllers.push(r),r}function u(e,t){return document.location.href+"."+t}function d(e,t,n){var o=document.createElement("option");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function c(e){e.style.display=gui.useLocalStorage?"block":"none"}function f(e){var t=e.__save_row=document.createElement("li");G["default"].addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),G["default"].addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",G["default"].addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",G["default"].addClass(o,"button"),G["default"].addClass(o,"save");var i=document.createElement("span");i.innerHTML="New",G["default"].addClass(i,"button"),G["default"].addClass(i,"save-as");var r=document.createElement("span");r.innerHTML="Revert",G["default"].addClass(r,"button"),G["default"].addClass(r,"revert");var a=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?K["default"].each(e.load.remembered,function(t,n){d(e,n,n===e.preset)}):d(e,Z,!1),G["default"].bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(r),$&&!function(){var t=document.getElementById("dg-local-explain"),n=document.getElementById("dg-local-storage"),o=document.getElementById("dg-save-locally");o.style.display="block","true"===localStorage.getItem(u(e,"isLocal"))&&n.setAttribute("checked","checked"),c(t),G["default"].bind(n,"change",function(){e.useLocalStorage=!e.useLocalStorage,c(t)})}();var s=document.getElementById("dg-new-constructor");G["default"].bind(s,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||W.hide()}),G["default"].bind(n,"click",function(){s.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),W.show(),s.focus(),s.select()}),G["default"].bind(o,"click",function(){e.save()}),G["default"].bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),G["default"].bind(r,"click",function(){e.revert()})}function h(e){function t(t){return t.preventDefault(),e.width+=i-t.clientX,e.onResize(),i=t.clientX,!1}function n(){G["default"].removeClass(e.__closeButton,oe.CLASS_DRAG),G["default"].unbind(window,"mousemove",t),G["default"].unbind(window,"mouseup",n)}function o(o){return o.preventDefault(),i=o.clientX,G["default"].addClass(e.__closeButton,oe.CLASS_DRAG),G["default"].bind(window,"mousemove",t),G["default"].bind(window,"mouseup",n),!1}var i=void 0;e.__resize_handle=document.createElement("div"),K["default"].extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),G["default"].bind(e.__resize_handle,"mousedown",o),G["default"].bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function p(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function _(e,t){var n={};return K["default"].each(e.__rememberedObjects,function(o,i){var r={},a=e.__rememberedObjectIndecesToControllers[i];K["default"].each(a,function(e,n){r[n]=t?e.initialValue:e.getValue()}),n[i]=r}),n}function m(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function g(e){0!==e.length&&F["default"](function(){g(e)}),K["default"].each(e,function(e){e.updateDisplay()})}var b=n(15),v=o(b),y=n(23),x=o(y),w=n(24),E=o(w),C=n(26),A=o(C),S=n(7),k=o(S),O=n(8),T=o(O),L=n(20),R=o(L),N=n(13),M=o(N),B=n(14),j=o(B),P=n(10),V=(o(P),n(21)),D=o(V),H=n(27),F=o(H),I=n(28),U=o(I),z=n(9),G=o(z),X=n(5),K=o(X);v["default"].inject(E["default"]);var W,Y,J="dg",Q=72,q=20,Z="Default",$=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),ee=!0,te=!1,ne=[],oe=function ie(e){function t(){var e=n.getRoot();e.width+=1,K["default"].defer(function(){e.width-=1})}var n=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),G["default"].addClass(this.domElement,J),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=K["default"].defaults(e,{autoPlace:!0,width:ie.DEFAULT_WIDTH}),e=K["default"].defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),K["default"].isUndefined(e.load)?e.load={preset:Z}:e.preset&&(e.load.preset=e.preset),K["default"].isUndefined(e.parent)&&e.hideable&&ne.push(this),e.resizable=K["default"].isUndefined(e.parent)&&e.resizable,e.autoPlace&&K["default"].isUndefined(e.scrollable)&&(e.scrollable=!0);var o,r=$&&"true"===localStorage.getItem(u(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:e.load.preset},set:function(t){n.parent?n.getRoot().preset=t:e.load.preset=t,m(this),n.revert()}},width:{get:function(){return e.width},set:function(t){e.width=t,p(n,t)}},name:{get:function(){return e.name},set:function(t){e.name=t,s&&(s.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(t){e.closed=t,e.closed?G["default"].addClass(n.__ul,ie.CLASS_CLOSED):G["default"].removeClass(n.__ul,ie.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?ie.TEXT_OPEN:ie.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return r},set:function(e){$&&(r=e,e?G["default"].bind(window,"unload",o):G["default"].unbind(window,"unload",o),localStorage.setItem(u(n,"isLocal"),e))}}}),K["default"].isUndefined(e.parent)){if(e.closed=!1,G["default"].addClass(this.domElement,ie.CLASS_MAIN),G["default"].makeSelectable(this.domElement,!1),$&&r){n.useLocalStorage=!0;var a=localStorage.getItem(u(this,"gui"));a&&(e.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=ie.TEXT_CLOSED,G["default"].addClass(this.__closeButton,ie.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),G["default"].bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===e.closed&&(e.closed=!0);var s=document.createTextNode(e.name);G["default"].addClass(s,"controller-name");var l=i(n,s),d=function(e){return e.preventDefault(),n.closed=!n.closed,!1};G["default"].addClass(this.__ul,ie.CLASS_CLOSED),G["default"].addClass(l,"title"),G["default"].bind(l,"click",d),e.closed||(this.closed=!1)}e.autoPlace&&(K["default"].isUndefined(e.parent)&&(ee&&(Y=document.createElement("div"),G["default"].addClass(Y,J),G["default"].addClass(Y,ie.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Y),ee=!1),Y.appendChild(this.domElement),G["default"].addClass(this.domElement,ie.CLASS_AUTO_PLACE)),this.parent||p(n,e.width)),G["default"].bind(window,"resize",function(){n.onResize()}),G["default"].bind(this.__ul,"webkitTransitionEnd",function(){n.onResize()}),G["default"].bind(this.__ul,"transitionend",function(){n.onResize()}),G["default"].bind(this.__ul,"oTransitionEnd",function(){n.onResize()}),this.onResize(),e.resizable&&h(this),o=function(){$&&"true"===localStorage.getItem(u(n,"isLocal"))&&localStorage.setItem(u(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=o;n.getRoot();e.parent||t()};oe.toggleHide=function(){te=!te,K["default"].each(ne,function(e){e.domElement.style.zIndex=te?-999:999,e.domElement.style.opacity=te?0:1})},oe.CLASS_AUTO_PLACE="a",oe.CLASS_AUTO_PLACE_CONTAINER="ac",oe.CLASS_MAIN="main",oe.CLASS_CONTROLLER_ROW="cr",oe.CLASS_TOO_TALL="taller-than-window",oe.CLASS_CLOSED="closed",oe.CLASS_CLOSE_BUTTON="close-button",oe.CLASS_DRAG="drag",oe.DEFAULT_WIDTH=245,oe.TEXT_CLOSED="Close Controls",oe.TEXT_OPEN="Open Controls",G["default"].bind(window,"keydown",function(e){"text"===document.activeElement.type||e.which!==Q&&e.keyCode!=Q||oe.toggleHide()},!1),K["default"].extend(oe.prototype,{add:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return l(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})}),addColor:function(e,t){return l(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;K["default"].defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&Y.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new oe(t);this.__folders[e]=n;var o=i(this,n.domElement);return G["default"].addClass(o,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=G["default"].getOffset(e.__ul).top,n=0;K["default"].each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=G["default"].getHeight(t))}),window.innerHeight-t-q<n?(G["default"].addClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-q+"px"):(G["default"].removeClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&K["default"].defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(K["default"].isUndefined(W)&&(W=new U["default"],W.domElement.innerHTML=x["default"]),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;K["default"].each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&f(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&p(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=_(this)),e.folders={},K["default"].each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=_(this),r(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Z]=_(this,!0)),this.load.remembered[e]=_(this),this.preset=e,d(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){K["default"].each(this.__controllers,function(t){this.getRoot().load.remembered?s(e||this.getRoot(),t):t.setValue(t.initialValue)},this),K["default"].each(this.__folders,function(e){e.revert(e)}),e||r(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&g(this.__listening)}}),e.exports=oe},function(e,t){e.exports='<div id=dg-save class="dg dialogue">Here\'s the new load parameter for your <code>GUI</code>\'s constructor:<textarea id=dg-new-constructor></textarea><div id=dg-save-locally><input id=dg-local-storage type="checkbox"> Automatically save values to <code>localStorage</code> on exit.<div id=dg-local-explain>The values saved to <code>localStorage</code> will override those passed to <code>dat.GUI</code>\'s constructor. This makes it easier to work incrementally, but <code>localStorage</code> is fragile, and your friends may not see the same values you do.</div></div></div>'},function(e,t,n){var o=n(25);"string"==typeof o&&(o=[[e.id,o,""]]);n(19)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(18)(),t.push([e.id,".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1!important}.dg.main .close-button.drag,.dg.main:hover .close-button{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;transition:opacity .1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save>ul{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height .1s ease-out;transition:height .1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid transparent}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.boolean,.dg .cr.boolean *,.dg .cr.function,.dg .cr.function *,.dg .cr.function .property-name{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco,monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:9pt 0;display:block;width:440px;overflow-y:scroll;height:75pt;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande',sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:81pt}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:1pc;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid hsla(0,0%,100%,.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.boolean:hover,.dg .cr.function:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:0}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}",""])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(10),r=o(i),a=n(13),s=o(a),l=n(14),u=o(l),d=n(11),c=o(d),f=n(20),h=o(f),p=n(8),_=o(p),m=n(5),g=o(m),b=function(e,t){var n=e[t];return g["default"].isArray(arguments[2])||g["default"].isObject(arguments[2])?new r["default"](e,t,arguments[2]):g["default"].isNumber(n)?g["default"].isNumber(arguments[2])&&g["default"].isNumber(arguments[3])?g["default"].isNumber(arguments[4])?new u["default"](e,t,arguments[2],arguments[3],arguments[4]):new u["default"](e,t,arguments[2],arguments[3]):new s["default"](e,t,{min:arguments[2],max:arguments[3]}):g["default"].isString(n)?new c["default"](e,t):g["default"].isFunction(n)?new h["default"](e,t,""):g["default"].isBoolean(n)?new _["default"](e,t):void 0};t["default"]=b,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(){function e(e){window.setTimeout(e,1e3/60)}return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||e},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(9),a=o(r),s=n(5),l=o(s),u=function(){function e(){i(this,e),this.backgroundElement=document.createElement("div"),l["default"].extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),a["default"].makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),l["default"].extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;a["default"].bind(this.backgroundElement,"click",function(){t.hide()})}return e.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),l["default"].defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},e.prototype.hide=function t(){var e=this,t=function n(){e.domElement.style.display="none",e.backgroundElement.style.display="none",a["default"].unbind(e.domElement,"webkitTransitionEnd",n),a["default"].unbind(e.domElement,"transitionend",n),a["default"].unbind(e.domElement,"oTransitionEnd",n)};a["default"].bind(this.domElement,"webkitTransitionEnd",t),a["default"].bind(this.domElement,"transitionend",t),a["default"].bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},e.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-a["default"].getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-a["default"].getHeight(this.domElement)/2+"px"},e}();t["default"]=u,e.exports=t["default"]}])});

/***/ },
/* 6 */
/***/ function(module, exports) {

	module.exports = "/*\n*\tMatterTools.Gui\n*/\n\nbody .dg .c,\nbody .dg .cr.function,\nbody .dg .c select,\nbody .dg .property-name,\nbody .dg .title {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\nbody .dg.main {\n  z-index: 10;\n  box-shadow: 0 0 30px rgba(0,0,0,0.2);\n  height: 100%;\n  background: rgb(28, 29, 47);\n  position: fixed;\n  top: 0;\n  right: 0;\n}\n\nbody .dg.ac {\n  position: static;\n  top: inherit;\n  left: inherit;\n  bottom: inherit;\n  right: inherit;\n}\n\n@media only screen and (max-width : 1500px) {\n  body .dg.main {\n    transform: translate(230px, 0);\n  }\n\n  body .dg.main:hover {\n    transform: translate(0, 0);\n  }\n\n  body .dg.main {\n    -webkit-transition: transform 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        -moz-transition: transform 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        -o-transition: transform 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        transition: transform 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415);\n\n    -webkit-transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        -moz-transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        -o-transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415);\n    \n    transition-delay: 2s;\n    -webkit-transition-delay: 2s;\n  }\n\n  body .dg.main:hover {\n    -webkit-transition: transform 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        -moz-transition: transform 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        -o-transition: transform 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        transition: transform 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835);\n\n    -webkit-transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        -moz-transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        -o-transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835);\n\n    transition-delay: 0;\n    -webkit-transition-delay: 0;\n  }\n}\n\nbody .dg.main .close-button {\n  display: none;\n}\n\nbody .dg.main::-webkit-scrollbar {\n  background: #1c1c25;\n  width: 12px;\n}\n\nbody .dg.main::-webkit-scrollbar-thumb {\n  background: transparent;\n  width: 5px;\n  border-left: 5px solid transparent;\n  border-right: 6px solid #2a2a31;\n  border-radius: 0;\n}\n \nbody .dg {\n  color: #9196ad;\n  text-shadow: none !important;\n}\n\nbody .dg li:not(.folder) {\n  height: 28px;\n  background: #1c1c25;\n  border-bottom: 0px;\n  padding: 0 0 0 12px;\n}\n \nbody .dg li.save-row .button {\n  text-shadow: none !important;\n}\n\nbody .dg li.title {\n  padding-left: 22px;\n  color: #6f7388;\n  border-bottom: 1px solid #29292d;\n  background: #0d0f1b url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 10px 10px no-repeat;\n}\n\nbody .dg .cr.boolean:hover {\n  background: #232431;\n}\n\nbody .dg .cr.function {\n  background: #262731;\n  color: #6d7082;\n  border-bottom: 1px solid #222535;\n  border-top: 1px solid #3c3e48;\n}\n\nbody .dg .cr.function:hover {\n  background: #30313e;\n}\n\nbody .dg .cr.function:active {\n  transform: translateY(1px);\n}\n\nbody .dg .c,\nbody .dg .property-name {\n  width: 50%;\n}\n\nbody .dg .c select {\n  margin-top: 2px;\n  margin-left: -5px;\n  padding: 3px 5px;\n}\n\nbody .dg .c select,\nbody .dg .c input[type=text],\nbody .dg .cr.number input[type=text] {\n  text-align: right;\n  background: #191a23;\n  color: #686c7b;\n  border: 0;\n  font-size: 10px;\n}\n\nbody .dg .cr.number,\nbody .dg .cr.boolean,\nbody .dg .cr.function {\n  border-left: 0;\n}\n\nbody .dg .c select,\nbody .dg .c select:focus {\n  width: 88px;\n  outline: 0;\n}\n \nbody .dg .c input[type=text]:hover {\n  background: #1c1d2f;\n}\n \nbody .dg .c input[type=text]:focus {\n  background: #1c1d2f;\n  color: #fff;\n}\n\nbody .dg .c input[type=checkbox] {\n  margin-top: 9px;\n  border: none;\n  border-radius: 3px;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background: #35363e;\n  display: block;\n  width: 10px;\n  height: 10px;\n  float: right;\n}\n\nbody .dg .c input[type=checkbox]:checked {\n  background: #5b5e6b;\n}\n\nbody .dg .c input[type=checkbox]:focus {\n  outline: none;\n}\n \nbody .dg .c .slider {\n  background: #252731;\n  border-radius: 0;\n  box-shadow: none;\n  padding: 0;\n}\n\nbody .dg .c .slider:hover {\n  background: #282b3a;\n}\n\nbody .dg .c .slider-fg {\n  background: #32364a;\n  border-radius: 0;\n  margin-left: 0;\n  padding-right: 0;\n}\n\nbody .dg .c .slider-fg:after {\n  display: none;\n}\n\nbody .dg .c .slider:hover .slider-fg {\n  background: #4d526b;\n}\n\nbody .dg li.folder {\n  border-left: 0;\n}\n\nbody .dg.a {\n  margin-right: 0;\n}"

/***/ }
/******/ ])
});
;
--></script>
<script
  class="download_content"
  name="lib/matter-tools.inspector.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748138,&quot;hash&quot;:&quot;879ca289e6417969f45b2f5bd459f72d&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
/*!
 * matter-tools 0.9.1 by Liam Brummitt 2017-01-26
 * https://github.com/liabru/matter-tools
 * License MIT
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("Matter"), require("MatterTools"), require("jQuery"));
	else if(typeof define === 'function' && define.amd)
		define(["Matter", "MatterTools", "jQuery"], factory);
	else if(typeof exports === 'object')
		exports["Inspector"] = factory(require("Matter"), require("MatterTools"), require("jQuery"));
	else
		root["MatterTools"] = root["MatterTools"] || {}, root["MatterTools"]["Inspector"] = factory(root["Matter"], root["MatterTools"], root["jQuery"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_7__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/demo/lib";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	/**
	 * A tool for inspecting worlds.
	 * @module Inspector
	 */

	var Inspector = module.exports = {};
	var $ = __webpack_require__(7);
	__webpack_require__(8);
	var ToolsCommon = __webpack_require__(3);
	var Serializer = __webpack_require__(2).Serializer;
	var km = __webpack_require__(9);
	var Matter = __webpack_require__(1);
	var Body = Matter.Body;
	var Bounds = Matter.Bounds;
	var Composite = Matter.Composite;
	var Common = Matter.Common;
	var Events = Matter.Events;
	var Mouse = Matter.Mouse;
	var Query = Matter.Query;
	var Vertices = Matter.Vertices;
	var Vector = Matter.Vector;
	var MouseConstraint = Matter.MouseConstraint;

	var $body;

	/**
	 * Creates an inspector
	 * @function Gui.create
	 * @param {engine} engine
	 * @param {render} [render]
	 * @param {object} options
	 * @return {inspector} The created inspector instance.
	 */
	Inspector.create = function (engine, render, options) {
	  if (!$) {
	    console.log('Could not create inspector, missing jQuery.');
	    return;
	  }

	  var inspector = {
	    engine: null,
	    render: null,
	    isPaused: false,
	    selected: [],
	    selectStart: null,
	    selectEnd: null,
	    selectBounds: Bounds.create(),
	    mousePrevPosition: { x: 0, y: 0 },
	    offset: { x: 0, y: 0 },
	    autoHide: true,
	    autoRewind: true,
	    bodyClass: '',
	    exportIndent: 0,
	    clipboard: [],
	    controls: {
	      container: null,
	      worldTree: null
	    },
	    root: Composite.create({
	      label: 'Root'
	    }),
	    keyBindings: []
	  };

	  inspector = Common.extend(inspector, options);
	  Inspector.instance = inspector;

	  inspector.engine = engine;
	  inspector.render = render;

	  if (inspector.render) {
	    inspector.mouse = Mouse.create(inspector.render.canvas);
	    inspector.mouseConstraint = MouseConstraint.create(engine, { mouse: inspector.mouse });
	  } else {
	    inspector.mouse = {
	      position: {
	        x: 0,
	        y: 0
	      }
	    };
	  }

	  if (Serializer) {
	    inspector.serializer = Serializer.create();
	    localStorage.removeItem('pauseState');
	  }

	  $body = $('body');

	  Composite.add(inspector.root, engine.world);
	  engine.world.isModified = true;
	  engine.world.parent = null;

	  var styles = __webpack_require__(10);
	  ToolsCommon.injectStyles(styles, 'js-tree-style');

	  styles = __webpack_require__(11);
	  ToolsCommon.injectStyles(styles, 'matter-inspector-style');

	  inspector.keyBind = Common.chain(km, function (key) {
	    inspector.keyBindings.push(key);
	  });

	  _initControls(inspector);
	  _initEngineEvents(inspector);
	  _initTree(inspector);
	  _initKeybinds(inspector);

	  return inspector;
	};

	/**
	 * Destroys the inspector
	 * @function Gui.destroy
	 * @param {Inspector} inspector
	 */
	Inspector.destroy = function (inspector) {
	  inspector.controls.worldTree.data('jstree').destroy();

	  var inspectorElements = [].slice.call(document.body.querySelectorAll('.ins-container', '.vakata-context', '.jstree-marker'));

	  inspectorElements.forEach(ToolsCommon.domRemove);

	  inspector.keyBindings.forEach(function (key) {
	    km.unbind(key);
	  });

	  Events.off(inspector.engine, 'beforeUpdate', inspector.beforeEngineUpdate);

	  if (inspector.render) {
	    Events.off(inspector.render, 'afterRender', inspector.afterRender);
	    Events.off(inspector.mouseConstraint);
	  }
	};

	var _initControls = function _initControls(inspector) {
	  var controls = inspector.controls;

	  var $inspectorContainer = $('<div class="ins-container">'),
	      $buttonGroup = $('<div class="ins-control-group">'),
	      $searchBox = $('<input class="ins-search-box" type="search" placeholder="search">'),
	      $importButton = $('<button class="ins-import-button ins-button">Import</button>'),
	      $exportButton = $('<button class="ins-export-button ins-button">Export</button>'),
	      $pauseButton = $('<button class="ins-pause-button ins-button">Pause</button>'),
	      $helpButton = $('<button class="ins-help-button ins-button">Help</button>'),
	      $addCompositeButton = $('<button class="ins-add-button ins-button">+</button>');

	  if (Serializer) {
	    $buttonGroup.append($pauseButton, $importButton, $exportButton, $helpButton);
	  } else {
	    $buttonGroup.append($pauseButton, $helpButton);
	  }

	  $inspectorContainer.prepend($searchBox, $addCompositeButton);
	  $body.prepend($inspectorContainer);

	  controls.pauseButton = $pauseButton;
	  controls.importButton = $importButton;
	  controls.exportButton = $exportButton;
	  controls.helpButton = $helpButton;
	  controls.searchBox = $searchBox;
	  controls.container = $inspectorContainer;
	  controls.addCompositeButton = $addCompositeButton;

	  controls.pauseButton.click(function () {
	    _setPaused(inspector, !inspector.isPaused);
	  });

	  controls.exportButton.click(function () {
	    _exportFile(inspector);
	  });

	  controls.importButton.click(function () {
	    _importFile(inspector);
	  });

	  controls.helpButton.click(function () {
	    _showHelp(inspector);
	  });

	  controls.addCompositeButton.click(function () {
	    _addNewComposite(inspector);
	  });

	  var searchTimeout;
	  controls.searchBox.keyup(function () {
	    clearTimeout(searchTimeout);
	    searchTimeout = setTimeout(function () {
	      var value = controls.searchBox.val(),
	          worldTree = controls.worldTree.data('jstree');
	      worldTree.search(value);
	    }, 250);
	  });
	};

	var _showHelp = function _showHelp() {
	  var help = "Matter Tools\n\n";

	  help += "Drag nodes in the tree to move them between composites.\n";
	  help += "Use browser's developer console to inspect selected objects.\n";
	  help += "Note: selections only render if renderer supports it.\n\n";

	  help += "[shift + space] pause or play simulation.\n";
	  help += "[right click] and drag on empty space to select a region.\n";
	  help += "[right click] and drag on an object to move it.\n";
	  help += "[right click + shift] and drag to move whole selection.\n\n";

	  help += "[ctrl-c] to copy selected world objects.\n";
	  help += "[ctrl-v] to paste copied world objects to mouse position.\n";
	  help += "[del] or [backspace] delete selected objects.\n\n";

	  help += "[shift + s] scale-xy selected objects with mouse or arrows.\n";
	  help += "[shift + s + d] scale-x selected objects with mouse or arrows.\n";
	  help += "[shift + s + f] scale-y selected objects with mouse or arrows.\n";
	  help += "[shift + r] rotate selected objects with mouse or arrows.\n\n";

	  help += "[shift + q] set selected objects as static (can't be undone).\n";
	  help += "[shift + i] import objects.\n";
	  help += "[shift + o] export selected objects.\n";
	  help += "[shift + h] toggle Matter.Gui.\n";
	  help += "[shift + y] toggle auto-hide.\n";
	  help += "[shift + r] toggle auto-rewind on play/pause.\n\n";

	  help += "[shift + j] show this help message.";

	  alert(help);
	};

	var _initKeybinds = function _initKeybinds(inspector) {
	  inspector.keyBind('shift+space', function () {
	    _setPaused(inspector, !inspector.isPaused);
	  });

	  if (inspector.serializer) {
	    inspector.keyBind('shift+o', function () {
	      _exportFile(inspector);
	    });

	    inspector.keyBind('shift+i', function () {
	      _importFile(inspector);
	    });
	  }

	  inspector.keyBind('shift+j', function () {
	    _showHelp(inspector);
	  });

	  inspector.keyBind('shift+y', function () {
	    inspector.autoHide = !inspector.autoHide;
	    $body.toggleClass('ins-auto-hide gui-auto-hide', inspector.autoHide);
	  });

	  inspector.keyBind('shift+r', function () {
	    inspector.autoRewind = !inspector.autoRewind;
	    if (!inspector.autoRewind) localStorage.removeItem('pauseState');
	  });

	  inspector.keyBind('shift+q', function () {
	    for (var i = 0; i < inspector.selected.length; i++) {
	      var object = inspector.selected[i].data;
	      if (object.type === 'body' && !object.isStatic) Body.setStatic(object, true);
	    }
	  });

	  inspector.keyBind('del', function () {
	    _deleteSelectedObjects(inspector);
	  });

	  inspector.keyBind('backspace', function () {
	    _deleteSelectedObjects(inspector);
	  });

	  if (inspector.serializer) {
	    inspector.keyBind('ctrl+c', function () {
	      _copySelectedObjects(inspector);
	    });

	    inspector.keyBind('ctrl+v', function () {
	      _pasteSelectedObjects(inspector);
	    });
	  }

	  // prevent the backspace key from navigating back
	  // http://stackoverflow.com/questions/1495219/how-can-i-prevent-the-backspace-key-from-navigating-back
	  $(document).unbind('keydown').bind('keydown', function (event) {
	    var doPrevent = false;
	    if (event.keyCode === 8) {
	      var d = event.srcElement || event.target;
	      if (d.tagName.toUpperCase() === 'INPUT' && (d.type.toUpperCase() === 'TEXT' || d.type.toUpperCase() === 'PASSWORD' || d.type.toUpperCase() === 'FILE' || d.type.toUpperCase() === 'EMAIL' || d.type.toUpperCase() === 'SEARCH') || d.tagName.toUpperCase() === 'TEXTAREA') {
	        doPrevent = d.readOnly || d.disabled;
	      } else {
	        doPrevent = true;
	      }
	    }

	    if (doPrevent) {
	      event.preventDefault();
	    }
	  });
	};

	var _initTree = function _initTree(inspector) {
	  var engine = inspector.engine,
	      controls = inspector.controls,
	      deferTimeout;

	  var worldTreeOptions = {
	    'core': {
	      'check_callback': true
	    },
	    'dnd': {
	      'copy': false
	    },
	    'search': {
	      'show_only_matches': true,
	      'fuzzy': false
	    },
	    'types': {
	      '#': {
	        'valid_children': []
	      },
	      'body': {
	        'valid_children': []
	      },
	      'constraint': {
	        'valid_children': []
	      },
	      'composite': {
	        'valid_children': []
	      },
	      'bodies': {
	        'valid_children': ['body']
	      },
	      'constraints': {
	        'valid_children': ['constraint']
	      },
	      'composites': {
	        'valid_children': ['composite']
	      }
	    },
	    'plugins': ['dnd', 'types', 'unique', 'search']
	  };

	  controls.worldTree = $('<div class="ins-world-tree">').jstree(worldTreeOptions);
	  controls.container.append(controls.worldTree);

	  controls.worldTree.on('changed.jstree', function (event, data) {
	    var selected = [],
	        worldTree = controls.worldTree.data('jstree');

	    if (data.action !== 'select_node') return;

	    // defer selection update until selection has finished propagating
	    clearTimeout(deferTimeout);
	    deferTimeout = setTimeout(function () {
	      data.selected = worldTree.get_selected();

	      for (var i = 0; i < data.selected.length; i++) {
	        var nodeId = data.selected[i],
	            objectType = nodeId.split('_')[0],
	            objectId = nodeId.split('_')[1],
	            worldObject = Composite.get(engine.world, objectId, objectType);

	        switch (objectType) {
	          case 'body':
	          case 'constraint':
	          case 'composite':
	            selected.push(worldObject);
	            break;
	        }
	      }

	      _setSelectedObjects(inspector, selected);
	    }, 1);
	  });

	  $(document).on('dnd_stop.vakata', function (event, data) {
	    var worldTree = controls.worldTree.data('jstree'),
	        nodes = data.data.nodes;

	    // handle drag and drop
	    // move items between composites
	    for (var i = 0; i < nodes.length; i++) {
	      var node = worldTree.get_node(nodes[i]),
	          parentNode = worldTree.get_node(worldTree.get_parent(nodes[i])),
	          prevCompositeId = node.data.compositeId,
	          newCompositeId = parentNode.data.compositeId;

	      if (prevCompositeId === newCompositeId) continue;

	      var nodeId = nodes[i],
	          objectType = nodeId.split('_')[0],
	          objectId = nodeId.split('_')[1],
	          worldObject = Composite.get(inspector.root, objectId, objectType),
	          prevComposite = Composite.get(inspector.root, prevCompositeId, 'composite'),
	          newComposite = Composite.get(inspector.root, newCompositeId, 'composite');

	      Composite.move(prevComposite, worldObject, newComposite);
	    }
	  });

	  controls.worldTree.on('dblclick.jstree', function () {
	    var worldTree = controls.worldTree.data('jstree'),
	        selected = worldTree.get_selected();

	    // select all children of double clicked node
	    for (var i = 0; i < selected.length; i++) {
	      var nodeId = selected[i],
	          objectType = nodeId.split('_')[0];

	      switch (objectType) {
	        case 'composite':
	        case 'composites':
	        case 'bodies':
	        case 'constraints':
	          var children = worldTree.get_node(nodeId).children;

	          for (var j = 0; j < children.length; j++) {
	            worldTree.select_node(children[j], false);
	          }break;
	      }
	    }
	  });
	};

	var _addBodyClass = function _addBodyClass(inspector, classNames) {
	  // only apply changes to prevent DOM lag
	  if (inspector.bodyClass.indexOf(' ' + classNames) === -1) {
	    $body.addClass(classNames);
	    inspector.bodyClass = ' ' + $body.attr('class');
	  }
	};

	var _removeBodyClass = function _removeBodyClass(inspector, classNames) {
	  // only apply changes to prevent DOM lag
	  var updateRequired = false,
	      classes = classNames.split(' ');

	  for (var i = 0; i < classes.length; i++) {
	    updateRequired = inspector.bodyClass.indexOf(' ' + classes[i]) !== -1;
	    if (updateRequired) break;
	  }

	  if (updateRequired) {
	    $body.removeClass(classNames);
	    inspector.bodyClass = ' ' + $body.attr('class');
	  }
	};

	var _getMousePosition = function _getMousePosition(inspector) {
	  return Vector.add(inspector.mouse.position, inspector.offset);
	};

	var _initEngineEvents = function _initEngineEvents(inspector) {
	  var engine = inspector.engine,
	      mouse = inspector.mouse,
	      mousePosition = _getMousePosition(inspector),
	      controls = inspector.controls;

	  inspector.beforeEngineUpdate = function () {
	    // update mouse position reference
	    mousePosition = _getMousePosition(inspector);

	    var mouseDelta = mousePosition.x - inspector.mousePrevPosition.x,
	        keyDelta = km.isPressed('up') + km.isPressed('right') - km.isPressed('down') - km.isPressed('left'),
	        delta = mouseDelta + keyDelta;

	    // update interface when world changes
	    if (engine.world.isModified) {
	      var data = _generateCompositeTreeNode(inspector.root, null, true);
	      _updateTree(controls.worldTree.data('jstree'), data);
	      _setSelectedObjects(inspector, []);
	    }

	    // update region selection
	    if (inspector.selectStart !== null) {
	      inspector.selectEnd.x = mousePosition.x;
	      inspector.selectEnd.y = mousePosition.y;
	      Bounds.update(inspector.selectBounds, [inspector.selectStart, inspector.selectEnd]);
	    }

	    // rotate mode
	    if (km.shift && km.isPressed('r')) {
	      var rotateSpeed = 0.03,
	          angle = Math.max(-2, Math.min(2, delta)) * rotateSpeed;

	      _addBodyClass(inspector, 'ins-cursor-rotate');
	      _rotateSelectedObjects(inspector, angle);
	    } else {
	      _removeBodyClass(inspector, 'ins-cursor-rotate');
	    }

	    // scale mode
	    if (km.shift && km.isPressed('s')) {
	      var scaleSpeed = 0.02,
	          scale = 1 + Math.max(-2, Math.min(2, delta)) * scaleSpeed;

	      _addBodyClass(inspector, 'ins-cursor-scale');

	      var scaleX, scaleY;

	      if (km.isPressed('d')) {
	        scaleX = scale;
	        scaleY = 1;
	      } else if (km.isPressed('f')) {
	        scaleX = 1;
	        scaleY = scale;
	      } else {
	        scaleX = scaleY = scale;
	      }

	      _scaleSelectedObjects(inspector, scaleX, scaleY);
	    } else {
	      _removeBodyClass(inspector, 'ins-cursor-scale');
	    }

	    // translate mode
	    if (mouse.button === 2) {
	      _addBodyClass(inspector, 'ins-cursor-move');
	      _moveSelectedObjects(inspector, mousePosition.x, mousePosition.y);
	    } else {
	      _removeBodyClass(inspector, 'ins-cursor-move');
	    }

	    inspector.mousePrevPosition = Common.clone(mousePosition);
	  };

	  Events.on(inspector.engine, 'beforeUpdate', inspector.beforeEngineUpdate);

	  if (inspector.mouseConstraint) {
	    Events.on(inspector.mouseConstraint, 'mouseup', function () {
	      // select objects in region if making a region selection
	      if (inspector.selectStart !== null) {
	        var selected = Query.region(Composite.allBodies(engine.world), inspector.selectBounds);
	        _setSelectedObjects(inspector, selected);
	      }

	      // clear selection region
	      inspector.selectStart = null;
	      inspector.selectEnd = null;
	      Events.trigger(inspector, 'selectEnd');
	    });

	    Events.on(inspector.mouseConstraint, 'mousedown', function () {
	      var bodies = Composite.allBodies(engine.world),
	          constraints = Composite.allConstraints(engine.world),
	          isUnionSelect = km.shift || km.control,
	          worldTree = inspector.controls.worldTree.data('jstree'),
	          i;

	      if (mouse.button === 2) {
	        var hasSelected = false;

	        for (i = 0; i < bodies.length; i++) {
	          var body = bodies[i];

	          if (Bounds.contains(body.bounds, mousePosition) && Vertices.contains(body.vertices, mousePosition)) {

	            if (isUnionSelect) {
	              _addSelectedObject(inspector, body);
	            } else {
	              _setSelectedObjects(inspector, [body]);
	            }

	            hasSelected = true;
	            break;
	          }
	        }

	        if (!hasSelected) {
	          for (i = 0; i < constraints.length; i++) {
	            var constraint = constraints[i],
	                bodyA = constraint.bodyA,
	                bodyB = constraint.bodyB;

	            if (constraint.label.indexOf('Mouse Constraint') !== -1) continue;

	            var pointAWorld = constraint.pointA,
	                pointBWorld = constraint.pointB;

	            if (bodyA) pointAWorld = Vector.add(bodyA.position, constraint.pointA);
	            if (bodyB) pointBWorld = Vector.add(bodyB.position, constraint.pointB);

	            if (!pointAWorld || !pointBWorld) continue;

	            var distA = Vector.magnitudeSquared(Vector.sub(mousePosition, pointAWorld)),
	                distB = Vector.magnitudeSquared(Vector.sub(mousePosition, pointBWorld));

	            if (distA < 100 || distB < 100) {
	              if (isUnionSelect) {
	                _addSelectedObject(inspector, constraint);
	              } else {
	                _setSelectedObjects(inspector, [constraint]);
	              }

	              hasSelected = true;
	              break;
	            }
	          }

	          if (!hasSelected) {
	            worldTree.deselect_all(true);
	            _setSelectedObjects(inspector, []);

	            inspector.selectStart = Common.clone(mousePosition);
	            inspector.selectEnd = Common.clone(mousePosition);
	            Bounds.update(inspector.selectBounds, [inspector.selectStart, inspector.selectEnd]);

	            Events.trigger(inspector, 'selectStart');
	          } else {
	            inspector.selectStart = null;
	            inspector.selectEnd = null;
	          }
	        }
	      }

	      if (mouse.button === 2 && inspector.selected.length > 0) {
	        _addBodyClass(inspector, 'ins-cursor-move');

	        _updateSelectedMouseDownOffset(inspector);
	      }
	    });
	  }

	  if (inspector.render) {
	    inspector.afterRender = function () {
	      var renderController = inspector.render.controller,
	          context = inspector.render.context;
	      if (renderController.inspector) renderController.inspector(inspector, context);
	    };

	    Events.on(inspector.render, 'afterRender', inspector.afterRender);
	  }
	};

	var _deleteSelectedObjects = function _deleteSelectedObjects(inspector) {
	  var objects = [],
	      object,
	      worldTree = inspector.controls.worldTree.data('jstree'),
	      i;

	  // delete objects in world
	  for (i = 0; i < inspector.selected.length; i++) {
	    object = inspector.selected[i].data;
	    if (object !== inspector.engine.world) objects.push(object);
	  }

	  // also delete non-world composites (selected only in the UI tree)
	  var selectedNodes = worldTree.get_selected();
	  for (i = 0; i < selectedNodes.length; i++) {
	    var node = worldTree.get_node(selectedNodes[i]);
	    if (node.type === 'composite') {
	      node = worldTree.get_node(node.children[0]);
	      if (node.data) {
	        var compositeId = node.data.compositeId;
	        object = Composite.get(inspector.root, compositeId, 'composite');
	        if (object && object !== inspector.engine.world) {
	          objects.push(object);
	          worldTree.delete_node(selectedNodes[i]);
	        }
	      }
	    }
	  }

	  Composite.remove(inspector.root, objects, true);
	  _setSelectedObjects(inspector, []);
	};

	var _copySelectedObjects = function _copySelectedObjects(inspector) {
	  inspector.clipboard.length = 0;

	  // put selected objects into clipboard
	  for (var i = 0; i < inspector.selected.length; i++) {
	    var object = inspector.selected[i].data;

	    if (object.type !== 'body') continue;

	    inspector.clipboard.push(object);
	  }
	};

	var _pasteSelectedObjects = function _pasteSelectedObjects(inspector) {
	  if (!inspector.serializer) {
	    return;
	  }

	  var objects = [],
	      worldTree = inspector.controls.worldTree.data('jstree');

	  // copy objects in world
	  for (var i = 0; i < inspector.clipboard.length; i++) {
	    var object = inspector.clipboard[i],
	        clone = Serializer.clone(inspector.serializer, object);
	    Body.translate(clone, { x: 50, y: 50 });

	    // add the clone to the same composite as original
	    var node = worldTree.get_node(object.type + '_' + object.id, false),
	        compositeId = node.data.compositeId,
	        composite = Composite.get(inspector.engine.world, compositeId, 'composite');

	    Composite.add(composite, clone);

	    objects.push(clone);
	  }

	  // select clones after waiting for tree to update
	  setTimeout(function () {
	    _setSelectedObjects(inspector, objects);
	  }, 200);
	};

	var _updateSelectedMouseDownOffset = function _updateSelectedMouseDownOffset(inspector) {
	  var selected = inspector.selected,
	      mousePosition = _getMousePosition(inspector),
	      item,
	      data;

	  for (var i = 0; i < selected.length; i++) {
	    item = selected[i];
	    data = item.data;

	    if (data.position) {
	      item.mousedownOffset = {
	        x: mousePosition.x - data.position.x,
	        y: mousePosition.y - data.position.y
	      };
	    } else if (data.pointA && !data.bodyA) {
	      item.mousedownOffset = {
	        x: mousePosition.x - data.pointA.x,
	        y: mousePosition.y - data.pointA.y
	      };
	    } else if (data.pointB && !data.bodyB) {
	      item.mousedownOffset = {
	        x: mousePosition.x - data.pointB.x,
	        y: mousePosition.y - data.pointB.y
	      };
	    }
	  }
	};

	var _moveSelectedObjects = function _moveSelectedObjects(inspector, x, y) {
	  var selected = inspector.selected,
	      item,
	      data;

	  for (var i = 0; i < selected.length; i++) {
	    item = selected[i];
	    data = item.data;

	    if (!item.mousedownOffset) continue;

	    switch (data.type) {

	      case 'body':
	        var delta = {
	          x: x - data.position.x - item.mousedownOffset.x,
	          y: y - data.position.y - item.mousedownOffset.y
	        };

	        Body.translate(data, delta);
	        data.positionPrev.x = data.position.x;
	        data.positionPrev.y = data.position.y;

	        break;

	      case 'constraint':
	        var point = data.pointA;
	        if (data.bodyA) point = data.pointB;

	        point.x = x - item.mousedownOffset.x;
	        point.y = y - item.mousedownOffset.y;

	        var initialPointA = data.bodyA ? Vector.add(data.bodyA.position, data.pointA) : data.pointA,
	            initialPointB = data.bodyB ? Vector.add(data.bodyB.position, data.pointB) : data.pointB;

	        data.length = Vector.magnitude(Vector.sub(initialPointA, initialPointB));

	        break;

	    }
	  }
	};

	var _scaleSelectedObjects = function _scaleSelectedObjects(inspector, scaleX, scaleY) {
	  var selected = inspector.selected,
	      item,
	      data;

	  for (var i = 0; i < selected.length; i++) {
	    item = selected[i];
	    data = item.data;

	    switch (data.type) {
	      case 'body':
	        Body.scale(data, scaleX, scaleY, data.position);

	        if (data.circleRadius) data.circleRadius *= scaleX;

	        break;
	    }
	  }
	};

	var _rotateSelectedObjects = function _rotateSelectedObjects(inspector, angle) {
	  var selected = inspector.selected,
	      item,
	      data;

	  for (var i = 0; i < selected.length; i++) {
	    item = selected[i];
	    data = item.data;

	    switch (data.type) {
	      case 'body':
	        Body.rotate(data, angle);
	        break;
	    }
	  }
	};

	var _setPaused = function _setPaused(inspector, isPaused) {
	  if (isPaused) {
	    if (inspector.autoRewind && inspector.serializer) {
	      _setSelectedObjects(inspector, []);
	      Serializer.loadState(inspector.serializer, inspector.engine, 'pauseState');
	    }

	    inspector.engine.timing.timeScale = 0;
	    inspector.isPaused = true;
	    inspector.controls.pauseButton.text('Play');

	    Events.trigger(inspector, 'paused');
	  } else {
	    if (inspector.autoRewind && inspector.serializer) {
	      Serializer.saveState(inspector.serializer, inspector.engine, 'pauseState');
	    }

	    inspector.engine.timing.timeScale = 1;
	    inspector.isPaused = false;
	    inspector.controls.pauseButton.text('Pause');

	    Events.trigger(inspector, 'play');
	  }
	};

	var _setSelectedObjects = function _setSelectedObjects(inspector, objects) {
	  var worldTree = inspector.controls.worldTree.data('jstree'),
	      data,
	      i;

	  for (i = 0; i < inspector.selected.length; i++) {
	    data = inspector.selected[i].data;
	    worldTree.deselect_node(data.type + '_' + data.id, true);
	  }

	  inspector.selected = [];

	  if (objects.length > 0) {
	    console.clear();
	  }

	  for (i = 0; i < objects.length; i++) {
	    data = objects[i];

	    if (data) {
	      // add the object to the selection
	      _addSelectedObject(inspector, data);

	      // log selected objects to console for property inspection
	      if (i < 5) {
	        console.log(data.label + ' ' + data.id + ': %O', data);
	      } else if (i === 6) {
	        console.warn('Omitted inspecting ' + (objects.length - 5) + ' more objects');
	      }
	    }
	  }
	};

	var _addSelectedObject = function _addSelectedObject(inspector, object) {
	  if (!object) return;

	  var worldTree = inspector.controls.worldTree.data('jstree');
	  inspector.selected.push({ data: object });
	  worldTree.select_node(object.type + '_' + object.id, true);
	};

	var _updateTree = function _updateTree(tree, data) {
	  data[0].state = data[0].state || { opened: true };
	  tree.settings.core.data = data;
	  tree.refresh(-1);
	};

	var _generateCompositeTreeNode = function _generateCompositeTreeNode(composite, compositeId, isRoot) {
	  var children = [],
	      node = {
	    id: 'composite_' + composite.id,
	    data: {
	      compositeId: compositeId
	    },
	    type: 'composite',
	    text: (composite.label ? composite.label : 'Composite') + ' ' + composite.id,
	    'li_attr': {
	      'class': 'jstree-node-type-composite'
	    }
	  };

	  var childNode = _generateCompositesTreeNode(composite.composites, composite.id);
	  childNode.id = 'composites_' + composite.id;
	  children.push(childNode);

	  if (isRoot) return childNode.children;

	  childNode = _generateBodiesTreeNode(composite.bodies, composite.id);
	  childNode.id = 'bodies_' + composite.id;
	  children.push(childNode);

	  childNode = _generateConstraintsTreeNode(composite.constraints, composite.id);
	  childNode.id = 'constraints_' + composite.id;
	  children.push(childNode);

	  node.children = children;

	  return node;
	};

	var _generateCompositesTreeNode = function _generateCompositesTreeNode(composites, compositeId) {
	  var node = {
	    type: 'composites',
	    text: 'Composites',
	    data: {
	      compositeId: compositeId
	    },
	    children: [],
	    'li_attr': {
	      'class': 'jstree-node-type-composites'
	    }
	  };

	  for (var i = 0; i < composites.length; i++) {
	    var composite = composites[i];
	    node.children.push(_generateCompositeTreeNode(composite, compositeId));
	  }

	  return node;
	};

	var _generateBodiesTreeNode = function _generateBodiesTreeNode(bodies, compositeId) {
	  var node = {
	    type: 'bodies',
	    text: 'Bodies',
	    data: {
	      compositeId: compositeId
	    },
	    children: [],
	    'li_attr': {
	      'class': 'jstree-node-type-bodies'
	    }
	  };

	  for (var i = 0; i < bodies.length; i++) {
	    var body = bodies[i];
	    node.children.push({
	      type: 'body',
	      id: 'body_' + body.id,
	      data: {
	        compositeId: compositeId
	      },
	      text: (body.label ? body.label : 'Body') + ' ' + body.id,
	      'li_attr': {
	        'class': 'jstree-node-type-body'
	      }
	    });
	  }

	  return node;
	};

	var _generateConstraintsTreeNode = function _generateConstraintsTreeNode(constraints, compositeId) {
	  var node = {
	    type: 'constraints',
	    text: 'Constraints',
	    data: {
	      compositeId: compositeId
	    },
	    children: [],
	    'li_attr': {
	      'class': 'jstree-node-type-constraints'
	    }
	  };

	  for (var i = 0; i < constraints.length; i++) {
	    var constraint = constraints[i];
	    node.children.push({
	      type: 'constraint',
	      id: 'constraint_' + constraint.id,
	      data: {
	        compositeId: compositeId
	      },
	      text: (constraint.label ? constraint.label : 'Constraint') + ' ' + constraint.id,
	      'li_attr': {
	        'class': 'jstree-node-type-constraint'
	      }
	    });
	  }

	  return node;
	};

	var _addNewComposite = function _addNewComposite(inspector) {
	  var newComposite = Composite.create();

	  Composite.add(inspector.root, newComposite);

	  // move new composite to the start so that it appears top of tree
	  inspector.root.composites.splice(inspector.root.composites.length - 1, 1);
	  inspector.root.composites.unshift(newComposite);

	  Composite.setModified(inspector.engine.world, true, true, false);
	};

	var _exportFile = function _exportFile(inspector) {
	  if (!inspector.serializer) {
	    alert('No serializer.');
	    return;
	  }

	  if (inspector.selected.length === 0) {
	    alert('No objects were selected, so export could not be created. Can only export objects that are in the World composite.');
	    return;
	  }

	  var fileName = 'export-objects',
	      exportComposite = Composite.create({
	    label: 'Exported Objects'
	  });

	  // add everything else, must be in top-down order
	  for (var i = 0; i < inspector.selected.length; i++) {
	    var object = inspector.selected[i].data;

	    // skip if it's already in the composite tree
	    // this means orphans will be added in the root
	    if (Composite.get(exportComposite, object.id, object.type)) continue;

	    Composite.add(exportComposite, object);

	    // better filename for small exports
	    if (inspector.selected.length === 1) fileName = 'export-' + object.label + '-' + object.id;
	  }

	  // santise filename
	  fileName = fileName.toLowerCase().replace(/[^\w\-]/g, '') + '.json';

	  // serialise
	  var json = Serializer.serialise(inspector.serializer, exportComposite, inspector.exportIndent);

	  // launch export download
	  var _isWebkit = 'WebkitAppearance' in document.documentElement.style;

	  if (_isWebkit) {
	    var blob = new Blob([json], { type: 'application/json' }),
	        anchor = document.createElement('a');
	    anchor.download = fileName;
	    anchor.href = (window.webkitURL || window.URL).createObjectURL(blob);
	    anchor.dataset.downloadurl = ['application/json', anchor.download, anchor.href].join(':');
	    anchor.click();
	  } else {
	    window.open('data:application/json;charset=utf-8,' + escape(json));
	  }

	  Events.trigger(inspector, 'export');
	};

	var _importFile = function _importFile(inspector) {
	  if (!inspector.serializer) {
	    alert('No serializer.');
	    return;
	  }

	  var element = document.createElement('div'),
	      fileInput;

	  element.innerHTML = '<input type="file">';
	  fileInput = element.firstChild;

	  fileInput.addEventListener('change', function () {
	    var file = fileInput.files[0];

	    if (file.name.match(/\.(txt|json)$/)) {
	      var reader = new FileReader();

	      reader.onload = function () {
	        var importedComposite = inspector.serializer.parse(reader.result);

	        if (importedComposite) {
	          importedComposite.label = 'Imported Objects';

	          Composite.rebase(importedComposite);
	          Composite.add(inspector.root, importedComposite);

	          // move imported composite to the start so that it appears top of tree
	          inspector.root.composites.splice(inspector.root.composites.length - 1, 1);
	          inspector.root.composites.unshift(importedComposite);

	          var worldTree = inspector.controls.worldTree.data('jstree'),
	              data = _generateCompositeTreeNode(inspector.root, null, true);
	          _updateTree(worldTree, data);
	        }
	      };

	      reader.readAsText(file);
	    } else {
	      alert('File not supported, .json or .txt JSON files only');
	    }
	  });

	  fileInput.click();
	};

	/*
	*
	*  Events Documentation
	*
	*/

	/**
	* Fired after the inspector's import button pressed
	*
	* @event export
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/**
	* Fired after the inspector's export button pressed
	*
	* @event import
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/**
	* Fired after the inspector user starts making a selection
	*
	* @event selectStart
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/**
	* Fired after the inspector user ends making a selection
	*
	* @event selectEnd
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/**
	* Fired after the inspector is paused
	*
	* @event pause
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/**
	* Fired after the inspector is played
	*
	* @event play
	* @param {} event An event object
	* @param {} event.source The source object of the event
	* @param {} event.name The name of the event
	*/

	/*** EXPORTS FROM exports-loader ***/

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ },
/* 2 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ },
/* 3 */
/***/ function(module, exports) {

	"use strict";

	/**
	* @class Common
	*/

	var Common = module.exports = {};

	Common.injectStyles = function (styles, id) {
	  if (document.getElementById(id)) {
	    return;
	  }

	  var root = document.createElement('div');
	  root.innerHTML = '<style id="' + id + '" type="text/css">' + styles + '</style>';

	  var lastStyle = document.head.querySelector('style:last-of-type');
	  Common.domInsertBefore(root.firstElementChild, lastStyle);
	};

	Common.injectScript = function (url, id, callback) {
	  if (document.getElementById(id)) {
	    return;
	  }

	  var script = document.createElement('script');
	  script.id = id;
	  script.src = url;
	  script.onload = callback;

	  document.body.appendChild(script);
	};

	Common.domRemove = function (element) {
	  return element.parentElement.removeChild(element);
	};

	Common.domInsertBefore = function (element, before) {
	  return before.parentNode.insertBefore(element, before.previousElementSibling);
	};

	/*** EXPORTS FROM exports-loader ***/

/***/ },
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_7__;

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jsTree - v3.3.3 - 2016-10-31 - (MIT) */
	!function(a){"use strict"; true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(7)], __WEBPACK_AMD_DEFINE_FACTORY__ = (a), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"undefined"!=typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a,b){"use strict";if(!a.jstree){var c=0,d=!1,e=!1,f=!1,g=[],h=a("script:last").attr("src"),i=window.document;a.jstree={version:"3.3.3",defaults:{plugins:[]},plugins:{},path:h&&-1!==h.indexOf("/")?h.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},a.jstree.create=function(b,d){var e=new a.jstree.core(++c),f=d;return d=a.extend(!0,{},a.jstree.defaults,d),f&&f.plugins&&(d.plugins=f.plugins),a.each(d.plugins,function(a,b){"core"!==a&&(e=e.plugin(b,d[b]))}),a(b).data("jstree",e),e.init(b,d),e},a.jstree.destroy=function(){a(".jstree:jstree").jstree("destroy"),a(i).off(".jstree")},a.jstree.core=function(a){this._id=a,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},a.jstree.reference=function(b){var c=null,d=null;if(!b||!b.id||b.tagName&&b.nodeType||(b=b.id),!d||!d.length)try{d=a(b)}catch(e){}if(!d||!d.length)try{d=a("#"+b.replace(a.jstree.idregex,"\\$&"))}catch(e){}return d&&d.length&&(d=d.closest(".jstree")).length&&(d=d.data("jstree"))?c=d:a(".jstree").each(function(){var d=a(this).data("jstree");return d&&d._model.data[b]?(c=d,!1):void 0}),c},a.fn.jstree=function(c){var d="string"==typeof c,e=Array.prototype.slice.call(arguments,1),f=null;return c!==!0||this.length?(this.each(function(){var g=a.jstree.reference(this),h=d&&g?g[c]:null;return f=d&&h?h.apply(g,e):null,g||d||c!==b&&!a.isPlainObject(c)||a.jstree.create(this,c),(g&&!d||c===!0)&&(f=g||!1),null!==f&&f!==b?!1:void 0}),null!==f&&f!==b?f:this):!1},a.expr.pseudos.jstree=a.expr.createPseudo(function(c){return function(c){return a(c).hasClass("jstree")&&a(c).data("jstree")!==b}}),a.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:a.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},a.jstree.core.prototype={plugin:function(b,c){var d=a.jstree.plugins[b];return d?(this._data[b]={},d.prototype=this,new d(c,this)):this},init:function(b,c){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[a.jstree.root]={id:a.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=a(b).addClass("jstree jstree-"+this._id),this.settings=c,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(a.jstree.root)},destroy:function(a){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(b){}a||this.element.empty(),this.teardown()},_create_prototype_node:function(){var a=i.createElement("LI"),b,c;return a.setAttribute("role","treeitem"),b=i.createElement("I"),b.className="jstree-icon jstree-ocl",b.setAttribute("role","presentation"),a.appendChild(b),b=i.createElement("A"),b.className="jstree-anchor",b.setAttribute("href","#"),b.setAttribute("tabindex","-1"),c=i.createElement("I"),c.className="jstree-icon jstree-themeicon",c.setAttribute("role","presentation"),b.appendChild(c),a.appendChild(b),b=c=null,a},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var b="",c=null,d=0;this.element.on("dblclick.jstree",function(a){if(a.target.tagName&&"input"===a.target.tagName.toLowerCase())return!0;if(i.selection&&i.selection.empty)i.selection.empty();else if(window.getSelection){var b=window.getSelection();try{b.removeAllRanges(),b.collapse()}catch(c){}}}).on("mousedown.jstree",a.proxy(function(a){a.target===this.element[0]&&(a.preventDefault(),d=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(a){a.preventDefault()}).on("click.jstree",".jstree-ocl",a.proxy(function(a){this.toggle_node(a.target)},this)).on("dblclick.jstree",".jstree-anchor",a.proxy(function(a){return a.target.tagName&&"input"===a.target.tagName.toLowerCase()?!0:void(this.settings.core.dblclick_toggle&&this.toggle_node(a.target))},this)).on("click.jstree",".jstree-anchor",a.proxy(function(b){b.preventDefault(),b.currentTarget!==i.activeElement&&a(b.currentTarget).focus(),this.activate_node(b.currentTarget,b)},this)).on("keydown.jstree",".jstree-anchor",a.proxy(function(b){if(b.target.tagName&&"input"===b.target.tagName.toLowerCase())return!0;if(32!==b.which&&13!==b.which&&(b.shiftKey||b.ctrlKey||b.altKey||b.metaKey))return!0;var c=null;switch(this._data.core.rtl&&(37===b.which?b.which=39:39===b.which&&(b.which=37)),b.which){case 32:b.ctrlKey&&(b.type="click",a(b.currentTarget).trigger(b));break;case 13:b.type="click",a(b.currentTarget).trigger(b);break;case 37:b.preventDefault(),this.is_open(b.currentTarget)?this.close_node(b.currentTarget):(c=this.get_parent(b.currentTarget),c&&c.id!==a.jstree.root&&this.get_node(c,!0).children(".jstree-anchor").focus());break;case 38:b.preventDefault(),c=this.get_prev_dom(b.currentTarget),c&&c.length&&c.children(".jstree-anchor").focus();break;case 39:b.preventDefault(),this.is_closed(b.currentTarget)?this.open_node(b.currentTarget,function(a){this.get_node(a,!0).children(".jstree-anchor").focus()}):this.is_open(b.currentTarget)&&(c=this.get_node(b.currentTarget,!0).children(".jstree-children")[0],c&&a(this._firstChild(c)).children(".jstree-anchor").focus());break;case 40:b.preventDefault(),c=this.get_next_dom(b.currentTarget),c&&c.length&&c.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:b.preventDefault(),c=this._firstChild(this.get_container_ul()[0]),c&&a(c).children(".jstree-anchor").filter(":visible").focus();break;case 35:b.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:b.preventDefault(),this.edit(b.currentTarget)}},this)).on("load_node.jstree",a.proxy(function(b,c){c.status&&(c.node.id!==a.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(a.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var b=[],c,d;for(c=0,d=this._data.core.selected.length;d>c;c++)b=b.concat(this._model.data[this._data.core.selected[c]].parents);for(b=a.vakata.array_unique(b),c=0,d=b.length;d>c;c++)this.open_node(b[c],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",a.proxy(function(d){if(d.target.tagName&&"input"===d.target.tagName.toLowerCase())return!0;c&&clearTimeout(c),c=setTimeout(function(){b=""},500);var e=String.fromCharCode(d.which).toLowerCase(),f=this.element.find(".jstree-anchor").filter(":visible"),g=f.index(i.activeElement)||0,h=!1;if(b+=e,b.length>1){if(f.slice(g).each(a.proxy(function(c,d){return 0===a(d).text().toLowerCase().indexOf(b)?(a(d).focus(),h=!0,!1):void 0},this)),h)return;if(f.slice(0,g).each(a.proxy(function(c,d){return 0===a(d).text().toLowerCase().indexOf(b)?(a(d).focus(),h=!0,!1):void 0},this)),h)return}if(new RegExp("^"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(b)){if(f.slice(g+1).each(a.proxy(function(b,c){return a(c).text().toLowerCase().charAt(0)===e?(a(c).focus(),h=!0,!1):void 0},this)),h)return;if(f.slice(0,g+1).each(a.proxy(function(b,c){return a(c).text().toLowerCase().charAt(0)===e?(a(c).focus(),h=!0,!1):void 0},this)),h)return}},this)).on("init.jstree",a.proxy(function(){var a=this.settings.core.themes;this._data.core.themes.dots=a.dots,this._data.core.themes.stripes=a.stripes,this._data.core.themes.icons=a.icons,this._data.core.themes.ellipsis=a.ellipsis,this.set_theme(a.name||"default",a.url),this.set_theme_variant(a.variant)},this)).on("loading.jstree",a.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",a.proxy(function(b){this._data.core.focused=null,a(b.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",a.proxy(function(b){var c=this.get_node(b.currentTarget);c&&c.id&&(this._data.core.focused=c.id),this.element.find(".jstree-hovered").not(b.currentTarget).mouseleave(),a(b.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",a.proxy(function(){if(+new Date-d>500&&!this._data.core.focused){d=0;var a=this.get_node(this.element.attr("aria-activedescendant"),!0);a&&a.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",a.proxy(function(a){this.hover_node(a.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",a.proxy(function(a){this.dehover_node(a.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),a(i).off(".jstree-"+this._id)},trigger:function(a,b){b||(b={}),b.instance=this,this.element.triggerHandler(a.replace(".jstree","")+".jstree",b)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(b){var c=this.settings.core.strings;return a.isFunction(c)?c.call(this,b):c&&c[b]?c[b]:b},_firstChild:function(a){a=a?a.firstChild:null;while(null!==a&&1!==a.nodeType)a=a.nextSibling;return a},_nextSibling:function(a){a=a?a.nextSibling:null;while(null!==a&&1!==a.nodeType)a=a.nextSibling;return a},_previousSibling:function(a){a=a?a.previousSibling:null;while(null!==a&&1!==a.nodeType)a=a.previousSibling;return a},get_node:function(b,c){b&&b.id&&(b=b.id);var d;try{if(this._model.data[b])b=this._model.data[b];else if("string"==typeof b&&this._model.data[b.replace(/^#/,"")])b=this._model.data[b.replace(/^#/,"")];else if("string"==typeof b&&(d=a("#"+b.replace(a.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[d.closest(".jstree-node").attr("id")])b=this._model.data[d.closest(".jstree-node").attr("id")];else if((d=a(b,this.element)).length&&this._model.data[d.closest(".jstree-node").attr("id")])b=this._model.data[d.closest(".jstree-node").attr("id")];else{if(!(d=a(b,this.element)).length||!d.hasClass("jstree"))return!1;b=this._model.data[a.jstree.root]}return c&&(b=b.id===a.jstree.root?this.element:a("#"+b.id.replace(a.jstree.idregex,"\\$&"),this.element)),b}catch(e){return!1}},get_path:function(b,c,d){if(b=b.parents?b:this.get_node(b),!b||b.id===a.jstree.root||!b.parents)return!1;var e,f,g=[];for(g.push(d?b.id:b.text),e=0,f=b.parents.length;f>e;e++)g.push(d?b.parents[e]:this.get_text(b.parents[e]));return g=g.reverse().slice(1),c?g.join(c):g},get_next_dom:function(b,c){var d;if(b=this.get_node(b,!0),b[0]===this.element[0]){d=this._firstChild(this.get_container_ul()[0]);while(d&&0===d.offsetHeight)d=this._nextSibling(d);return d?a(d):!1}if(!b||!b.length)return!1;if(c){d=b[0];do d=this._nextSibling(d);while(d&&0===d.offsetHeight);return d?a(d):!1}if(b.hasClass("jstree-open")){d=this._firstChild(b.children(".jstree-children")[0]);while(d&&0===d.offsetHeight)d=this._nextSibling(d);if(null!==d)return a(d)}d=b[0];do d=this._nextSibling(d);while(d&&0===d.offsetHeight);return null!==d?a(d):b.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(b,c){var d;if(b=this.get_node(b,!0),b[0]===this.element[0]){d=this.get_container_ul()[0].lastChild;while(d&&0===d.offsetHeight)d=this._previousSibling(d);return d?a(d):!1}if(!b||!b.length)return!1;if(c){d=b[0];do d=this._previousSibling(d);while(d&&0===d.offsetHeight);return d?a(d):!1}d=b[0];do d=this._previousSibling(d);while(d&&0===d.offsetHeight);if(null!==d){b=a(d);while(b.hasClass("jstree-open"))b=b.children(".jstree-children").first().children(".jstree-node:visible:last");return b}return d=b[0].parentNode.parentNode,d&&d.className&&-1!==d.className.indexOf("jstree-node")?a(d):!1},get_parent:function(b){return b=this.get_node(b),b&&b.id!==a.jstree.root?b.parent:!1},get_children_dom:function(a){return a=this.get_node(a,!0),a[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):a&&a.length?a.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(a){return a=this.get_node(a),a&&(a.state.loaded===!1||a.children.length>0)},is_loaded:function(a){return a=this.get_node(a),a&&a.state.loaded},is_loading:function(a){return a=this.get_node(a),a&&a.state&&a.state.loading},is_open:function(a){return a=this.get_node(a),a&&a.state.opened},is_closed:function(a){return a=this.get_node(a),a&&this.is_parent(a)&&!a.state.opened},is_leaf:function(a){return!this.is_parent(a)},load_node:function(b,c){var d,e,f,g,h;if(a.isArray(b))return this._load_nodes(b.slice(),c),!0;if(b=this.get_node(b),!b)return c&&c.call(this,b,!1),!1;if(b.state.loaded){for(b.state.loaded=!1,f=0,g=b.parents.length;g>f;f++)this._model.data[b.parents[f]].children_d=a.vakata.array_filter(this._model.data[b.parents[f]].children_d,function(c){return-1===a.inArray(c,b.children_d)});for(d=0,e=b.children_d.length;e>d;d++)this._model.data[b.children_d[d]].state.selected&&(h=!0),delete this._model.data[b.children_d[d]];h&&(this._data.core.selected=a.vakata.array_filter(this._data.core.selected,function(c){return-1===a.inArray(c,b.children_d)})),b.children=[],b.children_d=[],h&&this.trigger("changed",{action:"load_node",node:b,selected:this._data.core.selected})}return b.state.failed=!1,b.state.loading=!0,this.get_node(b,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(b,a.proxy(function(a){b=this._model.data[b.id],b.state.loading=!1,b.state.loaded=a,b.state.failed=!b.state.loaded;var d=this.get_node(b,!0),e=0,f=0,g=this._model.data,h=!1;for(e=0,f=b.children.length;f>e;e++)if(g[b.children[e]]&&!g[b.children[e]].state.hidden){h=!0;break}b.state.loaded&&d&&d.length&&(d.removeClass("jstree-closed jstree-open jstree-leaf"),h?"#"!==b.id&&d.addClass(b.state.opened?"jstree-open":"jstree-closed"):d.addClass("jstree-leaf")),d.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:b,status:a}),c&&c.call(this,b,a)},this)),!0},_load_nodes:function(a,b,c,d){var e=!0,f=function(){this._load_nodes(a,b,!0)},g=this._model.data,h,i,j=[];for(h=0,i=a.length;i>h;h++)g[a[h]]&&(!g[a[h]].state.loaded&&!g[a[h]].state.failed||!c&&d)&&(this.is_loading(a[h])||this.load_node(a[h],f),e=!1);if(e){for(h=0,i=a.length;i>h;h++)g[a[h]]&&g[a[h]].state.loaded&&j.push(a[h]);b&&!b.done&&(b.call(this,j),b.done=!0)}},load_all:function(b,c){if(b||(b=a.jstree.root),b=this.get_node(b),!b)return!1;var d=[],e=this._model.data,f=e[b.id].children_d,g,h;for(b.state&&!b.state.loaded&&d.push(b.id),g=0,h=f.length;h>g;g++)e[f[g]]&&e[f[g]].state&&!e[f[g]].state.loaded&&d.push(f[g]);d.length?this._load_nodes(d,function(){this.load_all(b,c)}):(c&&c.call(this,b),this.trigger("load_all",{node:b}))},_load_node:function(b,c){var d=this.settings.core.data,e,f=function g(){return 3!==this.nodeType&&8!==this.nodeType};return d?a.isFunction(d)?d.call(this,b,a.proxy(function(d){d===!1?c.call(this,!1):this["string"==typeof d?"_append_html_data":"_append_json_data"](b,"string"==typeof d?a(a.parseHTML(d)).filter(f):d,function(a){c.call(this,a)})},this)):"object"==typeof d?d.url?(d=a.extend(!0,{},d),a.isFunction(d.url)&&(d.url=d.url.call(this,b)),a.isFunction(d.data)&&(d.data=d.data.call(this,b)),a.ajax(d).done(a.proxy(function(d,e,g){var h=g.getResponseHeader("Content-Type");return h&&-1!==h.indexOf("json")||"object"==typeof d?this._append_json_data(b,d,function(a){c.call(this,a)}):h&&-1!==h.indexOf("html")||"string"==typeof d?this._append_html_data(b,a(a.parseHTML(d)).filter(f),function(a){c.call(this,a)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:b.id,xhr:g})},this.settings.core.error.call(this,this._data.core.last_error),c.call(this,!1))},this)).fail(a.proxy(function(a){c.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:b.id,xhr:a})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(e=a.isArray(d)||a.isPlainObject(d)?JSON.parse(JSON.stringify(d)):d,b.id===a.jstree.root?this._append_json_data(b,e,function(a){c.call(this,a)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:b.id})},this.settings.core.error.call(this,this._data.core.last_error),c.call(this,!1))):"string"==typeof d?b.id===a.jstree.root?this._append_html_data(b,a(a.parseHTML(d)).filter(f),function(a){c.call(this,a)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:b.id})},this.settings.core.error.call(this,this._data.core.last_error),c.call(this,!1)):c.call(this,!1):b.id===a.jstree.root?this._append_html_data(b,this._data.core.original_container_html.clone(!0),function(a){c.call(this,a)}):c.call(this,!1)},_node_changed:function(a){a=this.get_node(a),a&&this._model.changed.push(a.id)},_append_html_data:function(b,c,d){b=this.get_node(b),b.children=[],b.children_d=[];var e=c.is("ul")?c.children():c,f=b.id,g=[],h=[],i=this._model.data,j=i[f],k=this._data.core.selected.length,l,m,n;for(e.each(a.proxy(function(b,c){l=this._parse_model_from_html(a(c),f,j.parents.concat()),l&&(g.push(l),h.push(l),i[l].children_d.length&&(h=h.concat(i[l].children_d)))},this)),j.children=g,j.children_d=h,m=0,n=j.parents.length;n>m;m++)i[j.parents[m]].children_d=i[j.parents[m]].children_d.concat(h);this.trigger("model",{nodes:h,parent:f}),f!==a.jstree.root?(this._node_changed(f),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==k&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),d.call(this,!0)},_append_json_data:function(b,c,d,e){if(null!==this.element){b=this.get_node(b),b.children=[],b.children_d=[],c.d&&(c=c.d,"string"==typeof c&&(c=JSON.parse(c))),a.isArray(c)||(c=[c]);var f=null,g={df:this._model.default_state,dat:c,par:b.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},h=function(a,b){a.data&&(a=a.data);var c=a.dat,d=a.par,e=[],f=[],g=[],h=a.df,i=a.t_id,j=a.t_cnt,k=a.m,l=k[d],m=a.sel,n,o,p,q,r=function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e=a.id.toString(),f,i,j,l,m={id:e,text:a.text||"",icon:a.icon!==b?a.icon:!0,parent:c,parents:d,children:a.children||[],children_d:a.children_d||[],data:a.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in h)h.hasOwnProperty(f)&&(m.state[f]=h[f]);if(a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(m.icon=a.data.jstree.icon),(m.icon===b||null===m.icon||""===m.icon)&&(m.icon=!0),a&&a.data&&(m.data=a.data,a.data.jstree))for(f in a.data.jstree)a.data.jstree.hasOwnProperty(f)&&(m.state[f]=a.data.jstree[f]);if(a&&"object"==typeof a.state)for(f in a.state)a.state.hasOwnProperty(f)&&(m.state[f]=a.state[f]);if(a&&"object"==typeof a.li_attr)for(f in a.li_attr)a.li_attr.hasOwnProperty(f)&&(m.li_attr[f]=a.li_attr[f]);if(m.li_attr.id||(m.li_attr.id=e),a&&"object"==typeof a.a_attr)for(f in a.a_attr)a.a_attr.hasOwnProperty(f)&&(m.a_attr[f]=a.a_attr[f]);for(a&&a.children&&a.children===!0&&(m.state.loaded=!1,m.children=[],m.children_d=[]),k[m.id]=m,f=0,i=m.children.length;i>f;f++)j=r(k[m.children[f]],m.id,d),l=k[j],m.children_d.push(j),l.children_d.length&&(m.children_d=m.children_d.concat(l.children_d));return delete a.data,delete a.children,k[m.id].original=a,m.state.selected&&g.push(m.id),m.id},s=function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e=!1,f,l,m,n,o;do e="j"+i+"_"+ ++j;while(k[e]);o={id:!1,text:"string"==typeof a?a:"",icon:"object"==typeof a&&a.icon!==b?a.icon:!0,parent:c,parents:d,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in h)h.hasOwnProperty(f)&&(o.state[f]=h[f]);if(a&&a.id&&(o.id=a.id.toString()),a&&a.text&&(o.text=a.text),a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(o.icon=a.data.jstree.icon),(o.icon===b||null===o.icon||""===o.icon)&&(o.icon=!0),a&&a.data&&(o.data=a.data,a.data.jstree))for(f in a.data.jstree)a.data.jstree.hasOwnProperty(f)&&(o.state[f]=a.data.jstree[f]);if(a&&"object"==typeof a.state)for(f in a.state)a.state.hasOwnProperty(f)&&(o.state[f]=a.state[f]);if(a&&"object"==typeof a.li_attr)for(f in a.li_attr)a.li_attr.hasOwnProperty(f)&&(o.li_attr[f]=a.li_attr[f]);if(o.li_attr.id&&!o.id&&(o.id=o.li_attr.id.toString()),o.id||(o.id=e),o.li_attr.id||(o.li_attr.id=o.id),a&&"object"==typeof a.a_attr)for(f in a.a_attr)a.a_attr.hasOwnProperty(f)&&(o.a_attr[f]=a.a_attr[f]);if(a&&a.children&&a.children.length){for(f=0,l=a.children.length;l>f;f++)m=s(a.children[f],o.id,d),n=k[m],o.children.push(m),n.children_d.length&&(o.children_d=o.children_d.concat(n.children_d));o.children_d=o.children_d.concat(o.children)}return a&&a.children&&a.children===!0&&(o.state.loaded=!1,o.children=[],o.children_d=[]),delete a.data,delete a.children,o.original=a,k[o.id]=o,o.state.selected&&g.push(o.id),o.id};if(c.length&&c[0].id!==b&&c[0].parent!==b){for(o=0,p=c.length;p>o;o++)c[o].children||(c[o].children=[]),k[c[o].id.toString()]=c[o];for(o=0,p=c.length;p>o;o++)k[c[o].parent.toString()].children.push(c[o].id.toString()),l.children_d.push(c[o].id.toString());for(o=0,p=l.children.length;p>o;o++)n=r(k[l.children[o]],d,l.parents.concat()),f.push(n),k[n].children_d.length&&(f=f.concat(k[n].children_d));for(o=0,p=l.parents.length;p>o;o++)k[l.parents[o]].children_d=k[l.parents[o]].children_d.concat(f);q={cnt:j,mod:k,sel:m,par:d,dpc:f,add:g}}else{for(o=0,p=c.length;p>o;o++)n=s(c[o],d,l.parents.concat()),n&&(e.push(n),f.push(n),k[n].children_d.length&&(f=f.concat(k[n].children_d)));for(l.children=e,l.children_d=f,o=0,p=l.parents.length;p>o;o++)k[l.parents[o]].children_d=k[l.parents[o]].children_d.concat(f);q={cnt:j,mod:k,sel:m,par:d,dpc:f,add:g}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?q:void postMessage(q)},i=function(b,c){if(null!==this.element){this._cnt=b.cnt;var e,f=this._model.data;for(e in f)f.hasOwnProperty(e)&&f[e].state&&f[e].state.loading&&b.mod[e]&&(b.mod[e].state.loading=!0);if(this._model.data=b.mod,c){var g,h=b.add,i=b.sel,j=this._data.core.selected.slice();if(f=this._model.data,i.length!==j.length||a.vakata.array_unique(i.concat(j)).length!==i.length){for(e=0,g=i.length;g>e;e++)-1===a.inArray(i[e],h)&&-1===a.inArray(i[e],j)&&(f[i[e]].state.selected=!1);for(e=0,g=j.length;g>e;e++)-1===a.inArray(j[e],i)&&(f[j[e]].state.selected=!0)}}b.add.length&&(this._data.core.selected=this._data.core.selected.concat(b.add)),this.trigger("model",{nodes:b.dpc,parent:b.par}),b.par!==a.jstree.root?(this._node_changed(b.par),this.redraw()):this.redraw(!0),b.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),d.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+h.toString()],{type:"text/javascript"}))),!this._data.core.working||e?(this._data.core.working=!0,f=new window.Worker(this._wrk),f.onmessage=a.proxy(function(a){i.call(this,a.data,!0);try{f.terminate(),f=null}catch(b){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),g.par?f.postMessage(g):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([b,c,d,!0])}catch(j){i.call(this,h(g),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else i.call(this,h(g),!1)}},_parse_model_from_html:function(c,d,e){e=e?[].concat(e):[],d&&e.unshift(d);var f,g,h=this._model.data,i={id:!1,text:!1,icon:!0,parent:d,parents:e,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},j,k,l;for(j in this._model.default_state)this._model.default_state.hasOwnProperty(j)&&(i.state[j]=this._model.default_state[j]);if(k=a.vakata.attributes(c,!0),a.each(k,function(b,c){return c=a.trim(c),c.length?(i.li_attr[b]=c,void("id"===b&&(i.id=c.toString()))):!0}),k=c.children("a").first(),k.length&&(k=a.vakata.attributes(k,!0),a.each(k,function(b,c){c=a.trim(c),c.length&&(i.a_attr[b]=c)})),k=c.children("a").first().length?c.children("a").first().clone():c.clone(),k.children("ins, i, ul").remove(),k=k.html(),k=a("<div />").html(k),i.text=this.settings.core.force_text?k.text():k.html(),k=c.data(),i.data=k?a.extend(!0,{},k):null,i.state.opened=c.hasClass("jstree-open"),i.state.selected=c.children("a").hasClass("jstree-clicked"),i.state.disabled=c.children("a").hasClass("jstree-disabled"),i.data&&i.data.jstree)for(j in i.data.jstree)i.data.jstree.hasOwnProperty(j)&&(i.state[j]=i.data.jstree[j]);k=c.children("a").children(".jstree-themeicon"),k.length&&(i.icon=k.hasClass("jstree-themeicon-hidden")?!1:k.attr("rel")),i.state.icon!==b&&(i.icon=i.state.icon),(i.icon===b||null===i.icon||""===i.icon)&&(i.icon=!0),k=c.children("ul").children("li");do l="j"+this._id+"_"+ ++this._cnt;while(h[l]);return i.id=i.li_attr.id?i.li_attr.id.toString():l,k.length?(k.each(a.proxy(function(b,c){f=this._parse_model_from_html(a(c),i.id,e),g=this._model.data[f],i.children.push(f),g.children_d.length&&(i.children_d=i.children_d.concat(g.children_d))},this)),i.children_d=i.children_d.concat(i.children)):c.hasClass("jstree-closed")&&(i.state.loaded=!1),i.li_attr["class"]&&(i.li_attr["class"]=i.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),i.a_attr["class"]&&(i.a_attr["class"]=i.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),h[i.id]=i,i.state.selected&&this._data.core.selected.push(i.id),i.id},_parse_model_from_flat_json:function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e=a.id.toString(),f=this._model.data,g=this._model.default_state,h,i,j,k,l={id:e,text:a.text||"",icon:a.icon!==b?a.icon:!0,parent:c,parents:d,children:a.children||[],children_d:a.children_d||[],data:a.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(h in g)g.hasOwnProperty(h)&&(l.state[h]=g[h]);if(a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(l.icon=a.data.jstree.icon),(l.icon===b||null===l.icon||""===l.icon)&&(l.icon=!0),a&&a.data&&(l.data=a.data,a.data.jstree))for(h in a.data.jstree)a.data.jstree.hasOwnProperty(h)&&(l.state[h]=a.data.jstree[h]);if(a&&"object"==typeof a.state)for(h in a.state)a.state.hasOwnProperty(h)&&(l.state[h]=a.state[h]);if(a&&"object"==typeof a.li_attr)for(h in a.li_attr)a.li_attr.hasOwnProperty(h)&&(l.li_attr[h]=a.li_attr[h]);if(l.li_attr.id||(l.li_attr.id=e),a&&"object"==typeof a.a_attr)for(h in a.a_attr)a.a_attr.hasOwnProperty(h)&&(l.a_attr[h]=a.a_attr[h]);for(a&&a.children&&a.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),f[l.id]=l,h=0,i=l.children.length;i>h;h++)j=this._parse_model_from_flat_json(f[l.children[h]],l.id,d),k=f[j],l.children_d.push(j),k.children_d.length&&(l.children_d=l.children_d.concat(k.children_d));return delete a.data,delete a.children,f[l.id].original=a,l.state.selected&&this._data.core.selected.push(l.id),l.id},_parse_model_from_json:function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e=!1,f,g,h,i,j=this._model.data,k=this._model.default_state,l;do e="j"+this._id+"_"+ ++this._cnt;while(j[e]);l={id:!1,text:"string"==typeof a?a:"",icon:"object"==typeof a&&a.icon!==b?a.icon:!0,parent:c,parents:d,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in k)k.hasOwnProperty(f)&&(l.state[f]=k[f]);if(a&&a.id&&(l.id=a.id.toString()),a&&a.text&&(l.text=a.text),a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(l.icon=a.data.jstree.icon),(l.icon===b||null===l.icon||""===l.icon)&&(l.icon=!0),a&&a.data&&(l.data=a.data,a.data.jstree))for(f in a.data.jstree)a.data.jstree.hasOwnProperty(f)&&(l.state[f]=a.data.jstree[f]);if(a&&"object"==typeof a.state)for(f in a.state)a.state.hasOwnProperty(f)&&(l.state[f]=a.state[f]);if(a&&"object"==typeof a.li_attr)for(f in a.li_attr)a.li_attr.hasOwnProperty(f)&&(l.li_attr[f]=a.li_attr[f]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=e),l.li_attr.id||(l.li_attr.id=l.id),a&&"object"==typeof a.a_attr)for(f in a.a_attr)a.a_attr.hasOwnProperty(f)&&(l.a_attr[f]=a.a_attr[f]);if(a&&a.children&&a.children.length){for(f=0,g=a.children.length;g>f;f++)h=this._parse_model_from_json(a.children[f],l.id,d),i=j[h],l.children.push(h),i.children_d.length&&(l.children_d=l.children_d.concat(i.children_d));l.children_d=l.children_d.concat(l.children)}return a&&a.children&&a.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete a.data,delete a.children,l.original=a,j[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var b=this._model.force_full_redraw?this._model.data[a.jstree.root].children.concat([]):this._model.changed.concat([]),c=i.createElement("UL"),d,e,f,g=this._data.core.focused;for(e=0,f=b.length;f>e;e++)d=this.redraw_node(b[e],!0,this._model.force_full_redraw),d&&this._model.force_full_redraw&&c.appendChild(d);this._model.force_full_redraw&&(c.className=this.get_container_ul()[0].className,c.setAttribute("role","group"),this.element.empty().append(c)),null!==g&&(d=this.get_node(g,!0),d&&d.length&&d.children(".jstree-anchor")[0]!==i.activeElement?d.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:b})},redraw:function(a){a&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(b){var c=this.get_node(b),d=!1,e=!1,f=!1,g=i;if(!c)return!1;if(c.id===a.jstree.root)return this.redraw(!0);if(b=this.get_node(b,!0),!b||!b.length)return!1;if(b.children(".jstree-children").remove(),b=b[0],c.children.length&&c.state.loaded){for(f=g.createElement("UL"),f.setAttribute("role","group"),f.className="jstree-children",d=0,e=c.children.length;e>d;d++)f.appendChild(this.redraw_node(c.children[d],!0,!0));b.appendChild(f)}},redraw_node:function(b,c,d,e){var f=this.get_node(b),g=!1,h=!1,j=!1,k=!1,l=!1,m=!1,n="",o=i,p=this._model.data,q=!1,r=!1,s=null,t=0,u=0,v=!1,w=!1;
	if(!f)return!1;if(f.id===a.jstree.root)return this.redraw(!0);if(c=c||0===f.children.length,b=i.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(f.id[0])?"\\3"+f.id[0]+" "+f.id.substr(1).replace(a.jstree.idregex,"\\$&"):f.id.replace(a.jstree.idregex,"\\$&"))):i.getElementById(f.id))b=a(b),d||(g=b.parent().parent()[0],g===this.element[0]&&(g=null),h=b.index()),c||!f.children.length||b.children(".jstree-children").length||(c=!0),c||(j=b.children(".jstree-children")[0]),q=b.children(".jstree-anchor")[0]===i.activeElement,b.remove();else if(c=!0,!d){if(g=f.parent!==a.jstree.root?a("#"+f.parent.replace(a.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===g||g&&p[f.parent].state.opened))return!1;h=a.inArray(f.id,null===g?p[a.jstree.root].children:p[f.parent].children)}b=this._data.core.node.cloneNode(!0),n="jstree-node ";for(k in f.li_attr)if(f.li_attr.hasOwnProperty(k)){if("id"===k)continue;"class"!==k?b.setAttribute(k,f.li_attr[k]):n+=f.li_attr[k]}for(f.a_attr.id||(f.a_attr.id=f.id+"_anchor"),b.setAttribute("aria-selected",!!f.state.selected),b.setAttribute("aria-level",f.parents.length),b.setAttribute("aria-labelledby",f.a_attr.id),f.state.disabled&&b.setAttribute("aria-disabled",!0),k=0,l=f.children.length;l>k;k++)if(!p[f.children[k]].state.hidden){v=!0;break}if(null!==f.parent&&p[f.parent]&&!f.state.hidden&&(k=a.inArray(f.id,p[f.parent].children),w=f.id,-1!==k))for(k++,l=p[f.parent].children.length;l>k;k++)if(p[p[f.parent].children[k]].state.hidden||(w=p[f.parent].children[k]),w!==f.id)break;f.state.hidden&&(n+=" jstree-hidden"),f.state.loaded&&!v?n+=" jstree-leaf":(n+=f.state.opened&&f.state.loaded?" jstree-open":" jstree-closed",b.setAttribute("aria-expanded",f.state.opened&&f.state.loaded)),w===f.id&&(n+=" jstree-last"),b.id=f.id,b.className=n,n=(f.state.selected?" jstree-clicked":"")+(f.state.disabled?" jstree-disabled":"");for(l in f.a_attr)if(f.a_attr.hasOwnProperty(l)){if("href"===l&&"#"===f.a_attr[l])continue;"class"!==l?b.childNodes[1].setAttribute(l,f.a_attr[l]):n+=" "+f.a_attr[l]}if(n.length&&(b.childNodes[1].className="jstree-anchor "+n),(f.icon&&f.icon!==!0||f.icon===!1)&&(f.icon===!1?b.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===f.icon.indexOf("/")&&-1===f.icon.indexOf(".")?b.childNodes[1].childNodes[0].className+=" "+f.icon+" jstree-themeicon-custom":(b.childNodes[1].childNodes[0].style.backgroundImage='url("'+f.icon+'")',b.childNodes[1].childNodes[0].style.backgroundPosition="center center",b.childNodes[1].childNodes[0].style.backgroundSize="auto",b.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?b.childNodes[1].appendChild(o.createTextNode(f.text)):b.childNodes[1].innerHTML+=f.text,c&&f.children.length&&(f.state.opened||e)&&f.state.loaded){for(m=o.createElement("UL"),m.setAttribute("role","group"),m.className="jstree-children",k=0,l=f.children.length;l>k;k++)m.appendChild(this.redraw_node(f.children[k],c,!0));b.appendChild(m)}if(j&&b.appendChild(j),!d){for(g||(g=this.element[0]),k=0,l=g.childNodes.length;l>k;k++)if(g.childNodes[k]&&g.childNodes[k].className&&-1!==g.childNodes[k].className.indexOf("jstree-children")){s=g.childNodes[k];break}s||(s=o.createElement("UL"),s.setAttribute("role","group"),s.className="jstree-children",g.appendChild(s)),g=s,h<g.childNodes.length?g.insertBefore(b,g.childNodes[h]):g.appendChild(b),q&&(t=this.element[0].scrollTop,u=this.element[0].scrollLeft,b.childNodes[1].focus(),this.element[0].scrollTop=t,this.element[0].scrollLeft=u)}return f.state.opened&&!f.state.loaded&&(f.state.opened=!1,setTimeout(a.proxy(function(){this.open_node(f.id,!1,0)},this),0)),b},open_node:function(c,d,e){var f,g,h,i;if(a.isArray(c)){for(c=c.slice(),f=0,g=c.length;g>f;f++)this.open_node(c[f],d,e);return!0}return c=this.get_node(c),c&&c.id!==a.jstree.root?(e=e===b?this.settings.core.animation:e,this.is_closed(c)?this.is_loaded(c)?(h=this.get_node(c,!0),i=this,h.length&&(e&&h.children(".jstree-children").length&&h.children(".jstree-children").stop(!0,!0),c.children.length&&!this._firstChild(h.children(".jstree-children")[0])&&this.draw_children(c),e?(this.trigger("before_open",{node:c}),h.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(e,function(){this.style.display="",i.element&&i.trigger("after_open",{node:c})})):(this.trigger("before_open",{node:c}),h[0].className=h[0].className.replace("jstree-closed","jstree-open"),h[0].setAttribute("aria-expanded",!0))),c.state.opened=!0,d&&d.call(this,c,!0),h.length||this.trigger("before_open",{node:c}),this.trigger("open_node",{node:c}),e&&h.length||this.trigger("after_open",{node:c}),!0):this.is_loading(c)?setTimeout(a.proxy(function(){this.open_node(c,d,e)},this),500):void this.load_node(c,function(a,b){return b?this.open_node(a,d,e):d?d.call(this,a,!1):!1}):(d&&d.call(this,c,!1),!1)):!1},_open_to:function(b){if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;var c,d,e=b.parents;for(c=0,d=e.length;d>c;c+=1)c!==a.jstree.root&&this.open_node(e[c],!1,0);return a("#"+b.id.replace(a.jstree.idregex,"\\$&"),this.element)},close_node:function(c,d){var e,f,g,h;if(a.isArray(c)){for(c=c.slice(),e=0,f=c.length;f>e;e++)this.close_node(c[e],d);return!0}return c=this.get_node(c),c&&c.id!==a.jstree.root?this.is_closed(c)?!1:(d=d===b?this.settings.core.animation:d,g=this,h=this.get_node(c,!0),c.state.opened=!1,this.trigger("close_node",{node:c}),void(h.length?d?h.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(d,function(){this.style.display="",h.children(".jstree-children").remove(),g.element&&g.trigger("after_close",{node:c})}):(h[0].className=h[0].className.replace("jstree-open","jstree-closed"),h.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:c})):this.trigger("after_close",{node:c}))):!1},toggle_node:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.toggle_node(b[c]);return!0}return this.is_closed(b)?this.open_node(b):this.is_open(b)?this.close_node(b):void 0},open_all:function(b,c,d){if(b||(b=a.jstree.root),b=this.get_node(b),!b)return!1;var e=b.id===a.jstree.root?this.get_container_ul():this.get_node(b,!0),f,g,h;if(!e.length){for(f=0,g=b.children_d.length;g>f;f++)this.is_closed(this._model.data[b.children_d[f]])&&(this._model.data[b.children_d[f]].state.opened=!0);return this.trigger("open_all",{node:b})}d=d||e,h=this,e=this.is_closed(b)?e.find(".jstree-closed").addBack():e.find(".jstree-closed"),e.each(function(){h.open_node(this,function(a,b){b&&this.is_parent(a)&&this.open_all(a,c,d)},c||0)}),0===d.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(d)})},close_all:function(b,c){if(b||(b=a.jstree.root),b=this.get_node(b),!b)return!1;var d=b.id===a.jstree.root?this.get_container_ul():this.get_node(b,!0),e=this,f,g;for(d.length&&(d=this.is_open(b)?d.find(".jstree-open").addBack():d.find(".jstree-open"),a(d.get().reverse()).each(function(){e.close_node(this,c||0)})),f=0,g=b.children_d.length;g>f;f++)this._model.data[b.children_d[f]].state.opened=!1;this.trigger("close_all",{node:b})},is_disabled:function(a){return a=this.get_node(a),a&&a.state&&a.state.disabled},enable_node:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.enable_node(b[c]);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(b.state.disabled=!1,this.get_node(b,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:b})):!1},disable_node:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.disable_node(b[c]);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(b.state.disabled=!0,this.get_node(b,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:b})):!1},is_hidden:function(a){return a=this.get_node(a),a.state.hidden===!0},hide_node:function(b,c){var d,e;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;e>d;d++)this.hide_node(b[d],!0);return c||this.redraw(),!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?void(b.state.hidden||(b.state.hidden=!0,this._node_changed(b.parent),c||this.redraw(),this.trigger("hide_node",{node:b}))):!1},show_node:function(b,c){var d,e;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;e>d;d++)this.show_node(b[d],!0);return c||this.redraw(),!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?void(b.state.hidden&&(b.state.hidden=!1,this._node_changed(b.parent),c||this.redraw(),this.trigger("show_node",{node:b}))):!1},hide_all:function(b){var c,d=this._model.data,e=[];for(c in d)d.hasOwnProperty(c)&&c!==a.jstree.root&&!d[c].state.hidden&&(d[c].state.hidden=!0,e.push(c));return this._model.force_full_redraw=!0,b||this.redraw(),this.trigger("hide_all",{nodes:e}),e},show_all:function(b){var c,d=this._model.data,e=[];for(c in d)d.hasOwnProperty(c)&&c!==a.jstree.root&&d[c].state.hidden&&(d[c].state.hidden=!1,e.push(c));return this._model.force_full_redraw=!0,b||this.redraw(),this.trigger("show_all",{nodes:e}),e},activate_node:function(a,c){if(this.is_disabled(a))return!1;if(c&&"object"==typeof c||(c={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==b?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(c.metaKey||c.ctrlKey||c.shiftKey)&&(!c.shiftKey||this._data.core.last_clicked&&this.get_parent(a)&&this.get_parent(a)===this._data.core.last_clicked.parent))if(c.shiftKey){var d=this.get_node(a).id,e=this._data.core.last_clicked.id,f=this.get_node(this._data.core.last_clicked.parent).children,g=!1,h,i;for(h=0,i=f.length;i>h;h+=1)f[h]===d&&(g=!g),f[h]===e&&(g=!g),this.is_disabled(f[h])||!g&&f[h]!==d&&f[h]!==e?this.deselect_node(f[h],!0,c):this.is_hidden(f[h])||this.select_node(f[h],!0,!1,c);this.trigger("changed",{action:"select_node",node:this.get_node(a),selected:this._data.core.selected,event:c})}else this.is_selected(a)?this.deselect_node(a,!1,c):this.select_node(a,!1,!1,c);else!this.settings.core.multiple&&(c.metaKey||c.ctrlKey||c.shiftKey)&&this.is_selected(a)?this.deselect_node(a,!1,c):(this.deselect_all(!0),this.select_node(a,!1,!1,c),this._data.core.last_clicked=this.get_node(a));this.trigger("activate_node",{node:this.get_node(a),event:c})},hover_node:function(a){if(a=this.get_node(a,!0),!a||!a.length||a.children(".jstree-hovered").length)return!1;var b=this.element.find(".jstree-hovered"),c=this.element;b&&b.length&&this.dehover_node(b),a.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(a)}),setTimeout(function(){c.attr("aria-activedescendant",a[0].id)},0)},dehover_node:function(a){return a=this.get_node(a,!0),a&&a.length&&a.children(".jstree-hovered").length?(a.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(a)})):!1},select_node:function(b,c,d,e){var f,g,h,i;if(a.isArray(b)){for(b=b.slice(),g=0,h=b.length;h>g;g++)this.select_node(b[g],c,d,e);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(f=this.get_node(b,!0),void(b.state.selected||(b.state.selected=!0,this._data.core.selected.push(b.id),d||(f=this._open_to(b)),f&&f.length&&f.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:b,selected:this._data.core.selected,event:e}),c||this.trigger("changed",{action:"select_node",node:b,selected:this._data.core.selected,event:e})))):!1},deselect_node:function(b,c,d){var e,f,g;if(a.isArray(b)){for(b=b.slice(),e=0,f=b.length;f>e;e++)this.deselect_node(b[e],c,d);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(g=this.get_node(b,!0),void(b.state.selected&&(b.state.selected=!1,this._data.core.selected=a.vakata.array_remove_item(this._data.core.selected,b.id),g.length&&g.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:b,selected:this._data.core.selected,event:d}),c||this.trigger("changed",{action:"deselect_node",node:b,selected:this._data.core.selected,event:d})))):!1},select_all:function(b){var c=this._data.core.selected.concat([]),d,e;for(this._data.core.selected=this._model.data[a.jstree.root].children_d.concat(),d=0,e=this._data.core.selected.length;e>d;d++)this._model.data[this._data.core.selected[d]]&&(this._model.data[this._data.core.selected[d]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),b||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:c})},deselect_all:function(a){var b=this._data.core.selected.concat([]),c,d;for(c=0,d=this._data.core.selected.length;d>c;c++)this._model.data[this._data.core.selected[c]]&&(this._model.data[this._data.core.selected[c]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:b}),a||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:b})},is_selected:function(b){return b=this.get_node(b),b&&b.id!==a.jstree.root?b.state.selected:!1},get_selected:function(b){return b?a.map(this._data.core.selected,a.proxy(function(a){return this.get_node(a)},this)):this._data.core.selected.slice()},get_top_selected:function(b){var c=this.get_selected(!0),d={},e,f,g,h;for(e=0,f=c.length;f>e;e++)d[c[e].id]=c[e];for(e=0,f=c.length;f>e;e++)for(g=0,h=c[e].children_d.length;h>g;g++)d[c[e].children_d[g]]&&delete d[c[e].children_d[g]];c=[];for(e in d)d.hasOwnProperty(e)&&c.push(e);return b?a.map(c,a.proxy(function(a){return this.get_node(a)},this)):c},get_bottom_selected:function(b){var c=this.get_selected(!0),d=[],e,f;for(e=0,f=c.length;f>e;e++)c[e].children.length||d.push(c[e].id);return b?a.map(d,a.proxy(function(a){return this.get_node(a)},this)):d},get_state:function(){var b={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},c;for(c in this._model.data)this._model.data.hasOwnProperty(c)&&c!==a.jstree.root&&(this._model.data[c].state.opened&&b.core.open.push(c),this._model.data[c].state.selected&&b.core.selected.push(c));return b},set_state:function(c,d){if(c){if(c.core){var e,f,g,h,i;if(c.core.open)return a.isArray(c.core.open)&&c.core.open.length?this._load_nodes(c.core.open,function(a){this.open_node(a,!1,0),delete c.core.open,this.set_state(c,d)}):(delete c.core.open,this.set_state(c,d)),!1;if(c.core.scroll)return c.core.scroll&&c.core.scroll.left!==b&&this.element.scrollLeft(c.core.scroll.left),c.core.scroll&&c.core.scroll.top!==b&&this.element.scrollTop(c.core.scroll.top),delete c.core.scroll,this.set_state(c,d),!1;if(c.core.selected)return h=this,this.deselect_all(),a.each(c.core.selected,function(a,b){h.select_node(b,!1,!0)}),delete c.core.selected,this.set_state(c,d),!1;for(i in c)c.hasOwnProperty(i)&&"core"!==i&&-1===a.inArray(i,this.settings.plugins)&&delete c[i];if(a.isEmptyObject(c.core))return delete c.core,this.set_state(c,d),!1}return a.isEmptyObject(c)?(c=null,d&&d.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(b,c){this._data.core.state=c===!0?{}:this.get_state(),c&&a.isFunction(c)&&(this._data.core.state=c.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[a.jstree.root]={id:a.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var d=this.get_container_ul()[0].className;b||(this.element.html("<ul class='"+d+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(a.jstree.root,function(b,c){c&&(this.get_container_ul()[0].className=d,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(a.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(b){if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;var c=[],d=[],e=this._data.core.selected.concat([]);d.push(b.id),b.state.opened===!0&&c.push(b.id),this.get_node(b,!0).find(".jstree-open").each(function(){d.push(this.id),c.push(this.id)}),this._load_nodes(d,a.proxy(function(a){this.open_node(c,!1,0),this.select_node(e),this.trigger("refresh_node",{node:b,nodes:a})},this),!1,!0)},set_id:function(b,c){if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;var d,e,f=this._model.data,g=b.id;for(c=c.toString(),f[b.parent].children[a.inArray(b.id,f[b.parent].children)]=c,d=0,e=b.parents.length;e>d;d++)f[b.parents[d]].children_d[a.inArray(b.id,f[b.parents[d]].children_d)]=c;for(d=0,e=b.children.length;e>d;d++)f[b.children[d]].parent=c;for(d=0,e=b.children_d.length;e>d;d++)f[b.children_d[d]].parents[a.inArray(b.id,f[b.children_d[d]].parents)]=c;return d=a.inArray(b.id,this._data.core.selected),-1!==d&&(this._data.core.selected[d]=c),d=this.get_node(b.id,!0),d&&(d.attr("id",c),this.element.attr("aria-activedescendant")===b.id&&this.element.attr("aria-activedescendant",c)),delete f[b.id],b.id=c,b.li_attr.id=c,f[c]=b,this.trigger("set_id",{node:b,"new":b.id,old:g}),!0},get_text:function(b){return b=this.get_node(b),b&&b.id!==a.jstree.root?b.text:!1},set_text:function(b,c){var d,e;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;e>d;d++)this.set_text(b[d],c);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(b.text=c,this.get_node(b,!0).length&&this.redraw_node(b.id),this.trigger("set_text",{obj:b,text:c}),!0):!1},get_json:function(b,c,d){if(b=this.get_node(b||a.jstree.root),!b)return!1;c&&c.flat&&!d&&(d=[]);var e={id:b.id,text:b.text,icon:this.get_icon(b),li_attr:a.extend(!0,{},b.li_attr),a_attr:a.extend(!0,{},b.a_attr),state:{},data:c&&c.no_data?!1:a.extend(!0,{},b.data)},f,g;if(c&&c.flat?e.parent=b.parent:e.children=[],c&&c.no_state)delete e.state;else for(f in b.state)b.state.hasOwnProperty(f)&&(e.state[f]=b.state[f]);if(c&&c.no_li_attr&&delete e.li_attr,c&&c.no_a_attr&&delete e.a_attr,c&&c.no_id&&(delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.a_attr&&e.a_attr.id&&delete e.a_attr.id),c&&c.flat&&b.id!==a.jstree.root&&d.push(e),!c||!c.no_children)for(f=0,g=b.children.length;g>f;f++)c&&c.flat?this.get_json(b.children[f],c,d):e.children.push(this.get_json(b.children[f],c));return c&&c.flat?d:b.id===a.jstree.root?e.children:e},create_node:function(c,d,e,f,g){if(null===c&&(c=a.jstree.root),c=this.get_node(c),!c)return!1;if(e=e===b?"last":e,!e.toString().match(/^(before|after)$/)&&!g&&!this.is_loaded(c))return this.load_node(c,function(){this.create_node(c,d,e,f,!0)});d||(d={text:this.get_string("New node")}),"string"==typeof d&&(d={text:d}),d.text===b&&(d.text=this.get_string("New node"));var h,i,j,k;switch(c.id===a.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last")),e){case"before":h=this.get_node(c.parent),e=a.inArray(c.id,h.children),c=h;break;case"after":h=this.get_node(c.parent),e=a.inArray(c.id,h.children)+1,c=h;break;case"inside":case"first":e=0;break;case"last":e=c.children.length;break;default:e||(e=0)}if(e>c.children.length&&(e=c.children.length),d.id||(d.id=!0),!this.check("create_node",d,c,e))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(d.id===!0&&delete d.id,d=this._parse_model_from_json(d,c.id,c.parents.concat()),!d)return!1;for(h=this.get_node(d),i=[],i.push(d),i=i.concat(h.children_d),this.trigger("model",{nodes:i,parent:c.id}),c.children_d=c.children_d.concat(i),j=0,k=c.parents.length;k>j;j++)this._model.data[c.parents[j]].children_d=this._model.data[c.parents[j]].children_d.concat(i);for(d=h,h=[],j=0,k=c.children.length;k>j;j++)h[j>=e?j+1:j]=c.children[j];return h[e]=d.id,c.children=h,this.redraw_node(c,!0),f&&f.call(this,this.get_node(d)),this.trigger("create_node",{node:this.get_node(d),parent:c.id,position:e}),d.id},rename_node:function(b,c){var d,e,f;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;e>d;d++)this.rename_node(b[d],c);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(f=b.text,this.check("rename_node",b,this.get_parent(b),c)?(this.set_text(b,c),this.trigger("rename_node",{node:b,text:c,old:f}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(b){var c,d,e,f,g,h,i,j,k,l,m,n;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.delete_node(b[c]);return!0}if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;if(e=this.get_node(b.parent),f=a.inArray(b.id,e.children),l=!1,!this.check("delete_node",b,e,f))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==f&&(e.children=a.vakata.array_remove(e.children,f)),g=b.children_d.concat([]),g.push(b.id),h=0,i=b.parents.length;i>h;h++)this._model.data[b.parents[h]].children_d=a.vakata.array_filter(this._model.data[b.parents[h]].children_d,function(b){return-1===a.inArray(b,g)});for(j=0,k=g.length;k>j;j++)if(this._model.data[g[j]].state.selected){l=!0;break}for(l&&(this._data.core.selected=a.vakata.array_filter(this._data.core.selected,function(b){return-1===a.inArray(b,g)})),this.trigger("delete_node",{node:b,parent:e.id}),l&&this.trigger("changed",{action:"delete_node",node:b,selected:this._data.core.selected,parent:e.id}),j=0,k=g.length;k>j;j++)delete this._model.data[g[j]];return-1!==a.inArray(this._data.core.focused,g)&&(this._data.core.focused=null,m=this.element[0].scrollTop,n=this.element[0].scrollLeft,e.id===a.jstree.root?this._model.data[a.jstree.root].children[0]&&this.get_node(this._model.data[a.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(e,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=m,this.element[0].scrollLeft=n),this.redraw_node(e,!0),!0},check:function(b,c,d,e,f){c=c&&c.id?c:this.get_node(c),d=d&&d.id?d:this.get_node(d);var g=b.match(/^move_node|copy_node|create_node$/i)?d:c,h=this.settings.core.check_callback;return"move_node"!==b&&"copy_node"!==b||f&&f.is_multi||c.id!==d.id&&("move_node"!==b||a.inArray(c.id,d.children)!==e)&&-1===a.inArray(d.id,c.children_d)?(g&&g.data&&(g=g.data),g&&g.functions&&(g.functions[b]===!1||g.functions[b]===!0)?(g.functions[b]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+b,data:JSON.stringify({chk:b,pos:e,obj:c&&c.id?c.id:!1,par:d&&d.id?d.id:!1})}),g.functions[b]):h===!1||a.isFunction(h)&&h.call(this,b,c,d,e,f)===!1||h&&h[b]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+b,data:JSON.stringify({chk:b,pos:e,obj:c&&c.id?c.id:!1,par:d&&d.id?d.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:b,pos:e,obj:c&&c.id?c.id:!1,par:d&&d.id?d.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(d=this.get_node(d),e=e===b?0:e,!d)return!1;if(!e.toString().match(/^(before|after)$/)&&!g&&!this.is_loaded(d))return this.load_node(d,function(){this.move_node(c,d,e,f,!0,!1,i)});if(a.isArray(c)){if(1!==c.length){for(j=0,k=c.length;k>j;j++)(r=this.move_node(c[j],d,e,f,g,!1,i))&&(d=r,e="after");return this.redraw(),!0}c=c[0]}if(c=c&&c.id?c:this.get_node(c),!c||c.id===a.jstree.root)return!1;if(l=(c.parent||a.jstree.root).toString(),n=e.toString().match(/^(before|after)$/)&&d.id!==a.jstree.root?this.get_node(d.parent):d,o=i?i:this._model.data[c.id]?this:a.jstree.reference(c.id),p=!o||!o._id||this._id!==o._id,m=o&&o._id&&l&&o._model.data[l]&&o._model.data[l].children?a.inArray(c.id,o._model.data[l].children):-1,o&&o._id&&(c=o._model.data[c.id]),p)return(r=this.copy_node(c,d,e,f,g,!1,i))?(o&&o.delete_node(c),r):!1;switch(d.id===a.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last")),e){case"before":e=a.inArray(d.id,n.children);break;case"after":e=a.inArray(d.id,n.children)+1;break;case"inside":case"first":e=0;break;case"last":e=n.children.length;break;default:e||(e=0)}if(e>n.children.length&&(e=n.children.length),!this.check("move_node",c,n,e,{core:!0,origin:i,is_multi:o&&o._id&&o._id!==this._id,is_foreign:!o||!o._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(c.parent===n.id){for(q=n.children.concat(),r=a.inArray(c.id,q),-1!==r&&(q=a.vakata.array_remove(q,r),e>r&&e--),r=[],s=0,t=q.length;t>s;s++)r[s>=e?s+1:s]=q[s];r[e]=c.id,n.children=r,this._node_changed(n.id),this.redraw(n.id===a.jstree.root)}else{for(r=c.children_d.concat(),r.push(c.id),s=0,t=c.parents.length;t>s;s++){for(q=[],w=o._model.data[c.parents[s]].children_d,u=0,v=w.length;v>u;u++)-1===a.inArray(w[u],r)&&q.push(w[u]);o._model.data[c.parents[s]].children_d=q}for(o._model.data[l].children=a.vakata.array_remove_item(o._model.data[l].children,c.id),s=0,t=n.parents.length;t>s;s++)this._model.data[n.parents[s]].children_d=this._model.data[n.parents[s]].children_d.concat(r);for(q=[],s=0,t=n.children.length;t>s;s++)q[s>=e?s+1:s]=n.children[s];for(q[e]=c.id,n.children=q,n.children_d.push(c.id),n.children_d=n.children_d.concat(c.children_d),c.parent=n.id,r=n.parents.concat(),r.unshift(n.id),w=c.parents.length,c.parents=r,r=r.concat(),s=0,t=c.children_d.length;t>s;s++)this._model.data[c.children_d[s]].parents=this._model.data[c.children_d[s]].parents.slice(0,-1*w),Array.prototype.push.apply(this._model.data[c.children_d[s]].parents,r);(l===a.jstree.root||n.id===a.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(l),this._node_changed(n.id)),h||this.redraw()}return f&&f.call(this,c,n,e),this.trigger("move_node",{node:c,parent:n.id,position:e,old_parent:l,old_position:m,is_multi:o&&o._id&&o._id!==this._id,is_foreign:!o||!o._id,old_instance:o,new_instance:this}),c.id},copy_node:function(c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t;if(d=this.get_node(d),e=e===b?0:e,!d)return!1;if(!e.toString().match(/^(before|after)$/)&&!g&&!this.is_loaded(d))return this.load_node(d,function(){this.copy_node(c,d,e,f,!0,!1,i)});if(a.isArray(c)){if(1!==c.length){for(j=0,k=c.length;k>j;j++)(m=this.copy_node(c[j],d,e,f,g,!0,i))&&(d=m,e="after");return this.redraw(),!0}c=c[0]}if(c=c&&c.id?c:this.get_node(c),!c||c.id===a.jstree.root)return!1;switch(q=(c.parent||a.jstree.root).toString(),r=e.toString().match(/^(before|after)$/)&&d.id!==a.jstree.root?this.get_node(d.parent):d,s=i?i:this._model.data[c.id]?this:a.jstree.reference(c.id),t=!s||!s._id||this._id!==s._id,s&&s._id&&(c=s._model.data[c.id]),d.id===a.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last")),e){case"before":e=a.inArray(d.id,r.children);break;case"after":e=a.inArray(d.id,r.children)+1;break;case"inside":case"first":e=0;break;case"last":e=r.children.length;break;default:e||(e=0)}if(e>r.children.length&&(e=r.children.length),!this.check("copy_node",c,r,e,{core:!0,origin:i,is_multi:s&&s._id&&s._id!==this._id,is_foreign:!s||!s._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(p=s?s.get_json(c,{no_id:!0,no_data:!0,no_state:!0}):c,!p)return!1;if(p.id===!0&&delete p.id,p=this._parse_model_from_json(p,r.id,r.parents.concat()),!p)return!1;for(m=this.get_node(p),c&&c.state&&c.state.loaded===!1&&(m.state.loaded=!1),l=[],l.push(p),l=l.concat(m.children_d),this.trigger("model",{nodes:l,parent:r.id}),n=0,o=r.parents.length;o>n;n++)this._model.data[r.parents[n]].children_d=this._model.data[r.parents[n]].children_d.concat(l);for(l=[],n=0,o=r.children.length;o>n;n++)l[n>=e?n+1:n]=r.children[n];return l[e]=m.id,r.children=l,r.children_d.push(m.id),r.children_d=r.children_d.concat(m.children_d),r.id===a.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(r.id),h||this.redraw(r.id===a.jstree.root),f&&f.call(this,m,r,e),this.trigger("copy_node",{node:m,original:c,parent:r.id,position:e,old_parent:q,old_position:s&&s._id&&q&&s._model.data[q]&&s._model.data[q].children?a.inArray(c.id,s._model.data[q].children):-1,is_multi:s&&s._id&&s._id!==this._id,is_foreign:!s||!s._id,old_instance:s,new_instance:this}),m.id},cut:function(b){if(b||(b=this._data.core.selected.concat()),a.isArray(b)||(b=[b]),!b.length)return!1;var c=[],g,h,i;for(h=0,i=b.length;i>h;h++)g=this.get_node(b[h]),g&&g.id&&g.id!==a.jstree.root&&c.push(g);return c.length?(d=c,f=this,e="move_node",void this.trigger("cut",{node:b})):!1},copy:function(b){if(b||(b=this._data.core.selected.concat()),a.isArray(b)||(b=[b]),!b.length)return!1;var c=[],g,h,i;for(h=0,i=b.length;i>h;h++)g=this.get_node(b[h]),g&&g.id&&g.id!==a.jstree.root&&c.push(g);return c.length?(d=c,f=this,e="copy_node",void this.trigger("copy",{node:b})):!1},get_buffer:function(){return{mode:e,node:d,inst:f}},can_paste:function(){return e!==!1&&d!==!1},paste:function(a,b){return a=this.get_node(a),a&&e&&e.match(/^(copy_node|move_node)$/)&&d?(this[e](d,a,b,!1,!1,!1,f)&&this.trigger("paste",{parent:a.id,node:d,mode:e}),d=!1,e=!1,void(f=!1)):!1},clear_buffer:function(){d=!1,e=!1,f=!1,this.trigger("clear_buffer")},edit:function(b,c,d){var e,f,g,h,j,k,l,m,n,o=!1;return(b=this.get_node(b))?this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(n=b,c="string"==typeof c?c:b.text,this.set_text(b,""),b=this._open_to(b),n.text=c,e=this._data.core.rtl,f=this.element.width(),this._data.core.focused=n.id,g=b.children(".jstree-anchor").focus(),h=a("<span>"),j=c,k=a("<div />",{css:{position:"absolute",top:"-200px",left:e?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),l=a("<input />",{value:j,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:a.proxy(function(c){c.stopImmediatePropagation(),c.preventDefault();var e=h.children(".jstree-rename-input"),f=e.val(),i=this.settings.core.force_text,m;""===f&&(f=j),k.remove(),h.replaceWith(g),h.remove(),j=i?j:a("<div></div>").append(a.parseHTML(j)).html(),this.set_text(b,j),m=!!this.rename_node(b,i?a("<div></div>").text(f).text():a("<div></div>").append(a.parseHTML(f)).html()),m||this.set_text(b,j),this._data.core.focused=n.id,setTimeout(a.proxy(function(){var a=this.get_node(n.id,!0);a.length&&(this._data.core.focused=n.id,a.children(".jstree-anchor").focus())},this),0),d&&d.call(this,n,m,o),l=null},this),keydown:function(a){var b=a.which;27===b&&(o=!0,this.value=j),(27===b||13===b||37===b||38===b||39===b||40===b||32===b)&&a.stopImmediatePropagation(),(27===b||13===b)&&(a.preventDefault(),this.blur())},click:function(a){a.stopImmediatePropagation()},mousedown:function(a){a.stopImmediatePropagation()},keyup:function(a){l.width(Math.min(k.text("pW"+this.value).width(),f))},keypress:function(a){return 13===a.which?!1:void 0}}),m={fontFamily:g.css("fontFamily")||"",fontSize:g.css("fontSize")||"",
	fontWeight:g.css("fontWeight")||"",fontStyle:g.css("fontStyle")||"",fontStretch:g.css("fontStretch")||"",fontVariant:g.css("fontVariant")||"",letterSpacing:g.css("letterSpacing")||"",wordSpacing:g.css("wordSpacing")||""},h.attr("class",g.attr("class")).append(g.contents().clone()).append(l),g.replaceWith(h),k.css(m),l.css(m).width(Math.min(k.text("pW"+l[0].value).width(),f))[0].select(),void a(i).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(b){l&&b.target!==l&&a(l).blur()})):!1},set_theme:function(b,c){if(!b)return!1;if(c===!0){var d=this.settings.core.themes.dir;d||(d=a.jstree.path+"/themes"),c=d+"/"+b+"/style.css"}c&&-1===a.inArray(c,g)&&(a("head").append('<link rel="stylesheet" href="'+c+'" type="text/css" />'),g.push(c)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=b,this.element.addClass("jstree-"+b),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+b+"-responsive"),this.trigger("set_theme",{theme:b})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(a){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=a,a&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(c,d){var e,f,g,h;if(a.isArray(c)){for(c=c.slice(),e=0,f=c.length;f>e;e++)this.set_icon(c[e],d);return!0}return c=this.get_node(c),c&&c.id!==a.jstree.root?(h=c.icon,c.icon=d===!0||null===d||d===b||""===d?!0:d,g=this.get_node(c,!0).children(".jstree-anchor").children(".jstree-themeicon"),d===!1?this.hide_icon(c):d===!0||null===d||d===b||""===d?(g.removeClass("jstree-themeicon-custom "+h).css("background","").removeAttr("rel"),h===!1&&this.show_icon(c)):-1===d.indexOf("/")&&-1===d.indexOf(".")?(g.removeClass(h).css("background",""),g.addClass(d+" jstree-themeicon-custom").attr("rel",d),h===!1&&this.show_icon(c)):(g.removeClass(h).css("background",""),g.addClass("jstree-themeicon-custom").css("background","url('"+d+"') center center no-repeat").attr("rel",d),h===!1&&this.show_icon(c)),!0):!1},get_icon:function(b){return b=this.get_node(b),b&&b.id!==a.jstree.root?b.icon:!1},hide_icon:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.hide_icon(b[c]);return!0}return b=this.get_node(b),b&&b!==a.jstree.root?(b.icon=!1,this.get_node(b,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(b){var c,d,e;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.show_icon(b[c]);return!0}return b=this.get_node(b),b&&b!==a.jstree.root?(e=this.get_node(b,!0),b.icon=e.length?e.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,b.icon||(b.icon=!0),e.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},a.vakata={},a.vakata.attributes=function(b,c){b=a(b)[0];var d=c?{}:[];return b&&b.attributes&&a.each(b.attributes,function(b,e){-1===a.inArray(e.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==e.value&&""!==a.trim(e.value)&&(c?d[e.name]=e.value:d.push(e.name))}),d},a.vakata.array_unique=function(a){var c=[],d,e,f,g={};for(d=0,f=a.length;f>d;d++)g[a[d]]===b&&(c.push(a[d]),g[a[d]]=!0);return c},a.vakata.array_remove=function(a,b){return a.splice(b,1),a},a.vakata.array_remove_item=function(b,c){var d=a.inArray(c,b);return-1!==d?a.vakata.array_remove(b,d):b},a.vakata.array_filter=function(a,b,c,d,e){if(a.filter)return a.filter(b,c);d=[];for(e in a)~~e+""==e+""&&e>=0&&b.call(c,a[e],+e,a)&&d.push(a[e]);return d},a.jstree.plugins.changed=function(a,b){var c=[];this.trigger=function(a,d){var e,f;if(d||(d={}),"changed"===a.replace(".jstree","")){d.changed={selected:[],deselected:[]};var g={};for(e=0,f=c.length;f>e;e++)g[c[e]]=1;for(e=0,f=d.selected.length;f>e;e++)g[d.selected[e]]?g[d.selected[e]]=2:d.changed.selected.push(d.selected[e]);for(e=0,f=c.length;f>e;e++)1===g[c[e]]&&d.changed.deselected.push(c[e]);c=d.selected.slice()}b.trigger.call(this,a,d)},this.refresh=function(a,d){return c=[],b.refresh.apply(this,arguments)}};var j=i.createElement("I");j.className="jstree-icon jstree-checkbox",j.setAttribute("role","presentation"),a.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},a.jstree.plugins.checkbox=function(c,d){this.bind=function(){d.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",a.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",a.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",a.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(a.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",a.proxy(function(a,b){var c=this._model.data,d=c[b.parent],e=b.nodes,f,g;for(f=0,g=e.length;g>f;f++)c[e[f]].state.checked=c[e[f]].state.checked||c[e[f]].original&&c[e[f]].original.state&&c[e[f]].original.state.checked,c[e[f]].state.checked&&this._data.checkbox.selected.push(e[f])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",a.proxy(function(b,c){var d=this._model.data,e=d[c.parent],f=c.nodes,g=[],h,i,j,k,l,m,n=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection;if(-1!==n.indexOf("down"))if(e.state[o?"selected":"checked"]){for(i=0,j=f.length;j>i;i++)d[f[i]].state[o?"selected":"checked"]=!0;this._data[o?"core":"checkbox"].selected=this._data[o?"core":"checkbox"].selected.concat(f)}else for(i=0,j=f.length;j>i;i++)if(d[f[i]].state[o?"selected":"checked"]){for(k=0,l=d[f[i]].children_d.length;l>k;k++)d[d[f[i]].children_d[k]].state[o?"selected":"checked"]=!0;this._data[o?"core":"checkbox"].selected=this._data[o?"core":"checkbox"].selected.concat(d[f[i]].children_d)}if(-1!==n.indexOf("up")){for(i=0,j=e.children_d.length;j>i;i++)d[e.children_d[i]].children.length||g.push(d[e.children_d[i]].parent);for(g=a.vakata.array_unique(g),k=0,l=g.length;l>k;k++){e=d[g[k]];while(e&&e.id!==a.jstree.root){for(h=0,i=0,j=e.children.length;j>i;i++)h+=d[e.children[i]].state[o?"selected":"checked"];if(h!==j)break;e.state[o?"selected":"checked"]=!0,this._data[o?"core":"checkbox"].selected.push(e.id),m=this.get_node(e,!0),m&&m.length&&m.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked"),e=this.get_node(e.parent)}}}this._data[o?"core":"checkbox"].selected=a.vakata.array_unique(this._data[o?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",a.proxy(function(b,c){var d=c.node,e=this._model.data,f=this.get_node(d.parent),g=this.get_node(d,!0),h,i,j,k,l=this.settings.checkbox.cascade,m=this.settings.checkbox.tie_selection,n={},o=this._data[m?"core":"checkbox"].selected;for(h=0,i=o.length;i>h;h++)n[o[h]]=!0;if(-1!==l.indexOf("down"))for(h=0,i=d.children_d.length;i>h;h++)n[d.children_d[h]]=!0,k=e[d.children_d[h]],k.state[m?"selected":"checked"]=!0,k&&k.original&&k.original.state&&k.original.state.undetermined&&(k.original.state.undetermined=!1);if(-1!==l.indexOf("up"))while(f&&f.id!==a.jstree.root){for(j=0,h=0,i=f.children.length;i>h;h++)j+=e[f.children[h]].state[m?"selected":"checked"];if(j!==i)break;f.state[m?"selected":"checked"]=!0,n[f.id]=!0,k=this.get_node(f,!0),k&&k.length&&k.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked"),f=this.get_node(f.parent)}o=[];for(h in n)n.hasOwnProperty(h)&&o.push(h);this._data[m?"core":"checkbox"].selected=o,-1!==l.indexOf("down")&&g.length&&g.find(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",a.proxy(function(b,c){var d=this.get_node(a.jstree.root),e=this._model.data,f,g,h;for(f=0,g=d.children_d.length;g>f;f++)h=e[d.children_d[f]],h&&h.original&&h.original.state&&h.original.state.undetermined&&(h.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",a.proxy(function(b,c){var d=c.node,e=this.get_node(d,!0),f,g,h,i=this.settings.checkbox.cascade,j=this.settings.checkbox.tie_selection,k=this._data[j?"core":"checkbox"].selected,l={};if(d&&d.original&&d.original.state&&d.original.state.undetermined&&(d.original.state.undetermined=!1),-1!==i.indexOf("down"))for(f=0,g=d.children_d.length;g>f;f++)h=this._model.data[d.children_d[f]],h.state[j?"selected":"checked"]=!1,h&&h.original&&h.original.state&&h.original.state.undetermined&&(h.original.state.undetermined=!1);if(-1!==i.indexOf("up"))for(f=0,g=d.parents.length;g>f;f++)h=this._model.data[d.parents[f]],h.state[j?"selected":"checked"]=!1,h&&h.original&&h.original.state&&h.original.state.undetermined&&(h.original.state.undetermined=!1),h=this.get_node(d.parents[f],!0),h&&h.length&&h.attr("aria-selected",!1).children(".jstree-anchor").removeClass(j?"jstree-clicked":"jstree-checked");for(l={},f=0,g=k.length;g>f;f++)-1!==i.indexOf("down")&&-1!==a.inArray(k[f],d.children_d)||-1!==i.indexOf("up")&&-1!==a.inArray(k[f],d.parents)||(l[k[f]]=!0);k=[];for(f in l)l.hasOwnProperty(f)&&k.push(f);this._data[j?"core":"checkbox"].selected=k,-1!==i.indexOf("down")&&e.length&&e.find(".jstree-anchor").removeClass(j?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",a.proxy(function(b,c){var d=this.get_node(c.parent),e=this._model.data,f,g,h,i,j=this.settings.checkbox.tie_selection;while(d&&d.id!==a.jstree.root&&!d.state[j?"selected":"checked"]){for(h=0,f=0,g=d.children.length;g>f;f++)h+=e[d.children[f]].state[j?"selected":"checked"];if(!(g>0&&h===g))break;d.state[j?"selected":"checked"]=!0,this._data[j?"core":"checkbox"].selected.push(d.id),i=this.get_node(d,!0),i&&i.length&&i.attr("aria-selected",!0).children(".jstree-anchor").addClass(j?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}},this)).on("move_node.jstree",a.proxy(function(b,c){var d=c.is_multi,e=c.old_parent,f=this.get_node(c.parent),g=this._model.data,h,i,j,k,l,m=this.settings.checkbox.tie_selection;if(!d){h=this.get_node(e);while(h&&h.id!==a.jstree.root&&!h.state[m?"selected":"checked"]){for(i=0,j=0,k=h.children.length;k>j;j++)i+=g[h.children[j]].state[m?"selected":"checked"];if(!(k>0&&i===k))break;h.state[m?"selected":"checked"]=!0,this._data[m?"core":"checkbox"].selected.push(h.id),l=this.get_node(h,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked"),h=this.get_node(h.parent)}}h=f;while(h&&h.id!==a.jstree.root){for(i=0,j=0,k=h.children.length;k>j;j++)i+=g[h.children[j]].state[m?"selected":"checked"];if(i===k)h.state[m?"selected":"checked"]||(h.state[m?"selected":"checked"]=!0,this._data[m?"core":"checkbox"].selected.push(h.id),l=this.get_node(h,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked"));else{if(!h.state[m?"selected":"checked"])break;h.state[m?"selected":"checked"]=!1,this._data[m?"core":"checkbox"].selected=a.vakata.array_remove_item(this._data[m?"core":"checkbox"].selected,h.id),l=this.get_node(h,!0),l&&l.length&&l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(m?"jstree-clicked":"jstree-checked")}h=this.get_node(h.parent)}},this))},this._undetermined=function(){if(null!==this.element){var c,d,e,f,g={},h=this._model.data,i=this.settings.checkbox.tie_selection,j=this._data[i?"core":"checkbox"].selected,k=[],l=this;for(c=0,d=j.length;d>c;c++)if(h[j[c]]&&h[j[c]].parents)for(e=0,f=h[j[c]].parents.length;f>e;e++){if(g[h[j[c]].parents[e]]!==b)break;h[j[c]].parents[e]!==a.jstree.root&&(g[h[j[c]].parents[e]]=!0,k.push(h[j[c]].parents[e]))}for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var i=l.get_node(this),j;if(i.state.loaded){for(c=0,d=i.children_d.length;d>c;c++)if(j=h[i.children_d[c]],!j.state.loaded&&j.original&&j.original.state&&j.original.state.undetermined&&j.original.state.undetermined===!0)for(g[j.id]===b&&j.id!==a.jstree.root&&(g[j.id]=!0,k.push(j.id)),e=0,f=j.parents.length;f>e;e++)g[j.parents[e]]===b&&j.parents[e]!==a.jstree.root&&(g[j.parents[e]]=!0,k.push(j.parents[e]))}else if(i.original&&i.original.state&&i.original.state.undetermined&&i.original.state.undetermined===!0)for(g[i.id]===b&&i.id!==a.jstree.root&&(g[i.id]=!0,k.push(i.id)),e=0,f=i.parents.length;f>e;e++)g[i.parents[e]]===b&&i.parents[e]!==a.jstree.root&&(g[i.parents[e]]=!0,k.push(i.parents[e]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),c=0,d=k.length;d>c;c++)h[k[c]].state[i?"selected":"checked"]||(j=this.get_node(k[c],!0),j&&j.length&&j.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(b,c,e,f){if(b=d.redraw_node.apply(this,arguments)){var g,h,i=null,k=null;for(g=0,h=b.childNodes.length;h>g;g++)if(b.childNodes[g]&&b.childNodes[g].className&&-1!==b.childNodes[g].className.indexOf("jstree-anchor")){i=b.childNodes[g];break}i&&(!this.settings.checkbox.tie_selection&&this._model.data[b.id].state.checked&&(i.className+=" jstree-checked"),k=j.cloneNode(!1),this._model.data[b.id].state.checkbox_disabled&&(k.className+=" jstree-checkbox-disabled"),i.insertBefore(k,i.childNodes[0]))}return e||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(a.proxy(this._undetermined,this),50)),b},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(b){b=this.get_node(b);var c=this.settings.checkbox.cascade,d,e,f=this.settings.checkbox.tie_selection,g=this._data[f?"core":"checkbox"].selected,h=this._model.data;if(!b||b.state[f?"selected":"checked"]===!0||-1===c.indexOf("undetermined")||-1===c.indexOf("down")&&-1===c.indexOf("up"))return!1;if(!b.state.loaded&&b.original.state.undetermined===!0)return!0;for(d=0,e=b.children_d.length;e>d;d++)if(-1!==a.inArray(b.children_d[d],g)||!h[b.children_d[d]].state.loaded&&h[b.children_d[d]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(b){var c,d,e;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.disable_checkbox(b[c]);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(e=this.get_node(b,!0),void(b.state.checkbox_disabled||(b.state.checkbox_disabled=!0,e&&e.length&&e.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:b})))):!1},this.enable_checkbox=function(b){var c,d,e;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;d>c;c++)this.enable_checkbox(b[c]);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(e=this.get_node(b,!0),void(b.state.checkbox_disabled&&(b.state.checkbox_disabled=!1,e&&e.length&&e.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:b})))):!1},this.activate_node=function(b,c){return a(c.target).hasClass("jstree-checkbox-disabled")?!1:(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||a(c.target).hasClass("jstree-checkbox"))&&(c.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!a(c.target).hasClass("jstree-checkbox")?d.activate_node.call(this,b,c):this.is_disabled(b)?!1:(this.is_checked(b)?this.uncheck_node(b,c):this.check_node(b,c),void this.trigger("activate_node",{node:this.get_node(b)})))},this.check_node=function(b,c){if(this.settings.checkbox.tie_selection)return this.select_node(b,!1,!0,c);var d,e,f,g;if(a.isArray(b)){for(b=b.slice(),e=0,f=b.length;f>e;e++)this.check_node(b[e],c);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(d=this.get_node(b,!0),void(b.state.checked||(b.state.checked=!0,this._data.checkbox.selected.push(b.id),d&&d.length&&d.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:b,selected:this._data.checkbox.selected,event:c})))):!1},this.uncheck_node=function(b,c){if(this.settings.checkbox.tie_selection)return this.deselect_node(b,!1,c);var d,e,f;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;e>d;d++)this.uncheck_node(b[d],c);return!0}return b=this.get_node(b),b&&b.id!==a.jstree.root?(f=this.get_node(b,!0),void(b.state.checked&&(b.state.checked=!1,this._data.checkbox.selected=a.vakata.array_remove_item(this._data.checkbox.selected,b.id),f.length&&f.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:b,selected:this._data.checkbox.selected,event:c})))):!1},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var b=this._data.checkbox.selected.concat([]),c,d;for(this._data.checkbox.selected=this._model.data[a.jstree.root].children_d.concat(),c=0,d=this._data.checkbox.selected.length;d>c;c++)this._model.data[this._data.checkbox.selected[c]]&&(this._model.data[this._data.checkbox.selected[c]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var a=this._data.checkbox.selected.concat([]),b,c;for(b=0,c=this._data.checkbox.selected.length;c>b;b++)this._model.data[this._data.checkbox.selected[b]]&&(this._model.data[this._data.checkbox.selected[b]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:a})},this.is_checked=function(b){return this.settings.checkbox.tie_selection?this.is_selected(b):(b=this.get_node(b),b&&b.id!==a.jstree.root?b.state.checked:!1)},this.get_checked=function(b){return this.settings.checkbox.tie_selection?this.get_selected(b):b?a.map(this._data.checkbox.selected,a.proxy(function(a){return this.get_node(a)},this)):this._data.checkbox.selected},this.get_top_checked=function(b){if(this.settings.checkbox.tie_selection)return this.get_top_selected(b);var c=this.get_checked(!0),d={},e,f,g,h;for(e=0,f=c.length;f>e;e++)d[c[e].id]=c[e];for(e=0,f=c.length;f>e;e++)for(g=0,h=c[e].children_d.length;h>g;g++)d[c[e].children_d[g]]&&delete d[c[e].children_d[g]];c=[];for(e in d)d.hasOwnProperty(e)&&c.push(e);return b?a.map(c,a.proxy(function(a){return this.get_node(a)},this)):c},this.get_bottom_checked=function(b){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(b);var c=this.get_checked(!0),d=[],e,f;for(e=0,f=c.length;f>e;e++)c[e].children.length||d.push(c[e].id);return b?a.map(d,a.proxy(function(a){return this.get_node(a)},this)):d},this.load_node=function(b,c){var e,f,g,h,i,j;if(!a.isArray(b)&&!this.settings.checkbox.tie_selection&&(j=this.get_node(b),j&&j.state.loaded))for(e=0,f=j.children_d.length;f>e;e++)this._model.data[j.children_d[e]].state.checked&&(i=!0,this._data.checkbox.selected=a.vakata.array_remove_item(this._data.checkbox.selected,j.children_d[e]));return d.load_node.apply(this,arguments)},this.get_state=function(){var a=d.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?a:(a.checkbox=this._data.checkbox.selected.slice(),a)},this.set_state=function(b,c){var e=d.set_state.apply(this,arguments);if(e&&b.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var f=this;a.each(b.checkbox,function(a,b){f.check_node(b)})}return delete b.checkbox,this.set_state(b,c),!1}return e},this.refresh=function(a,b){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),d.refresh.apply(this,arguments)}},a.jstree.defaults.conditionalselect=function(){return!0},a.jstree.plugins.conditionalselect=function(a,b){this.activate_node=function(a,c){this.settings.conditionalselect.call(this,this.get_node(a),c)&&b.activate_node.call(this,a,c)}},a.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(b,c){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.create_node(d,{},"last",function(a){setTimeout(function(){c.edit(a)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.edit(d)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.is_selected(d)?c.delete_node(c.get_selected()):c.delete_node(d)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.is_selected(d)?c.cut(c.get_top_selected()):c.cut(d)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.is_selected(d)?c.copy(c.get_top_selected()):c.copy(d)}},paste:{separator_before:!1,icon:!1,_disabled:function(b){return!a.jstree.reference(b.reference).can_paste()},separator_after:!1,label:"Paste",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.paste(d)}}}}}}},a.jstree.plugins.contextmenu=function(c,d){this.bind=function(){d.bind.call(this);var b=0,c=null,e,f;this.element.on("contextmenu.jstree",".jstree-anchor",a.proxy(function(a,d){"input"!==a.target.tagName.toLowerCase()&&(a.preventDefault(),b=a.ctrlKey?+new Date:0,(d||c)&&(b=+new Date+1e4),c&&clearTimeout(c),this.is_loading(a.currentTarget)||this.show_contextmenu(a.currentTarget,a.pageX,a.pageY,a))},this)).on("click.jstree",".jstree-anchor",a.proxy(function(c){this._data.contextmenu.visible&&(!b||+new Date-b>250)&&a.vakata.context.hide(),b=0},this)).on("touchstart.jstree",".jstree-anchor",function(b){b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(e=b.originalEvent.changedTouches[0].clientX,f=b.originalEvent.changedTouches[0].clientY,c=setTimeout(function(){a(b.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(a){c&&a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]&&(Math.abs(e-a.originalEvent.changedTouches[0].clientX)>50||Math.abs(f-a.originalEvent.changedTouches[0].clientY)>50)&&clearTimeout(c)}).on("touchend.vakata.jstree",function(a){c&&clearTimeout(c)}),a(i).on("context_hide.vakata.jstree",a.proxy(function(b,c){this._data.contextmenu.visible=!1,a(c.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&a.vakata.context.hide(),d.teardown.call(this)},this.show_contextmenu=function(c,d,e,f){if(c=this.get_node(c),!c||c.id===a.jstree.root)return!1;var g=this.settings.contextmenu,h=this.get_node(c,!0),i=h.children(".jstree-anchor"),j=!1,k=!1;(g.show_at_node||d===b||e===b)&&(j=i.offset(),d=j.left,e=j.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(c)&&this.activate_node(c,f),k=g.items,a.isFunction(k)&&(k=k.call(this,c,a.proxy(function(a){this._show_contextmenu(c,d,e,a)},this))),a.isPlainObject(k)&&this._show_contextmenu(c,d,e,k)},this._show_contextmenu=function(b,c,d,e){var f=this.get_node(b,!0),g=f.children(".jstree-anchor");a(i).one("context_show.vakata.jstree",a.proxy(function(b,c){var d="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";a(c.element).addClass(d),g.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,a.vakata.context.show(g,{x:c,y:d},e),this.trigger("show_contextmenu",{node:b,x:c,y:d})}},function(a){var b=!1,c={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};a.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(b){a(i).triggerHandler("context_"+b+".vakata",{reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}})},_execute:function(b){return b=c.items[b],b&&(!b._disabled||a.isFunction(b._disabled)&&!b._disabled({item:b,reference:c.reference,element:c.element}))&&b.action?b.action.call(null,{item:b,reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}}):!1},_parse:function(b,d){if(!b)return!1;d||(c.html="",c.items=[]);var e="",f=!1,g;return d&&(e+="<ul>"),a.each(b,function(b,d){return d?(c.items.push(d),!f&&d.separator_before&&(e+="<li class='vakata-context-separator'><a href='#' "+(a.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),f=!1,e+="<li class='"+(d._class||"")+(d._disabled===!0||a.isFunction(d._disabled)&&d._disabled({item:d,reference:c.reference,element:c.element})?" vakata-contextmenu-disabled ":"")+"' "+(d.shortcut?" data-shortcut='"+d.shortcut+"' ":"")+">",e+="<a href='#' rel='"+(c.items.length-1)+"' "+(d.title?"title='"+d.title+"'":"")+">",a.vakata.context.settings.icons&&(e+="<i ",d.icon&&(e+=-1!==d.icon.indexOf("/")||-1!==d.icon.indexOf(".")?" style='background:url(\""+d.icon+"\") center center no-repeat' ":" class='"+d.icon+"' "),e+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),e+=(a.isFunction(d.label)?d.label({item:b,reference:c.reference,element:c.element}):d.label)+(d.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+d.shortcut+'">'+(d.shortcut_label||"")+"</span>":"")+"</a>",d.submenu&&(g=a.vakata.context._parse(d.submenu,!0),g&&(e+=g)),e+="</li>",void(d.separator_after&&(e+="<li class='vakata-context-separator'><a href='#' "+(a.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",f=!0))):!0}),e=e.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),d&&(e+="</ul>"),d||(c.html=e,a.vakata.context._trigger("parse")),e.length>10?e:!1},_show_submenu:function(c){if(c=a(c),c.length&&c.children("ul").length){var d=c.children("ul"),e=c.offset().left,f=e+c.outerWidth(),g=c.offset().top,h=d.width(),i=d.height(),j=a(window).width()+a(window).scrollLeft(),k=a(window).height()+a(window).scrollTop();b?c[f-(h+10+c.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):c[f+h>j&&e>j-f?"addClass":"removeClass"]("vakata-context-right"),g+i+10>k&&d.css("bottom","-1px"),c.hasClass("vakata-context-right")?h>e&&d.css("margin-right",e-h):h>j-f&&d.css("margin-left",j-f-h),d.show()}},show:function(d,e,f){var g,h,i,j,k,l,m,n,o=!0;switch(c.element&&c.element.length&&c.element.width(""),o){case!e&&!d:return!1;case!!e&&!!d:c.reference=d,c.position_x=e.x,c.position_y=e.y;break;case!e&&!!d:c.reference=d,g=d.offset(),c.position_x=g.left+d.outerHeight(),c.position_y=g.top;break;case!!e&&!d:c.position_x=e.x,c.position_y=e.y}d&&!f&&a(d).data("vakata_contextmenu")&&(f=a(d).data("vakata_contextmenu")),a.vakata.context._parse(f)&&c.element.html(c.html),c.items.length&&(c.element.appendTo("body"),h=c.element,i=c.position_x,j=c.position_y,k=h.width(),l=h.height(),m=a(window).width()+a(window).scrollLeft(),n=a(window).height()+a(window).scrollTop(),b&&(i-=h.outerWidth()-a(d).outerWidth(),i<a(window).scrollLeft()+20&&(i=a(window).scrollLeft()+20)),i+k+20>m&&(i=m-(k+20)),j+l+20>n&&(j=n-(l+20)),c.element.css({left:i,top:j}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),c.is_visible=!0,a.vakata.context._trigger("show"))},hide:function(){c.is_visible&&(c.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),c.is_visible=!1,a.vakata.context._trigger("hide"))}},a(function(){b="rtl"===a("body").css("direction");var d=!1;c.element=a("<ul class='vakata-context'></ul>"),c.element.on("mouseenter","li",function(b){b.stopImmediatePropagation(),a.contains(this,b.relatedTarget)||(d&&clearTimeout(d),c.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),a(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),a.vakata.context._show_submenu(this))}).on("mouseleave","li",function(b){a.contains(this,b.relatedTarget)||a(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(b){a(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),a.vakata.context.settings.hide_onmouseleave&&(d=setTimeout(function(b){return function(){a.vakata.context.hide()}}(this),a.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(b){b.preventDefault(),a(this).blur().parent().hasClass("vakata-context-disabled")||a.vakata.context._execute(a(this).attr("rel"))===!1||a.vakata.context.hide()}).on("keydown","a",function(b){var d=null;switch(b.which){case 13:case 32:b.type="click",b.preventDefault(),a(b.currentTarget).trigger(b);break;case 37:c.is_visible&&(c.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 38:c.is_visible&&(d=c.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),
	d.length||(d=c.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),d.addClass("vakata-context-hover").children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 39:c.is_visible&&(c.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 40:c.is_visible&&(d=c.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),d.length||(d=c.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),d.addClass("vakata-context-hover").children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 27:a.vakata.context.hide(),b.preventDefault()}}).on("keydown",function(a){a.preventDefault();var b=c.element.find(".vakata-contextmenu-shortcut-"+a.which).parent();b.parent().not(".vakata-context-disabled")&&b.click()}),a(i).on("mousedown.vakata.jstree",function(b){c.is_visible&&!a.contains(c.element[0],b.target)&&a.vakata.context.hide()}).on("context_show.vakata.jstree",function(a,d){c.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),b&&c.element.addClass("vakata-context-rtl").css("direction","rtl"),c.element.find("ul").hide().end()})})}(a),a.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var k,l;a.jstree.plugins.dnd=function(b,c){this.init=function(a,b){c.init.call(this,a,b),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in i.createElement("span")},this.bind=function(){c.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",a.proxy(function(b){if(this.settings.dnd.large_drag_target&&a(b.target).closest(".jstree-node")[0]!==b.currentTarget)return!0;if("touchstart"===b.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var c=this.get_node(b.target),d=this.is_selected(c)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,e=d>1?d+" "+this.get_string("nodes"):this.get_text(b.currentTarget);if(this.settings.core.force_text&&(e=a.vakata.html.escape(e)),c&&c.id&&c.id!==a.jstree.root&&(1===b.which||"touchstart"===b.type||"dragstart"===b.type)&&(this.settings.dnd.is_draggable===!0||a.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,d>1?this.get_top_selected(!0):[c],b))){if(k={jstree:!0,origin:this,obj:this.get_node(c,!0),nodes:d>1?this.get_top_selected():[c.id]},l=b.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),a.vakata.dnd.start(b,k,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+e+'<ins class="jstree-copy" style="display:none;">+</ins></div>');a.vakata.dnd._trigger("start",b,{helper:a(),element:l,data:k})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(b){return b.preventDefault(),a.vakata.dnd._trigger("move",b,{helper:a(),element:l,data:k}),!1}).on("drop.jstree",a.proxy(function(b){return b.preventDefault(),a.vakata.dnd._trigger("stop",b,{helper:a(),element:l,data:k}),!1},this))},this.redraw_node=function(a,b,d,e){if(a=c.redraw_node.apply(this,arguments),a&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)a.setAttribute("draggable",!0);else{var f,g,h=null;for(f=0,g=a.childNodes.length;g>f;f++)if(a.childNodes[f]&&a.childNodes[f].className&&-1!==a.childNodes[f].className.indexOf("jstree-anchor")){h=a.childNodes[f];break}h&&h.setAttribute("draggable",!0)}return a}},a(function(){var c=!1,d=!1,e=!1,f=!1,g=a('<div id="jstree-marker">&#160;</div>').hide();a(i).on("dnd_start.vakata.jstree",function(a,b){c=!1,e=!1,b&&b.data&&b.data.jstree&&g.appendTo("body")}).on("dnd_move.vakata.jstree",function(h,i){if(f&&(i.event&&"dragover"===i.event.type&&i.event.target===e.target||clearTimeout(f)),i&&i.data&&i.data.jstree&&(!i.event.target.id||"jstree-marker"!==i.event.target.id)){e=i.event;var j=a.jstree.reference(i.event.target),k=!1,l=!1,m=!1,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(j&&j._data&&j._data.dnd)if(g.attr("class","jstree-"+j.get_theme()+(j.settings.core.themes.responsive?" jstree-dnd-responsive":"")),C=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey)),i.helper.children().attr("class","jstree-"+j.get_theme()+" jstree-"+j.get_theme()+"-"+j.get_theme_variant()+" "+(j.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[C?"show":"hide"](),i.event.target!==j.element[0]&&i.event.target!==j.get_container_ul()[0]||0!==j.get_container_ul().children().length){if(k=j.settings.dnd.large_drop_target?a(i.event.target).closest(".jstree-node").children(".jstree-anchor"):a(i.event.target).closest(".jstree-anchor"),k&&k.length&&k.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(l=k.offset(),m=(i.event.pageY!==b?i.event.pageY:i.event.originalEvent.pageY)-l.top,q=k.outerHeight(),t=q/3>m?["b","i","a"]:m>q-q/3?["a","i","b"]:m>q/2?["i","a","b"]:["i","b","a"],a.each(t,function(b,e){switch(e){case"b":o=l.left-6,p=l.top,r=j.get_parent(k),s=k.parent().index();break;case"i":A=j.settings.dnd.inside_pos,B=j.get_node(k.parent()),o=l.left-2,p=l.top+q/2+1,r=B.id,s="first"===A?0:"last"===A?B.children.length:Math.min(A,B.children.length);break;case"a":o=l.left-6,p=l.top+q,r=j.get_parent(k),s=k.parent().index()+1}for(u=!0,v=0,w=i.data.nodes.length;w>v;v++)if(x=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",y=s,"move_node"===x&&"a"===e&&i.data.origin&&i.data.origin===j&&r===j.get_parent(i.data.nodes[v])&&(z=j.get_node(r),y>a.inArray(i.data.nodes[v],z.children)&&(y-=1)),u=u&&(j&&j.settings&&j.settings.dnd&&j.settings.dnd.check_while_dragging===!1||j.check(x,i.data.origin&&i.data.origin!==j?i.data.origin.get_node(i.data.nodes[v]):i.data.nodes[v],r,y,{dnd:!0,ref:j.get_node(k.parent()),pos:e,origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==j,is_foreign:!i.data.origin})),!u){j&&j.last_error&&(d=j.last_error());break}return"i"===e&&k.parent().is(".jstree-closed")&&j.settings.dnd.open_timeout&&(f=setTimeout(function(a,b){return function(){a.open_node(b)}}(j,k),j.settings.dnd.open_timeout)),u?(D=j.get_node(r,!0),D.hasClass(".jstree-dnd-parent")||(a(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),D.addClass("jstree-dnd-parent")),c={ins:j,par:r,pos:"i"!==e||"last"!==A||0!==s||j.is_loaded(B)?s:"last"},g.css({left:o+"px",top:p+"px"}).show(),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=C?"copy":"move"),d={},t=!0,!1):void 0}),t===!0))return}else{for(u=!0,v=0,w=i.data.nodes.length;w>v;v++)if(u=u&&j.check(i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",i.data.origin&&i.data.origin!==j?i.data.origin.get_node(i.data.nodes[v]):i.data.nodes[v],a.jstree.root,"last",{dnd:!0,ref:j.get_node(a.jstree.root),pos:"i",origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==j,is_foreign:!i.data.origin}),!u)break;if(u)return c={ins:j,par:a.jstree.root,pos:"last"},g.hide(),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=C?"copy":"move"))}a(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),c=!1,i.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect="none"),g.hide()}}).on("dnd_scroll.vakata.jstree",function(a,b){b&&b.data&&b.data.jstree&&(g.hide(),c=!1,e=!1,b.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(b,h){if(a(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),f&&clearTimeout(f),h&&h.data&&h.data.jstree){g.hide().detach();var i,j,k=[];if(c){for(i=0,j=h.data.nodes.length;j>i;i++)k[i]=h.data.origin?h.data.origin.get_node(h.data.nodes[i]):h.data.nodes[i];c.ins[h.data.origin&&(h.data.origin.settings.dnd.always_copy||h.data.origin.settings.dnd.copy&&(h.event.metaKey||h.event.ctrlKey))?"copy_node":"move_node"](k,c.par,c.pos,!1,!1,!1,h.data.origin)}else i=a(h.event.target).closest(".jstree"),i.length&&d&&d.error&&"check"===d.error&&(i=i.jstree(!0),i&&i.settings.core.error.call(this,d));e=!1,c=!1}}).on("keyup.jstree keydown.jstree",function(b,h){h=a.vakata.dnd._get(),h&&h.data&&h.data.jstree&&("keyup"===b.type&&27===b.which?(f&&clearTimeout(f),c=!1,d=!1,e=!1,f=!1,g.hide().detach(),a.vakata.dnd._clean()):(h.helper.find(".jstree-copy").first()[h.data.origin&&(h.data.origin.settings.dnd.always_copy||h.data.origin.settings.dnd.copy&&(b.metaKey||b.ctrlKey))?"show":"hide"](),e&&(e.metaKey=b.metaKey,e.ctrlKey=b.ctrlKey,a.vakata.dnd._trigger("move",e))))})}),function(a){a.vakata.html={div:a("<div />"),escape:function(b){return a.vakata.html.div.text(b).html()},strip:function(b){return a.vakata.html.div.empty().append(a.parseHTML(b)).text()}};var c={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};a.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(c,d,e){e===b&&(e=a.vakata.dnd._get()),e.event=d,a(i).triggerHandler("dnd_"+c+".vakata",e)},_get:function(){return{data:c.data,element:c.element,helper:c.helper}},_clean:function(){c.helper&&c.helper.remove(),c.scroll_i&&(clearInterval(c.scroll_i),c.scroll_i=!1),c={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},a(i).off("mousemove.vakata.jstree touchmove.vakata.jstree",a.vakata.dnd.drag),a(i).off("mouseup.vakata.jstree touchend.vakata.jstree",a.vakata.dnd.stop)},_scroll:function(b){if(!c.scroll_e||!c.scroll_l&&!c.scroll_t)return c.scroll_i&&(clearInterval(c.scroll_i),c.scroll_i=!1),!1;if(!c.scroll_i)return c.scroll_i=setInterval(a.vakata.dnd._scroll,100),!1;if(b===!0)return!1;var d=c.scroll_e.scrollTop(),e=c.scroll_e.scrollLeft();c.scroll_e.scrollTop(d+c.scroll_t*a.vakata.dnd.settings.scroll_speed),c.scroll_e.scrollLeft(e+c.scroll_l*a.vakata.dnd.settings.scroll_speed),(d!==c.scroll_e.scrollTop()||e!==c.scroll_e.scrollLeft())&&a.vakata.dnd._trigger("scroll",c.scroll_e)},start:function(b,d,e){"touchstart"===b.type&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,b.target=i.elementFromPoint(b.originalEvent.changedTouches[0].pageX-window.pageXOffset,b.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_drag&&a.vakata.dnd.stop({});try{b.currentTarget.unselectable="on",b.currentTarget.onselectstart=function(){return!1},b.currentTarget.style&&(b.currentTarget.style.touchAction="none",b.currentTarget.style.msTouchAction="none",b.currentTarget.style.MozUserSelect="none")}catch(f){}return c.init_x=b.pageX,c.init_y=b.pageY,c.data=d,c.is_down=!0,c.element=b.currentTarget,c.target=b.target,c.is_touch="touchstart"===b.type,e!==!1&&(c.helper=a("<div id='vakata-dnd'></div>").html(e).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),a(i).on("mousemove.vakata.jstree touchmove.vakata.jstree",a.vakata.dnd.drag),a(i).on("mouseup.vakata.jstree touchend.vakata.jstree",a.vakata.dnd.stop),!1},drag:function(b){if("touchmove"===b.type&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,b.target=i.elementFromPoint(b.originalEvent.changedTouches[0].pageX-window.pageXOffset,b.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_down){if(!c.is_drag){if(!(Math.abs(b.pageX-c.init_x)>(c.is_touch?a.vakata.dnd.settings.threshold_touch:a.vakata.dnd.settings.threshold)||Math.abs(b.pageY-c.init_y)>(c.is_touch?a.vakata.dnd.settings.threshold_touch:a.vakata.dnd.settings.threshold)))return;c.helper&&(c.helper.appendTo("body"),c.helper_w=c.helper.outerWidth()),c.is_drag=!0,a(c.target).one("click.vakata",!1),a.vakata.dnd._trigger("start",b)}var d=!1,e=!1,f=!1,g=!1,h=!1,j=!1,k=!1,l=!1,m=!1,n=!1;return c.scroll_t=0,c.scroll_l=0,c.scroll_e=!1,a(a(b.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(a(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var d=a(this),e=d.offset();return this.scrollHeight>this.offsetHeight&&(e.top+d.height()-b.pageY<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=1),b.pageY-e.top<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(e.left+d.width()-b.pageX<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=1),b.pageX-e.left<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=-1)),c.scroll_t||c.scroll_l?(c.scroll_e=a(this),!1):void 0}),c.scroll_e||(d=a(i),e=a(window),f=d.height(),g=e.height(),h=d.width(),j=e.width(),k=d.scrollTop(),l=d.scrollLeft(),f>g&&b.pageY-k<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=-1),f>g&&g-(b.pageY-k)<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=1),h>j&&b.pageX-l<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=-1),h>j&&j-(b.pageX-l)<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=1),(c.scroll_t||c.scroll_l)&&(c.scroll_e=d)),c.scroll_e&&a.vakata.dnd._scroll(!0),c.helper&&(m=parseInt(b.pageY+a.vakata.dnd.settings.helper_top,10),n=parseInt(b.pageX+a.vakata.dnd.settings.helper_left,10),f&&m+25>f&&(m=f-50),h&&n+c.helper_w>h&&(n=h-(c.helper_w+2)),c.helper.css({left:n+"px",top:m+"px"})),a.vakata.dnd._trigger("move",b),!1}},stop:function(b){if("touchend"===b.type&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,b.target=i.elementFromPoint(b.originalEvent.changedTouches[0].pageX-window.pageXOffset,b.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_drag)b.target!==c.target&&a(c.target).off("click.vakata"),a.vakata.dnd._trigger("stop",b);else if("touchend"===b.type&&b.target===c.target){var d=setTimeout(function(){a(b.target).click()},100);a(b.target).one("click",function(){d&&clearTimeout(d)})}return a.vakata.dnd._clean(),!1}}}(a),a.jstree.defaults.massload=null,a.jstree.plugins.massload=function(b,c){this.init=function(a,b){this._data.massload={},c.init.call(this,a,b)},this._load_nodes=function(b,d,e,f){var g=this.settings.massload,h=JSON.stringify(b),i=[],j=this._model.data,k,l,m;if(!e){for(k=0,l=b.length;l>k;k++)(!j[b[k]]||!j[b[k]].state.loaded&&!j[b[k]].state.failed||f)&&(i.push(b[k]),m=this.get_node(b[k],!0),m&&m.length&&m.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},i.length){if(a.isFunction(g))return g.call(this,i,a.proxy(function(a){var g,h;if(a)for(g in a)a.hasOwnProperty(g)&&(this._data.massload[g]=a[g]);for(g=0,h=b.length;h>g;g++)m=this.get_node(b[g],!0),m&&m.length&&m.removeClass("jstree-loading").attr("aria-busy",!1);c._load_nodes.call(this,b,d,e,f)},this));if("object"==typeof g&&g&&g.url)return g=a.extend(!0,{},g),a.isFunction(g.url)&&(g.url=g.url.call(this,i)),a.isFunction(g.data)&&(g.data=g.data.call(this,i)),a.ajax(g).done(a.proxy(function(a,g,h){var i,j;if(a)for(i in a)a.hasOwnProperty(i)&&(this._data.massload[i]=a[i]);for(i=0,j=b.length;j>i;i++)m=this.get_node(b[i],!0),m&&m.length&&m.removeClass("jstree-loading").attr("aria-busy",!1);c._load_nodes.call(this,b,d,e,f)},this)).fail(a.proxy(function(a){c._load_nodes.call(this,b,d,e,f)},this))}}return c._load_nodes.call(this,b,d,e,f)},this._load_node=function(b,d){var e=this._data.massload[b.id],f=null,g;return e?(f=this["string"==typeof e?"_append_html_data":"_append_json_data"](b,"string"==typeof e?a(a.parseHTML(e)).filter(function(){return 3!==this.nodeType}):e,function(a){d.call(this,a)}),g=this.get_node(b.id,!0),g&&g.length&&g.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[b.id],f):c._load_node.call(this,b,d)}},a.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},a.jstree.plugins.search=function(c,d){this.bind=function(){d.bind.call(this),this._data.search.str="",this._data.search.dom=a(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",a.proxy(function(b,c){if(this._data.search.som&&c.res.length){var d=this._model.data,e,f,g=[],h,i;for(e=0,f=c.res.length;f>e;e++)if(d[c.res[e]]&&!d[c.res[e]].state.hidden&&(g.push(c.res[e]),g=g.concat(d[c.res[e]].parents),this._data.search.smc))for(h=0,i=d[c.res[e]].children_d.length;i>h;h++)d[d[c.res[e]].children_d[h]]&&!d[d[c.res[e]].children_d[h]].state.hidden&&g.push(d[c.res[e]].children_d[h]);g=a.vakata.array_remove_item(a.vakata.array_unique(g),a.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(g,!0),this.redraw(!0)}},this)).on("clear_search.jstree",a.proxy(function(a,b){this._data.search.som&&b.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(c,d,e,f,g,h){if(c===!1||""===a.trim(c.toString()))return this.clear_search();f=this.get_node(f),f=f&&f.id?f.id:null,c=c.toString();var i=this.settings.search,j=i.ajax?i.ajax:!1,k=this._model.data,l=null,m=[],n=[],o,p;if(this._data.search.res.length&&!g&&this.clear_search(),e===b&&(e=i.show_only_matches),h===b&&(h=i.show_only_matches_children),!d&&j!==!1)return a.isFunction(j)?j.call(this,c,a.proxy(function(b){b&&b.d&&(b=b.d),this._load_nodes(a.isArray(b)?a.vakata.array_unique(b):[],function(){this.search(c,!0,e,f,g,h)})},this),f):(j=a.extend({},j),j.data||(j.data={}),j.data.str=c,f&&(j.data.inside=f),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=a.ajax(j).fail(a.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(j)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(a.proxy(function(b){b&&b.d&&(b=b.d),this._load_nodes(a.isArray(b)?a.vakata.array_unique(b):[],function(){this.search(c,!0,e,f,g,h)})},this)),this._data.search.lastRequest);if(g||(this._data.search.str=c,this._data.search.dom=a(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=e,this._data.search.smc=h),l=new a.vakata.search(c,!0,{caseSensitive:i.case_sensitive,fuzzy:i.fuzzy}),a.each(k[f?f:a.jstree.root].children_d,function(a,b){var d=k[b];d.text&&!d.state.hidden&&(!i.search_leaves_only||d.state.loaded&&0===d.children.length)&&(i.search_callback&&i.search_callback.call(this,c,d)||!i.search_callback&&l.search(d.text).isMatch)&&(m.push(b),n=n.concat(d.parents))}),m.length){for(n=a.vakata.array_unique(n),o=0,p=n.length;p>o;o++)n[o]!==a.jstree.root&&k[n[o]]&&this.open_node(n[o],null,0)===!0&&this._data.search.opn.push(n[o]);g?(this._data.search.dom=this._data.search.dom.add(a(this.element[0].querySelectorAll("#"+a.map(m,function(b){return-1!=="0123456789".indexOf(b[0])?"\\3"+b[0]+" "+b.substr(1).replace(a.jstree.idregex,"\\$&"):b.replace(a.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=a.vakata.array_unique(this._data.search.res.concat(m))):(this._data.search.dom=a(this.element[0].querySelectorAll("#"+a.map(m,function(b){return-1!=="0123456789".indexOf(b[0])?"\\3"+b[0]+" "+b.substr(1).replace(a.jstree.idregex,"\\$&"):b.replace(a.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=m),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:c,res:this._data.search.res,show_only_matches:e})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=a(this.element[0].querySelectorAll("#"+a.map(this._data.search.res,function(b){return-1!=="0123456789".indexOf(b[0])?"\\3"+b[0]+" "+b.substr(1).replace(a.jstree.idregex,"\\$&"):b.replace(a.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=a()},this.redraw_node=function(b,c,e,f){if(b=d.redraw_node.apply(this,arguments),b&&-1!==a.inArray(b.id,this._data.search.res)){var g,h,i=null;for(g=0,h=b.childNodes.length;h>g;g++)if(b.childNodes[g]&&b.childNodes[g].className&&-1!==b.childNodes[g].className.indexOf("jstree-anchor")){i=b.childNodes[g];break}i&&(i.className+=" jstree-search")}return b}},function(a){a.vakata.search=function(b,c,d){d=d||{},d=a.extend({},a.vakata.search.defaults,d),d.fuzzy!==!1&&(d.fuzzy=!0),b=d.caseSensitive?b:b.toLowerCase();var e=d.location,f=d.distance,g=d.threshold,h=b.length,i,j,k,l;return h>32&&(d.fuzzy=!1),d.fuzzy&&(i=1<<h-1,j=function(){var a={},c=0;for(c=0;h>c;c++)a[b.charAt(c)]=0;for(c=0;h>c;c++)a[b.charAt(c)]|=1<<h-c-1;return a}(),k=function(a,b){var c=a/h,d=Math.abs(e-b);return f?c+d/f:d?1:c}),l=function(a){if(a=d.caseSensitive?a:a.toLowerCase(),b===a||-1!==a.indexOf(b))return{isMatch:!0,score:0};if(!d.fuzzy)return{isMatch:!1,score:1};var c,f,l=a.length,m=g,n=a.indexOf(b,e),o,p,q=h+l,r,s,t,u,v,w=1,x=[];for(-1!==n&&(m=Math.min(k(0,n),m),n=a.lastIndexOf(b,e+h),-1!==n&&(m=Math.min(k(0,n),m))),n=-1,c=0;h>c;c++){o=0,p=q;while(p>o)k(c,e+p)<=m?o=p:q=p,p=Math.floor((q-o)/2+o);for(q=p,s=Math.max(1,e-p+1),t=Math.min(e+p,l)+h,u=new Array(t+2),u[t+1]=(1<<c)-1,f=t;f>=s;f--)if(v=j[a.charAt(f-1)],0===c?u[f]=(u[f+1]<<1|1)&v:u[f]=(u[f+1]<<1|1)&v|((r[f+1]|r[f])<<1|1)|r[f+1],u[f]&i&&(w=k(c,f-1),m>=w)){if(m=w,n=f-1,x.push(n),!(n>e))break;s=Math.max(1,2*e-n)}if(k(c+1,e)>m)break;r=u}return{isMatch:n>=0,score:w}},c===!0?{search:l}:l(c)},a.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(a),a.jstree.defaults.sort=function(a,b){return this.get_text(a)>this.get_text(b)?1:-1},a.jstree.plugins.sort=function(b,c){this.bind=function(){c.bind.call(this),this.element.on("model.jstree",a.proxy(function(a,b){this.sort(b.parent,!0)},this)).on("rename_node.jstree create_node.jstree",a.proxy(function(a,b){this.sort(b.parent||b.node.parent,!1),this.redraw_node(b.parent||b.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",a.proxy(function(a,b){this.sort(b.parent,!1),this.redraw_node(b.parent,!0)},this))},this.sort=function(b,c){var d,e;if(b=this.get_node(b),b&&b.children&&b.children.length&&(b.children.sort(a.proxy(this.settings.sort,this)),c))for(d=0,e=b.children_d.length;e>d;d++)this.sort(b.children_d[d],!1)}};var m=!1;a.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},a.jstree.plugins.state=function(b,c){this.bind=function(){c.bind.call(this);var b=a.proxy(function(){this.element.on(this.settings.state.events,a.proxy(function(){m&&clearTimeout(m),m=setTimeout(a.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",a.proxy(function(a,c){this.element.one("restore_state.jstree",b),this.restore_state()||b()},this))},this.save_state=function(){var b={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};a.vakata.storage.set(this.settings.state.key,JSON.stringify(b))},this.restore_state=function(){var b=a.vakata.storage.get(this.settings.state.key);if(b)try{b=JSON.parse(b)}catch(c){return!1}return b&&b.ttl&&b.sec&&+new Date-b.sec>b.ttl?!1:(b&&b.state&&(b=b.state),b&&a.isFunction(this.settings.state.filter)&&(b=this.settings.state.filter.call(this,b)),b?(this.element.one("set_state.jstree",function(c,d){d.instance.trigger("restore_state",{state:a.extend(!0,{},b)})}),this.set_state(b),!0):!1)},this.clear_state=function(){return a.vakata.storage.del(this.settings.state.key)}},function(a,b){a.vakata.storage={set:function(a,b){return window.localStorage.setItem(a,b)},get:function(a){return window.localStorage.getItem(a)},del:function(a){return window.localStorage.removeItem(a)}}}(a),a.jstree.defaults.types={"default":{}},a.jstree.defaults.types[a.jstree.root]={},a.jstree.plugins.types=function(c,d){this.init=function(c,e){var f,g;if(e&&e.types&&e.types["default"])for(f in e.types)if("default"!==f&&f!==a.jstree.root&&e.types.hasOwnProperty(f))for(g in e.types["default"])e.types["default"].hasOwnProperty(g)&&e.types[f][g]===b&&(e.types[f][g]=e.types["default"][g]);d.init.call(this,c,e),this._model.data[a.jstree.root].type=a.jstree.root},this.refresh=function(b,c){d.refresh.call(this,b,c),this._model.data[a.jstree.root].type=a.jstree.root},this.bind=function(){this.element.on("model.jstree",a.proxy(function(c,d){var e=this._model.data,f=d.nodes,g=this.settings.types,h,i,j="default",k;for(h=0,i=f.length;i>h;h++){if(j="default",e[f[h]].original&&e[f[h]].original.type&&g[e[f[h]].original.type]&&(j=e[f[h]].original.type),e[f[h]].data&&e[f[h]].data.jstree&&e[f[h]].data.jstree.type&&g[e[f[h]].data.jstree.type]&&(j=e[f[h]].data.jstree.type),e[f[h]].type=j,e[f[h]].icon===!0&&g[j].icon!==b&&(e[f[h]].icon=g[j].icon),g[j].li_attr!==b&&"object"==typeof g[j].li_attr)for(k in g[j].li_attr)if(g[j].li_attr.hasOwnProperty(k)){if("id"===k)continue;e[f[h]].li_attr[k]===b?e[f[h]].li_attr[k]=g[j].li_attr[k]:"class"===k&&(e[f[h]].li_attr["class"]=g[j].li_attr["class"]+" "+e[f[h]].li_attr["class"])}if(g[j].a_attr!==b&&"object"==typeof g[j].a_attr)for(k in g[j].a_attr)if(g[j].a_attr.hasOwnProperty(k)){if("id"===k)continue;e[f[h]].a_attr[k]===b?e[f[h]].a_attr[k]=g[j].a_attr[k]:"href"===k&&"#"===e[f[h]].a_attr[k]?e[f[h]].a_attr.href=g[j].a_attr.href:"class"===k&&(e[f[h]].a_attr["class"]=g[j].a_attr["class"]+" "+e[f[h]].a_attr["class"])}}e[a.jstree.root].type=a.jstree.root},this)),d.bind.call(this)},this.get_json=function(b,c,e){var f,g,h=this._model.data,i=c?a.extend(!0,{},c,{no_id:!1}):{},j=d.get_json.call(this,b,i,e);if(j===!1)return!1;if(a.isArray(j))for(f=0,g=j.length;g>f;f++)j[f].type=j[f].id&&h[j[f].id]&&h[j[f].id].type?h[j[f].id].type:"default",c&&c.no_id&&(delete j[f].id,j[f].li_attr&&j[f].li_attr.id&&delete j[f].li_attr.id,j[f].a_attr&&j[f].a_attr.id&&delete j[f].a_attr.id);else j.type=j.id&&h[j.id]&&h[j.id].type?h[j.id].type:"default",c&&c.no_id&&(j=this._delete_ids(j));return j},this._delete_ids=function(b){if(a.isArray(b)){for(var c=0,d=b.length;d>c;c++)b[c]=this._delete_ids(b[c]);return b}return delete b.id,b.li_attr&&b.li_attr.id&&delete b.li_attr.id,b.a_attr&&b.a_attr.id&&delete b.a_attr.id,b.children&&a.isArray(b.children)&&(b.children=this._delete_ids(b.children)),b},this.check=function(c,e,f,g,h){if(d.check.call(this,c,e,f,g,h)===!1)return!1;e=e&&e.id?e:this.get_node(e),f=f&&f.id?f:this.get_node(f);var i=e&&e.id?h&&h.origin?h.origin:a.jstree.reference(e.id):null,j,k,l,m;switch(i=i&&i._model&&i._model.data?i._model.data:null,c){case"create_node":case"move_node":case"copy_node":if("move_node"!==c||-1===a.inArray(e.id,f.children)){if(j=this.get_rules(f),j.max_children!==b&&-1!==j.max_children&&j.max_children===f.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+c,data:JSON.stringify({chk:c,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})},!1;if(j.valid_children!==b&&-1!==j.valid_children&&-1===a.inArray(e.type||"default",j.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+c,data:JSON.stringify({chk:c,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})},!1;if(i&&e.children_d&&e.parents){for(k=0,l=0,m=e.children_d.length;m>l;l++)k=Math.max(k,i[e.children_d[l]].parents.length);k=k-e.parents.length+1}(0>=k||k===b)&&(k=1);do{if(j.max_depth!==b&&-1!==j.max_depth&&j.max_depth<k)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+c,data:JSON.stringify({chk:c,pos:g,obj:e&&e.id?e.id:!1,par:f&&f.id?f.id:!1})},!1;f=this.get_node(f.parent),j=this.get_rules(f),k++}while(f)}}return!0},this.get_rules=function(a){if(a=this.get_node(a),!a)return!1;var c=this.get_type(a,!0);return c.max_depth===b&&(c.max_depth=-1),c.max_children===b&&(c.max_children=-1),c.valid_children===b&&(c.valid_children=-1),c},this.get_type=function(b,c){return b=this.get_node(b),b?c?a.extend({type:b.type},this.settings.types[b.type]):b.type:!1},this.set_type=function(c,d){var e=this._model.data,f,g,h,i,j,k,l,m;if(a.isArray(c)){for(c=c.slice(),g=0,h=c.length;h>g;g++)this.set_type(c[g],d);return!0}if(f=this.settings.types,c=this.get_node(c),!f[d]||!c)return!1;if(l=this.get_node(c,!0),l&&l.length&&(m=l.children(".jstree-anchor")),i=c.type,j=this.get_icon(c),c.type=d,(j===!0||!f[i]||f[i].icon!==b&&j===f[i].icon)&&this.set_icon(c,f[d].icon!==b?f[d].icon:!0),f[i]&&f[i].li_attr!==b&&"object"==typeof f[i].li_attr)for(k in f[i].li_attr)if(f[i].li_attr.hasOwnProperty(k)){if("id"===k)continue;"class"===k?(e[c.id].li_attr["class"]=(e[c.id].li_attr["class"]||"").replace(f[i].li_attr[k],""),l&&l.removeClass(f[i].li_attr[k])):e[c.id].li_attr[k]===f[i].li_attr[k]&&(e[c.id].li_attr[k]=null,l&&l.removeAttr(k))}if(f[i]&&f[i].a_attr!==b&&"object"==typeof f[i].a_attr)for(k in f[i].a_attr)if(f[i].a_attr.hasOwnProperty(k)){if("id"===k)continue;"class"===k?(e[c.id].a_attr["class"]=(e[c.id].a_attr["class"]||"").replace(f[i].a_attr[k],""),m&&m.removeClass(f[i].a_attr[k])):e[c.id].a_attr[k]===f[i].a_attr[k]&&("href"===k?(e[c.id].a_attr[k]="#",m&&m.attr("href","#")):(delete e[c.id].a_attr[k],m&&m.removeAttr(k)))}if(f[d].li_attr!==b&&"object"==typeof f[d].li_attr)for(k in f[d].li_attr)if(f[d].li_attr.hasOwnProperty(k)){if("id"===k)continue;e[c.id].li_attr[k]===b?(e[c.id].li_attr[k]=f[d].li_attr[k],l&&("class"===k?l.addClass(f[d].li_attr[k]):l.attr(k,f[d].li_attr[k]))):"class"===k&&(e[c.id].li_attr["class"]=f[d].li_attr[k]+" "+e[c.id].li_attr["class"],l&&l.addClass(f[d].li_attr[k]))}if(f[d].a_attr!==b&&"object"==typeof f[d].a_attr)for(k in f[d].a_attr)if(f[d].a_attr.hasOwnProperty(k)){if("id"===k)continue;e[c.id].a_attr[k]===b?(e[c.id].a_attr[k]=f[d].a_attr[k],m&&("class"===k?m.addClass(f[d].a_attr[k]):m.attr(k,f[d].a_attr[k]))):"href"===k&&"#"===e[c.id].a_attr[k]?(e[c.id].a_attr.href=f[d].a_attr.href,m&&m.attr("href",f[d].a_attr.href)):"class"===k&&(e[c.id].a_attr["class"]=f[d].a_attr["class"]+" "+e[c.id].a_attr["class"],m&&m.addClass(f[d].a_attr[k]))}return!0}},a.jstree.defaults.unique={case_sensitive:!1,duplicate:function(a,b){return a+" ("+b+")"}},a.jstree.plugins.unique=function(c,d){this.check=function(b,c,e,f,g){if(d.check.call(this,b,c,e,f,g)===!1)return!1;
	if(c=c&&c.id?c:this.get_node(c),e=e&&e.id?e:this.get_node(e),!e||!e.children)return!0;var h="rename_node"===b?f:c.text,i=[],j=this.settings.unique.case_sensitive,k=this._model.data,l,m;for(l=0,m=e.children.length;m>l;l++)i.push(j?k[e.children[l]].text:k[e.children[l]].text.toLowerCase());switch(j||(h=h.toLowerCase()),b){case"delete_node":return!0;case"rename_node":return l=-1===a.inArray(h,i)||c.text&&c.text[j?"toString":"toLowerCase"]()===h,l||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+h+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:c&&c.id?c.id:!1,par:e&&e.id?e.id:!1})}),l;case"create_node":return l=-1===a.inArray(h,i),l||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+h+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:c&&c.id?c.id:!1,par:e&&e.id?e.id:!1})}),l;case"copy_node":return l=-1===a.inArray(h,i),l||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+h+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:c&&c.id?c.id:!1,par:e&&e.id?e.id:!1})}),l;case"move_node":return l=c.parent===e.id&&(!g||!g.is_multi)||-1===a.inArray(h,i),l||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+h+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:c&&c.id?c.id:!1,par:e&&e.id?e.id:!1})}),l}return!0},this.create_node=function(c,e,f,g,h){if(!e||e.text===b){if(null===c&&(c=a.jstree.root),c=this.get_node(c),!c)return d.create_node.call(this,c,e,f,g,h);if(f=f===b?"last":f,!f.toString().match(/^(before|after)$/)&&!h&&!this.is_loaded(c))return d.create_node.call(this,c,e,f,g,h);e||(e={});var i,j,k,l,m,n=this._model.data,o=this.settings.unique.case_sensitive,p=this.settings.unique.duplicate;for(j=i=this.get_string("New node"),k=[],l=0,m=c.children.length;m>l;l++)k.push(o?n[c.children[l]].text:n[c.children[l]].text.toLowerCase());l=1;while(-1!==a.inArray(o?j:j.toLowerCase(),k))j=p.call(this,i,++l).toString();e.text=j}return d.create_node.call(this,c,e,f,g,h)}};var n=i.createElement("DIV");if(n.setAttribute("unselectable","on"),n.setAttribute("role","presentation"),n.className="jstree-wholerow",n.innerHTML="&#160;",a.jstree.plugins.wholerow=function(b,c){this.bind=function(){c.bind.call(this),this.element.on("ready.jstree set_state.jstree",a.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",a.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",a.proxy(function(a,b){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",a.proxy(function(a,b){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var c=!1,d,e;for(d=0,e=b.selected.length;e>d;d++)c=this.get_node(b.selected[d],!0),c&&c.length&&c.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",a.proxy(function(a,b){this.get_node(b.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",a.proxy(function(a,b){"hover_node"===a.type&&this.is_disabled(b.node)||this.get_node(b.node,!0).children(".jstree-wholerow")["hover_node"===a.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",a.proxy(function(b){if(this._data.contextmenu){b.preventDefault();var c=a.Event("contextmenu",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey,pageX:b.pageX,pageY:b.pageY});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c)}},this)).on("click.jstree",".jstree-wholerow",function(b){b.stopImmediatePropagation();var c=a.Event("click",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c).focus()}).on("dblclick.jstree",".jstree-wholerow",function(b){b.stopImmediatePropagation();var c=a.Event("dblclick",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",a.proxy(function(b){b.stopImmediatePropagation();var c=a.Event("click",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",a.proxy(function(a){return a.stopImmediatePropagation(),this.is_disabled(a.currentTarget)||this.hover_node(a.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",a.proxy(function(a){this.dehover_node(a.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),c.teardown.call(this)},this.redraw_node=function(b,d,e,f){if(b=c.redraw_node.apply(this,arguments)){var g=n.cloneNode(!0);-1!==a.inArray(b.id,this._data.core.selected)&&(g.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===b.id&&(g.className+=" jstree-wholerow-hovered"),b.insertBefore(g,b.childNodes[0])}return b}},i.registerElement&&Object&&Object.create){var o=Object.create(HTMLElement.prototype);o.createdCallback=function(){var b={core:{},plugins:[]},c;for(c in a.jstree.plugins)a.jstree.plugins.hasOwnProperty(c)&&this.attributes[c]&&(b.plugins.push(c),this.getAttribute(c)&&JSON.parse(this.getAttribute(c))&&(b[c]=JSON.parse(this.getAttribute(c))));for(c in a.jstree.defaults.core)a.jstree.defaults.core.hasOwnProperty(c)&&this.attributes[c]&&(b.core[c]=JSON.parse(this.getAttribute(c))||this.getAttribute(c));a(this).jstree(b)};try{i.registerElement("vakata-jstree",{prototype:o})}catch(p){}}}});

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	//     keymaster.js
	//     (c) 2011-2013 Thomas Fuchs
	//     keymaster.js may be freely distributed under the MIT license.

	;(function(global){
	  var k,
	    _handlers = {},
	    _mods = { 16: false, 18: false, 17: false, 91: false },
	    _scope = 'all',
	    // modifier keys
	    _MODIFIERS = {
	      '‚áß': 16, shift: 16,
	      '‚å•': 18, alt: 18, option: 18,
	      '‚åÉ': 17, ctrl: 17, control: 17,
	      '‚åò': 91, command: 91
	    },
	    // special keys
	    _MAP = {
	      backspace: 8, tab: 9, clear: 12,
	      enter: 13, 'return': 13,
	      esc: 27, escape: 27, space: 32,
	      left: 37, up: 38,
	      right: 39, down: 40,
	      del: 46, 'delete': 46,
	      home: 36, end: 35,
	      pageup: 33, pagedown: 34,
	      ',': 188, '.': 190, '/': 191,
	      '`': 192, '-': 189, '=': 187,
	      ';': 186, '\'': 222,
	      '[': 219, ']': 221, '\\': 220
	    },
	    code = function(x){
	      return _MAP[x] || x.toUpperCase().charCodeAt(0);
	    },
	    _downKeys = [];

	  for(k=1;k<20;k++) _MAP['f'+k] = 111+k;

	  // IE doesn't support Array#indexOf, so have a simple replacement
	  function index(array, item){
	    var i = array.length;
	    while(i--) if(array[i]===item) return i;
	    return -1;
	  }

	  // for comparing mods before unassignment
	  function compareArray(a1, a2) {
	    if (a1.length != a2.length) return false;
	    for (var i = 0; i < a1.length; i++) {
	        if (a1[i] !== a2[i]) return false;
	    }
	    return true;
	  }

	  var modifierMap = {
	      16:'shiftKey',
	      18:'altKey',
	      17:'ctrlKey',
	      91:'metaKey'
	  };
	  function updateModifierKey(event) {
	      for(k in _mods) _mods[k] = event[modifierMap[k]];
	  };

	  // handle keydown event
	  function dispatch(event) {
	    var key, handler, k, i, modifiersMatch, scope;
	    key = event.keyCode;

	    if (index(_downKeys, key) == -1) {
	        _downKeys.push(key);
	    }

	    // if a modifier key, set the key.<modifierkeyname> property to true and return
	    if(key == 93 || key == 224) key = 91; // right command on webkit, command on Gecko
	    if(key in _mods) {
	      _mods[key] = true;
	      // 'assignKey' from inside this closure is exported to window.key
	      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = true;
	      return;
	    }
	    updateModifierKey(event);

	    // see if we need to ignore the keypress (filter() can can be overridden)
	    // by default ignore key presses if a select, textarea, or input is focused
	    if(!assignKey.filter.call(this, event)) return;

	    // abort if no potentially matching shortcuts found
	    if (!(key in _handlers)) return;

	    scope = getScope();

	    // for each potential shortcut
	    for (i = 0; i < _handlers[key].length; i++) {
	      handler = _handlers[key][i];

	      // see if it's in the current scope
	      if(handler.scope == scope || handler.scope == 'all'){
	        // check if modifiers match if any
	        modifiersMatch = handler.mods.length > 0;
	        for(k in _mods)
	          if((!_mods[k] && index(handler.mods, +k) > -1) ||
	            (_mods[k] && index(handler.mods, +k) == -1)) modifiersMatch = false;
	        // call the handler and stop the event if neccessary
	        if((handler.mods.length == 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91]) || modifiersMatch){
	          if(handler.method(event, handler)===false){
	            if(event.preventDefault) event.preventDefault();
	              else event.returnValue = false;
	            if(event.stopPropagation) event.stopPropagation();
	            if(event.cancelBubble) event.cancelBubble = true;
	          }
	        }
	      }
	    }
	  };

	  // unset modifier keys on keyup
	  function clearModifier(event){
	    var key = event.keyCode, k,
	        i = index(_downKeys, key);

	    // remove key from _downKeys
	    if (i >= 0) {
	        _downKeys.splice(i, 1);
	    }

	    if(key == 93 || key == 224) key = 91;
	    if(key in _mods) {
	      _mods[key] = false;
	      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = false;
	    }
	  };

	  function resetModifiers() {
	    for(k in _mods) _mods[k] = false;
	    for(k in _MODIFIERS) assignKey[k] = false;
	  };

	  // parse and assign shortcut
	  function assignKey(key, scope, method){
	    var keys, mods;
	    keys = getKeys(key);
	    if (method === undefined) {
	      method = scope;
	      scope = 'all';
	    }

	    // for each shortcut
	    for (var i = 0; i < keys.length; i++) {
	      // set modifier keys if any
	      mods = [];
	      key = keys[i].split('+');
	      if (key.length > 1){
	        mods = getMods(key);
	        key = [key[key.length-1]];
	      }
	      // convert to keycode and...
	      key = key[0]
	      key = code(key);
	      // ...store handler
	      if (!(key in _handlers)) _handlers[key] = [];
	      _handlers[key].push({ shortcut: keys[i], scope: scope, method: method, key: keys[i], mods: mods });
	    }
	  };

	  // unbind all handlers for given key in current scope
	  function unbindKey(key, scope) {
	    var multipleKeys, keys,
	      mods = [],
	      i, j, obj;

	    multipleKeys = getKeys(key);

	    for (j = 0; j < multipleKeys.length; j++) {
	      keys = multipleKeys[j].split('+');

	      if (keys.length > 1) {
	        mods = getMods(keys);
	        key = keys[keys.length - 1];
	      }

	      key = code(key);

	      if (scope === undefined) {
	        scope = getScope();
	      }
	      if (!_handlers[key]) {
	        return;
	      }
	      for (i = 0; i < _handlers[key].length; i++) {
	        obj = _handlers[key][i];
	        // only clear handlers if correct scope and mods match
	        if (obj.scope === scope && compareArray(obj.mods, mods)) {
	          _handlers[key][i] = {};
	        }
	      }
	    }
	  };

	  // Returns true if the key with code 'keyCode' is currently down
	  // Converts strings into key codes.
	  function isPressed(keyCode) {
	      if (typeof(keyCode)=='string') {
	        keyCode = code(keyCode);
	      }
	      return index(_downKeys, keyCode) != -1;
	  }

	  function getPressedKeyCodes() {
	      return _downKeys.slice(0);
	  }

	  function filter(event){
	    var tagName = (event.target || event.srcElement).tagName;
	    // ignore keypressed in any elements that support keyboard data input
	    return !(tagName == 'INPUT' || tagName == 'SELECT' || tagName == 'TEXTAREA');
	  }

	  // initialize key.<modifier> to false
	  for(k in _MODIFIERS) assignKey[k] = false;

	  // set current scope (default 'all')
	  function setScope(scope){ _scope = scope || 'all' };
	  function getScope(){ return _scope || 'all' };

	  // delete all handlers for a given scope
	  function deleteScope(scope){
	    var key, handlers, i;

	    for (key in _handlers) {
	      handlers = _handlers[key];
	      for (i = 0; i < handlers.length; ) {
	        if (handlers[i].scope === scope) handlers.splice(i, 1);
	        else i++;
	      }
	    }
	  };

	  // abstract key logic for assign and unassign
	  function getKeys(key) {
	    var keys;
	    key = key.replace(/\s/g, '');
	    keys = key.split(',');
	    if ((keys[keys.length - 1]) == '') {
	      keys[keys.length - 2] += ',';
	    }
	    return keys;
	  }

	  // abstract mods logic for assign and unassign
	  function getMods(key) {
	    var mods = key.slice(0, key.length - 1);
	    for (var mi = 0; mi < mods.length; mi++)
	    mods[mi] = _MODIFIERS[mods[mi]];
	    return mods;
	  }

	  // cross-browser events
	  function addEvent(object, event, method) {
	    if (object.addEventListener)
	      object.addEventListener(event, method, false);
	    else if(object.attachEvent)
	      object.attachEvent('on'+event, function(){ method(window.event) });
	  };

	  // set the handlers globally on document
	  addEvent(document, 'keydown', function(event) { dispatch(event) }); // Passing _scope to a callback to ensure it remains the same by execution. Fixes #48
	  addEvent(document, 'keyup', clearModifier);

	  // reset modifiers to false whenever the window is (re)focused.
	  addEvent(window, 'focus', resetModifiers);

	  // store previously defined key
	  var previousKey = global.key;

	  // restore previously defined key and return reference to our key object
	  function noConflict() {
	    var k = global.key;
	    global.key = previousKey;
	    return k;
	  }

	  // set window.key and window.key.set/get/deleteScope, and the default filter
	  global.key = assignKey;
	  global.key.setScope = setScope;
	  global.key.getScope = getScope;
	  global.key.deleteScope = deleteScope;
	  global.key.filter = filter;
	  global.key.isPressed = isPressed;
	  global.key.getPressedKeyCodes = getPressedKeyCodes;
	  global.key.noConflict = noConflict;
	  global.key.unbind = unbindKey;

	  if(true) module.exports = assignKey;

	})(this);


/***/ },
/* 10 */
/***/ function(module, exports) {

	module.exports = "/* jsTree default theme */\n.jstree-node,\n.jstree-children,\n.jstree-container-ul {\n  display: block;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  list-style-image: none;\n}\n.jstree-node {\n  white-space: nowrap;\n}\n.jstree-anchor {\n  display: inline-block;\n  color: black;\n  white-space: nowrap;\n  padding: 0 4px 0 1px;\n  margin: 0;\n  vertical-align: top;\n}\n.jstree-anchor:focus {\n  outline: 0;\n}\n.jstree-anchor,\n.jstree-anchor:link,\n.jstree-anchor:visited,\n.jstree-anchor:hover,\n.jstree-anchor:active {\n  text-decoration: none;\n  color: inherit;\n}\n.jstree-icon {\n  display: inline-block;\n  text-decoration: none;\n  margin: 0;\n  padding: 0;\n  vertical-align: top;\n  text-align: center;\n}\n.jstree-icon:empty {\n  display: inline-block;\n  text-decoration: none;\n  margin: 0;\n  padding: 0;\n  vertical-align: top;\n  text-align: center;\n}\n.jstree-ocl {\n  cursor: pointer;\n}\n.jstree-leaf > .jstree-ocl {\n  cursor: default;\n}\n.jstree .jstree-open > .jstree-children {\n  display: block;\n}\n.jstree .jstree-closed > .jstree-children,\n.jstree .jstree-leaf > .jstree-children {\n  display: none;\n}\n.jstree-anchor > .jstree-themeicon {\n  margin-right: 2px;\n}\n.jstree-no-icons .jstree-themeicon,\n.jstree-anchor > .jstree-themeicon-hidden {\n  display: none;\n}\n.jstree-hidden,\n.jstree-node.jstree-hidden {\n  display: none;\n}\n.jstree-rtl .jstree-anchor {\n  padding: 0 1px 0 4px;\n}\n.jstree-rtl .jstree-anchor > .jstree-themeicon {\n  margin-left: 2px;\n  margin-right: 0;\n}\n.jstree-rtl .jstree-node {\n  margin-left: 0;\n}\n.jstree-rtl .jstree-container-ul > .jstree-node {\n  margin-right: 0;\n}\n.jstree-wholerow-ul {\n  position: relative;\n  display: inline-block;\n  min-width: 100%;\n}\n.jstree-wholerow-ul .jstree-leaf > .jstree-ocl {\n  cursor: pointer;\n}\n.jstree-wholerow-ul .jstree-anchor,\n.jstree-wholerow-ul .jstree-icon {\n  position: relative;\n}\n.jstree-wholerow-ul .jstree-wholerow {\n  width: 100%;\n  cursor: pointer;\n  position: absolute;\n  left: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vakata-context {\n  display: none;\n}\n.vakata-context,\n.vakata-context ul {\n  margin: 0;\n  padding: 2px;\n  position: absolute;\n  background: #f5f5f5;\n  border: 1px solid #979797;\n  box-shadow: 2px 2px 2px #999999;\n}\n.vakata-context ul {\n  list-style: none;\n  left: 100%;\n  margin-top: -2.7em;\n  margin-left: -4px;\n}\n.vakata-context .vakata-context-right ul {\n  left: auto;\n  right: 100%;\n  margin-left: auto;\n  margin-right: -4px;\n}\n.vakata-context li {\n  list-style: none;\n}\n.vakata-context li > a {\n  display: block;\n  padding: 0 2em 0 2em;\n  text-decoration: none;\n  width: auto;\n  color: black;\n  white-space: nowrap;\n  line-height: 2.4em;\n  text-shadow: 1px 1px 0 white;\n  border-radius: 1px;\n}\n.vakata-context li > a:hover {\n  position: relative;\n  background-color: #e8eff7;\n  box-shadow: 0 0 2px #0a6aa1;\n}\n.vakata-context li > a.vakata-context-parent {\n  background-image: url(\"data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw==\");\n  background-position: right center;\n  background-repeat: no-repeat;\n}\n.vakata-context li > a:focus {\n  outline: 0;\n}\n.vakata-context .vakata-context-hover > a {\n  position: relative;\n  background-color: #e8eff7;\n  box-shadow: 0 0 2px #0a6aa1;\n}\n.vakata-context .vakata-context-separator > a,\n.vakata-context .vakata-context-separator > a:hover {\n  background: white;\n  border: 0;\n  border-top: 1px solid #e2e3e3;\n  height: 1px;\n  min-height: 1px;\n  max-height: 1px;\n  padding: 0;\n  margin: 0 0 0 2.4em;\n  border-left: 1px solid #e0e0e0;\n  text-shadow: 0 0 0 transparent;\n  box-shadow: 0 0 0 transparent;\n  border-radius: 0;\n}\n.vakata-context .vakata-contextmenu-disabled a,\n.vakata-context .vakata-contextmenu-disabled a:hover {\n  color: silver;\n  background-color: transparent;\n  border: 0;\n  box-shadow: 0 0 0;\n}\n.vakata-context li > a > i {\n  text-decoration: none;\n  display: inline-block;\n  width: 2.4em;\n  height: 2.4em;\n  background: transparent;\n  margin: 0 0 0 -2em;\n  vertical-align: top;\n  text-align: center;\n  line-height: 2.4em;\n}\n.vakata-context li > a > i:empty {\n  width: 2.4em;\n  line-height: 2.4em;\n}\n.vakata-context li > a .vakata-contextmenu-sep {\n  display: inline-block;\n  width: 1px;\n  height: 2.4em;\n  background: white;\n  margin: 0 0.5em 0 0;\n  border-left: 1px solid #e2e3e3;\n}\n.vakata-context .vakata-contextmenu-shortcut {\n  font-size: 0.8em;\n  color: silver;\n  opacity: 0.5;\n  display: none;\n}\n.vakata-context-rtl ul {\n  left: auto;\n  right: 100%;\n  margin-left: auto;\n  margin-right: -4px;\n}\n.vakata-context-rtl li > a.vakata-context-parent {\n  background-image: url(\"data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7\");\n  background-position: left center;\n  background-repeat: no-repeat;\n}\n.vakata-context-rtl .vakata-context-separator > a {\n  margin: 0 2.4em 0 0;\n  border-left: 0;\n  border-right: 1px solid #e2e3e3;\n}\n.vakata-context-rtl .vakata-context-left ul {\n  right: auto;\n  left: 100%;\n  margin-left: -4px;\n  margin-right: auto;\n}\n.vakata-context-rtl li > a > i {\n  margin: 0 -2em 0 0;\n}\n.vakata-context-rtl li > a .vakata-contextmenu-sep {\n  margin: 0 0 0 0.5em;\n  border-left-color: white;\n  background: #e2e3e3;\n}\n#jstree-marker {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: -5px 0 0 0;\n  padding: 0;\n  border-right: 0;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  border-left: 5px solid;\n  width: 0;\n  height: 0;\n  font-size: 0;\n  line-height: 0;\n}\n#jstree-dnd {\n  line-height: 16px;\n  margin: 0;\n  padding: 4px;\n}\n#jstree-dnd .jstree-icon,\n#jstree-dnd .jstree-copy {\n  display: inline-block;\n  text-decoration: none;\n  margin: 0 2px 0 0;\n  padding: 0;\n  width: 16px;\n  height: 16px;\n}\n#jstree-dnd .jstree-ok {\n  background: green;\n}\n#jstree-dnd .jstree-er {\n  background: red;\n}\n#jstree-dnd .jstree-copy {\n  margin: 0 2px 0 2px;\n}\n.jstree-default .jstree-node,\n.jstree-default .jstree-icon {\n  background-repeat: no-repeat;\n  background-color: transparent;\n}\n.jstree-default .jstree-anchor,\n.jstree-default .jstree-animated,\n.jstree-default .jstree-wholerow {\n  transition: background-color 0.15s, box-shadow 0.15s;\n}\n.jstree-default .jstree-hovered {\n  background: #e7f4f9;\n  border-radius: 2px;\n  box-shadow: inset 0 0 1px #cccccc;\n}\n.jstree-default .jstree-context {\n  background: #e7f4f9;\n  border-radius: 2px;\n  box-shadow: inset 0 0 1px #cccccc;\n}\n.jstree-default .jstree-clicked {\n  background: #beebff;\n  border-radius: 2px;\n  box-shadow: inset 0 0 1px #999999;\n}\n.jstree-default .jstree-no-icons .jstree-anchor > .jstree-themeicon {\n  display: none;\n}\n.jstree-default .jstree-disabled {\n  background: transparent;\n  color: #666666;\n}\n.jstree-default .jstree-disabled.jstree-hovered {\n  background: transparent;\n  box-shadow: none;\n}\n.jstree-default .jstree-disabled.jstree-clicked {\n  background: #efefef;\n}\n.jstree-default .jstree-disabled > .jstree-icon {\n  opacity: 0.8;\n  filter: url(\"data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\'><filter id=\\'jstree-grayscale\\'><feColorMatrix type=\\'matrix\\' values=\\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\\'/></filter></svg>#jstree-grayscale\");\n  /* Firefox 10+ */\n  filter: gray;\n  /* IE6-9 */\n  -webkit-filter: grayscale(100%);\n  /* Chrome 19+ & Safari 6+ */\n}\n.jstree-default .jstree-search {\n  font-style: italic;\n  color: #8b0000;\n  font-weight: bold;\n}\n.jstree-default .jstree-no-checkboxes .jstree-checkbox {\n  display: none !important;\n}\n.jstree-default.jstree-checkbox-no-clicked .jstree-clicked {\n  background: transparent;\n  box-shadow: none;\n}\n.jstree-default.jstree-checkbox-no-clicked .jstree-clicked.jstree-hovered {\n  background: #e7f4f9;\n}\n.jstree-default.jstree-checkbox-no-clicked > .jstree-wholerow-ul .jstree-wholerow-clicked {\n  background: transparent;\n}\n.jstree-default.jstree-checkbox-no-clicked > .jstree-wholerow-ul .jstree-wholerow-clicked.jstree-wholerow-hovered {\n  background: #e7f4f9;\n}\n.jstree-default > .jstree-striped {\n  min-width: 100%;\n  display: inline-block;\n  background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAMAAAB/qqA+AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMNAMM9s3UAAAAXSURBVHjajcEBAQAAAIKg/H/aCQZ70AUBjAATb6YPDgAAAABJRU5ErkJggg==\") left top repeat;\n}\n.jstree-default > .jstree-wholerow-ul .jstree-hovered,\n.jstree-default > .jstree-wholerow-ul .jstree-clicked {\n  background: transparent;\n  box-shadow: none;\n  border-radius: 0;\n}\n.jstree-default .jstree-wholerow {\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.jstree-default .jstree-wholerow-hovered {\n  background: #e7f4f9;\n}\n.jstree-default .jstree-wholerow-clicked {\n  background: #beebff;\n  background: -webkit-linear-gradient(top, #beebff 0%, #a8e4ff 100%);\n  background: linear-gradient(to bottom, #beebff 0%, #a8e4ff 100%);\n}\n.jstree-default .jstree-node {\n  min-height: 24px;\n  line-height: 24px;\n  margin-left: 24px;\n  min-width: 24px;\n}\n.jstree-default .jstree-anchor {\n  line-height: 24px;\n  height: 24px;\n}\n.jstree-default .jstree-icon {\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n.jstree-default .jstree-icon:empty {\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n.jstree-default.jstree-rtl .jstree-node {\n  margin-right: 24px;\n}\n.jstree-default .jstree-wholerow {\n  height: 24px;\n}\n.jstree-default .jstree-node,\n.jstree-default .jstree-icon {\n  background-image: url(\"32px.png\");\n}\n.jstree-default .jstree-node {\n  background-position: -292px -4px;\n  background-repeat: repeat-y;\n}\n.jstree-default .jstree-last {\n  background: transparent;\n}\n.jstree-default .jstree-open > .jstree-ocl {\n  background-position: -132px -4px;\n}\n.jstree-default .jstree-closed > .jstree-ocl {\n  background-position: -100px -4px;\n}\n.jstree-default .jstree-leaf > .jstree-ocl {\n  background-position: -68px -4px;\n}\n.jstree-default .jstree-themeicon {\n  background-position: -260px -4px;\n}\n.jstree-default > .jstree-no-dots .jstree-node,\n.jstree-default > .jstree-no-dots .jstree-leaf > .jstree-ocl {\n  background: transparent;\n}\n.jstree-default > .jstree-no-dots .jstree-open > .jstree-ocl {\n  background-position: -36px -4px;\n}\n.jstree-default > .jstree-no-dots .jstree-closed > .jstree-ocl {\n  background-position: -4px -4px;\n}\n.jstree-default .jstree-disabled {\n  background: transparent;\n}\n.jstree-default .jstree-disabled.jstree-hovered {\n  background: transparent;\n}\n.jstree-default .jstree-disabled.jstree-clicked {\n  background: #efefef;\n}\n.jstree-default .jstree-checkbox {\n  background-position: -164px -4px;\n}\n.jstree-default .jstree-checkbox:hover {\n  background-position: -164px -36px;\n}\n.jstree-default.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,\n.jstree-default .jstree-checked > .jstree-checkbox {\n  background-position: -228px -4px;\n}\n.jstree-default.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,\n.jstree-default .jstree-checked > .jstree-checkbox:hover {\n  background-position: -228px -36px;\n}\n.jstree-default .jstree-anchor > .jstree-undetermined {\n  background-position: -196px -4px;\n}\n.jstree-default .jstree-anchor > .jstree-undetermined:hover {\n  background-position: -196px -36px;\n}\n.jstree-default .jstree-checkbox-disabled {\n  opacity: 0.8;\n  filter: url(\"data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\'><filter id=\\'jstree-grayscale\\'><feColorMatrix type=\\'matrix\\' values=\\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\\'/></filter></svg>#jstree-grayscale\");\n  /* Firefox 10+ */\n  filter: gray;\n  /* IE6-9 */\n  -webkit-filter: grayscale(100%);\n  /* Chrome 19+ & Safari 6+ */\n}\n.jstree-default > .jstree-striped {\n  background-size: auto 48px;\n}\n.jstree-default.jstree-rtl .jstree-node {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==\");\n  background-position: 100% 1px;\n  background-repeat: repeat-y;\n}\n.jstree-default.jstree-rtl .jstree-last {\n  background: transparent;\n}\n.jstree-default.jstree-rtl .jstree-open > .jstree-ocl {\n  background-position: -132px -36px;\n}\n.jstree-default.jstree-rtl .jstree-closed > .jstree-ocl {\n  background-position: -100px -36px;\n}\n.jstree-default.jstree-rtl .jstree-leaf > .jstree-ocl {\n  background-position: -68px -36px;\n}\n.jstree-default.jstree-rtl > .jstree-no-dots .jstree-node,\n.jstree-default.jstree-rtl > .jstree-no-dots .jstree-leaf > .jstree-ocl {\n  background: transparent;\n}\n.jstree-default.jstree-rtl > .jstree-no-dots .jstree-open > .jstree-ocl {\n  background-position: -36px -36px;\n}\n.jstree-default.jstree-rtl > .jstree-no-dots .jstree-closed > .jstree-ocl {\n  background-position: -4px -36px;\n}\n.jstree-default .jstree-themeicon-custom {\n  background-color: transparent;\n  background-image: none;\n  background-position: 0 0;\n}\n.jstree-default > .jstree-container-ul .jstree-loading > .jstree-ocl {\n  background: url(\"throbber.gif\") center center no-repeat;\n}\n.jstree-default .jstree-file {\n  background: url(\"32px.png\") -100px -68px no-repeat;\n}\n.jstree-default .jstree-folder {\n  background: url(\"32px.png\") -260px -4px no-repeat;\n}\n.jstree-default > .jstree-container-ul > .jstree-node {\n  margin-left: 0;\n  margin-right: 0;\n}\n#jstree-dnd.jstree-default {\n  line-height: 24px;\n  padding: 0 4px;\n}\n#jstree-dnd.jstree-default .jstree-ok,\n#jstree-dnd.jstree-default .jstree-er {\n  background-image: url(\"32px.png\");\n  background-repeat: no-repeat;\n  background-color: transparent;\n}\n#jstree-dnd.jstree-default i {\n  background: transparent;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n#jstree-dnd.jstree-default .jstree-ok {\n  background-position: -4px -68px;\n}\n#jstree-dnd.jstree-default .jstree-er {\n  background-position: -36px -68px;\n}\n.jstree-default .jstree-ellipsis {\n  overflow: hidden;\n}\n.jstree-default .jstree-ellipsis .jstree-anchor {\n  width: calc(100% - 29px);\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.jstree-default .jstree-ellipsis.jstree-no-icons .jstree-anchor {\n  width: calc(100% - 5px);\n}\n.jstree-default.jstree-rtl .jstree-node {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==\");\n}\n.jstree-default.jstree-rtl .jstree-last {\n  background: transparent;\n}\n.jstree-default-small .jstree-node {\n  min-height: 18px;\n  line-height: 18px;\n  margin-left: 18px;\n  min-width: 18px;\n}\n.jstree-default-small .jstree-anchor {\n  line-height: 18px;\n  height: 18px;\n}\n.jstree-default-small .jstree-icon {\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n}\n.jstree-default-small .jstree-icon:empty {\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n}\n.jstree-default-small.jstree-rtl .jstree-node {\n  margin-right: 18px;\n}\n.jstree-default-small .jstree-wholerow {\n  height: 18px;\n}\n.jstree-default-small .jstree-node,\n.jstree-default-small .jstree-icon {\n  background-image: url(\"32px.png\");\n}\n.jstree-default-small .jstree-node {\n  background-position: -295px -7px;\n  background-repeat: repeat-y;\n}\n.jstree-default-small .jstree-last {\n  background: transparent;\n}\n.jstree-default-small .jstree-open > .jstree-ocl {\n  background-position: -135px -7px;\n}\n.jstree-default-small .jstree-closed > .jstree-ocl {\n  background-position: -103px -7px;\n}\n.jstree-default-small .jstree-leaf > .jstree-ocl {\n  background-position: -71px -7px;\n}\n.jstree-default-small .jstree-themeicon {\n  background-position: -263px -7px;\n}\n.jstree-default-small > .jstree-no-dots .jstree-node,\n.jstree-default-small > .jstree-no-dots .jstree-leaf > .jstree-ocl {\n  background: transparent;\n}\n.jstree-default-small > .jstree-no-dots .jstree-open > .jstree-ocl {\n  background-position: -39px -7px;\n}\n.jstree-default-small > .jstree-no-dots .jstree-closed > .jstree-ocl {\n  background-position: -7px -7px;\n}\n.jstree-default-small .jstree-disabled {\n  background: transparent;\n}\n.jstree-default-small .jstree-disabled.jstree-hovered {\n  background: transparent;\n}\n.jstree-default-small .jstree-disabled.jstree-clicked {\n  background: #efefef;\n}\n.jstree-default-small .jstree-checkbox {\n  background-position: -167px -7px;\n}\n.jstree-default-small .jstree-checkbox:hover {\n  background-position: -167px -39px;\n}\n.jstree-default-small.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,\n.jstree-default-small .jstree-checked > .jstree-checkbox {\n  background-position: -231px -7px;\n}\n.jstree-default-small.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,\n.jstree-default-small .jstree-checked > .jstree-checkbox:hover {\n  background-position: -231px -39px;\n}\n.jstree-default-small .jstree-anchor > .jstree-undetermined {\n  background-position: -199px -7px;\n}\n.jstree-default-small .jstree-anchor > .jstree-undetermined:hover {\n  background-position: -199px -39px;\n}\n.jstree-default-small .jstree-checkbox-disabled {\n  opacity: 0.8;\n  filter: url(\"data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\'><filter id=\\'jstree-grayscale\\'><feColorMatrix type=\\'matrix\\' values=\\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\\'/></filter></svg>#jstree-grayscale\");\n  /* Firefox 10+ */\n  filter: gray;\n  /* IE6-9 */\n  -webkit-filter: grayscale(100%);\n  /* Chrome 19+ & Safari 6+ */\n}\n.jstree-default-small > .jstree-striped {\n  background-size: auto 36px;\n}\n.jstree-default-small.jstree-rtl .jstree-node {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==\");\n  background-position: 100% 1px;\n  background-repeat: repeat-y;\n}\n.jstree-default-small.jstree-rtl .jstree-last {\n  background: transparent;\n}\n.jstree-default-small.jstree-rtl .jstree-open > .jstree-ocl {\n  background-position: -135px -39px;\n}\n.jstree-default-small.jstree-rtl .jstree-closed > .jstree-ocl {\n  background-position: -103px -39px;\n}\n.jstree-default-small.jstree-rtl .jstree-leaf > .jstree-ocl {\n  background-position: -71px -39px;\n}\n.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-node,\n.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-leaf > .jstree-ocl {\n  background: transparent;\n}\n.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-open > .jstree-ocl {\n  background-position: -39px -39px;\n}\n.jstree-default-small.jstree-rtl > .jstree-no-dots .jstree-closed > .jstree-ocl {\n  background-position: -7px -39px;\n}\n.jstree-default-small .jstree-themeicon-custom {\n  background-color: transparent;\n  background-image: none;\n  background-position: 0 0;\n}\n.jstree-default-small > .jstree-container-ul .jstree-loading > .jstree-ocl {\n  background: url(\"throbber.gif\") center center no-repeat;\n}\n.jstree-default-small .jstree-file {\n  background: url(\"32px.png\") -103px -71px no-repeat;\n}\n.jstree-default-small .jstree-folder {\n  background: url(\"32px.png\") -263px -7px no-repeat;\n}\n.jstree-default-small > .jstree-container-ul > .jstree-node {\n  margin-left: 0;\n  margin-right: 0;\n}\n#jstree-dnd.jstree-default-small {\n  line-height: 18px;\n  padding: 0 4px;\n}\n#jstree-dnd.jstree-default-small .jstree-ok,\n#jstree-dnd.jstree-default-small .jstree-er {\n  background-image: url(\"32px.png\");\n  background-repeat: no-repeat;\n  background-color: transparent;\n}\n#jstree-dnd.jstree-default-small i {\n  background: transparent;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n}\n#jstree-dnd.jstree-default-small .jstree-ok {\n  background-position: -7px -71px;\n}\n#jstree-dnd.jstree-default-small .jstree-er {\n  background-position: -39px -71px;\n}\n.jstree-default-small .jstree-ellipsis {\n  overflow: hidden;\n}\n.jstree-default-small .jstree-ellipsis .jstree-anchor {\n  width: calc(100% - 23px);\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.jstree-default-small .jstree-ellipsis.jstree-no-icons .jstree-anchor {\n  width: calc(100% - 5px);\n}\n.jstree-default-small.jstree-rtl .jstree-node {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAACAQMAAABv1h6PAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMHBgAAiABBI4gz9AAAAABJRU5ErkJggg==\");\n}\n.jstree-default-small.jstree-rtl .jstree-last {\n  background: transparent;\n}\n.jstree-default-large .jstree-node {\n  min-height: 32px;\n  line-height: 32px;\n  margin-left: 32px;\n  min-width: 32px;\n}\n.jstree-default-large .jstree-anchor {\n  line-height: 32px;\n  height: 32px;\n}\n.jstree-default-large .jstree-icon {\n  width: 32px;\n  height: 32px;\n  line-height: 32px;\n}\n.jstree-default-large .jstree-icon:empty {\n  width: 32px;\n  height: 32px;\n  line-height: 32px;\n}\n.jstree-default-large.jstree-rtl .jstree-node {\n  margin-right: 32px;\n}\n.jstree-default-large .jstree-wholerow {\n  height: 32px;\n}\n.jstree-default-large .jstree-node,\n.jstree-default-large .jstree-icon {\n  background-image: url(\"32px.png\");\n}\n.jstree-default-large .jstree-node {\n  background-position: -288px 0px;\n  background-repeat: repeat-y;\n}\n.jstree-default-large .jstree-last {\n  background: transparent;\n}\n.jstree-default-large .jstree-open > .jstree-ocl {\n  background-position: -128px 0px;\n}\n.jstree-default-large .jstree-closed > .jstree-ocl {\n  background-position: -96px 0px;\n}\n.jstree-default-large .jstree-leaf > .jstree-ocl {\n  background-position: -64px 0px;\n}\n.jstree-default-large .jstree-themeicon {\n  background-position: -256px 0px;\n}\n.jstree-default-large > .jstree-no-dots .jstree-node,\n.jstree-default-large > .jstree-no-dots .jstree-leaf > .jstree-ocl {\n  background: transparent;\n}\n.jstree-default-large > .jstree-no-dots .jstree-open > .jstree-ocl {\n  background-position: -32px 0px;\n}\n.jstree-default-large > .jstree-no-dots .jstree-closed > .jstree-ocl {\n  background-position: 0px 0px;\n}\n.jstree-default-large .jstree-disabled {\n  background: transparent;\n}\n.jstree-default-large .jstree-disabled.jstree-hovered {\n  background: transparent;\n}\n.jstree-default-large .jstree-disabled.jstree-clicked {\n  background: #efefef;\n}\n.jstree-default-large .jstree-checkbox {\n  background-position: -160px 0px;\n}\n.jstree-default-large .jstree-checkbox:hover {\n  background-position: -160px -32px;\n}\n.jstree-default-large.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,\n.jstree-default-large .jstree-checked > .jstree-checkbox {\n  background-position: -224px 0px;\n}\n.jstree-default-large.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,\n.jstree-default-large .jstree-checked > .jstree-checkbox:hover {\n  background-position: -224px -32px;\n}\n.jstree-default-large .jstree-anchor > .jstree-undetermined {\n  background-position: -192px 0px;\n}\n.jstree-default-large .jstree-anchor > .jstree-undetermined:hover {\n  background-position: -192px -32px;\n}\n.jstree-default-large .jstree-checkbox-disabled {\n  opacity: 0.8;\n  filter: url(\"data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\'><filter id=\\'jstree-grayscale\\'><feColorMatrix type=\\'matrix\\' values=\\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\\'/></filter></svg>#jstree-grayscale\");\n  /* Firefox 10+ */\n  filter: gray;\n  /* IE6-9 */\n  -webkit-filter: grayscale(100%);\n  /* Chrome 19+ & Safari 6+ */\n}\n.jstree-default-large > .jstree-striped {\n  background-size: auto 64px;\n}\n.jstree-default-large.jstree-rtl .jstree-node {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==\");\n  background-position: 100% 1px;\n  background-repeat: repeat-y;\n}\n.jstree-default-large.jstree-rtl .jstree-last {\n  background: transparent;\n}\n.jstree-default-large.jstree-rtl .jstree-open > .jstree-ocl {\n  background-position: -128px -32px;\n}\n.jstree-default-large.jstree-rtl .jstree-closed > .jstree-ocl {\n  background-position: -96px -32px;\n}\n.jstree-default-large.jstree-rtl .jstree-leaf > .jstree-ocl {\n  background-position: -64px -32px;\n}\n.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-node,\n.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-leaf > .jstree-ocl {\n  background: transparent;\n}\n.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-open > .jstree-ocl {\n  background-position: -32px -32px;\n}\n.jstree-default-large.jstree-rtl > .jstree-no-dots .jstree-closed > .jstree-ocl {\n  background-position: 0px -32px;\n}\n.jstree-default-large .jstree-themeicon-custom {\n  background-color: transparent;\n  background-image: none;\n  background-position: 0 0;\n}\n.jstree-default-large > .jstree-container-ul .jstree-loading > .jstree-ocl {\n  background: url(\"throbber.gif\") center center no-repeat;\n}\n.jstree-default-large .jstree-file {\n  background: url(\"32px.png\") -96px -64px no-repeat;\n}\n.jstree-default-large .jstree-folder {\n  background: url(\"32px.png\") -256px 0px no-repeat;\n}\n.jstree-default-large > .jstree-container-ul > .jstree-node {\n  margin-left: 0;\n  margin-right: 0;\n}\n#jstree-dnd.jstree-default-large {\n  line-height: 32px;\n  padding: 0 4px;\n}\n#jstree-dnd.jstree-default-large .jstree-ok,\n#jstree-dnd.jstree-default-large .jstree-er {\n  background-image: url(\"32px.png\");\n  background-repeat: no-repeat;\n  background-color: transparent;\n}\n#jstree-dnd.jstree-default-large i {\n  background: transparent;\n  width: 32px;\n  height: 32px;\n  line-height: 32px;\n}\n#jstree-dnd.jstree-default-large .jstree-ok {\n  background-position: 0px -64px;\n}\n#jstree-dnd.jstree-default-large .jstree-er {\n  background-position: -32px -64px;\n}\n.jstree-default-large .jstree-ellipsis {\n  overflow: hidden;\n}\n.jstree-default-large .jstree-ellipsis .jstree-anchor {\n  width: calc(100% - 37px);\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.jstree-default-large .jstree-ellipsis.jstree-no-icons .jstree-anchor {\n  width: calc(100% - 5px);\n}\n.jstree-default-large.jstree-rtl .jstree-node {\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACAQMAAAAD0EyKAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjgIIGBgABCgCBvVLXcAAAAABJRU5ErkJggg==\");\n}\n.jstree-default-large.jstree-rtl .jstree-last {\n  background: transparent;\n}\n@media (max-width: 768px) {\n  #jstree-dnd.jstree-dnd-responsive {\n    line-height: 40px;\n    font-weight: bold;\n    font-size: 1.1em;\n    text-shadow: 1px 1px white;\n  }\n  #jstree-dnd.jstree-dnd-responsive > i {\n    background: transparent;\n    width: 40px;\n    height: 40px;\n  }\n  #jstree-dnd.jstree-dnd-responsive > .jstree-ok {\n    background-image: url(\"40px.png\");\n    background-position: 0 -200px;\n    background-size: 120px 240px;\n  }\n  #jstree-dnd.jstree-dnd-responsive > .jstree-er {\n    background-image: url(\"40px.png\");\n    background-position: -40px -200px;\n    background-size: 120px 240px;\n  }\n  #jstree-marker.jstree-dnd-responsive {\n    border-left-width: 10px;\n    border-top-width: 10px;\n    border-bottom-width: 10px;\n    margin-top: -10px;\n  }\n}\n@media (max-width: 768px) {\n  .jstree-default-responsive {\n    /*\n\t.jstree-open > .jstree-ocl,\n\t.jstree-closed > .jstree-ocl { border-radius:20px; background-color:white; }\n\t*/\n  }\n  .jstree-default-responsive .jstree-icon {\n    background-image: url(\"40px.png\");\n  }\n  .jstree-default-responsive .jstree-node,\n  .jstree-default-responsive .jstree-leaf > .jstree-ocl {\n    background: transparent;\n  }\n  .jstree-default-responsive .jstree-node {\n    min-height: 40px;\n    line-height: 40px;\n    margin-left: 40px;\n    min-width: 40px;\n    white-space: nowrap;\n  }\n  .jstree-default-responsive .jstree-anchor {\n    line-height: 40px;\n    height: 40px;\n  }\n  .jstree-default-responsive .jstree-icon,\n  .jstree-default-responsive .jstree-icon:empty {\n    width: 40px;\n    height: 40px;\n    line-height: 40px;\n  }\n  .jstree-default-responsive > .jstree-container-ul > .jstree-node {\n    margin-left: 0;\n  }\n  .jstree-default-responsive.jstree-rtl .jstree-node {\n    margin-left: 0;\n    margin-right: 40px;\n    background: transparent;\n  }\n  .jstree-default-responsive.jstree-rtl .jstree-container-ul > .jstree-node {\n    margin-right: 0;\n  }\n  .jstree-default-responsive .jstree-ocl,\n  .jstree-default-responsive .jstree-themeicon,\n  .jstree-default-responsive .jstree-checkbox {\n    background-size: 120px 240px;\n  }\n  .jstree-default-responsive .jstree-leaf > .jstree-ocl,\n  .jstree-default-responsive.jstree-rtl .jstree-leaf > .jstree-ocl {\n    background: transparent;\n  }\n  .jstree-default-responsive .jstree-open > .jstree-ocl {\n    background-position: 0 0px !important;\n  }\n  .jstree-default-responsive .jstree-closed > .jstree-ocl {\n    background-position: 0 -40px !important;\n  }\n  .jstree-default-responsive.jstree-rtl .jstree-closed > .jstree-ocl {\n    background-position: -40px 0px !important;\n  }\n  .jstree-default-responsive .jstree-themeicon {\n    background-position: -40px -40px;\n  }\n  .jstree-default-responsive .jstree-checkbox,\n  .jstree-default-responsive .jstree-checkbox:hover {\n    background-position: -40px -80px;\n  }\n  .jstree-default-responsive.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox,\n  .jstree-default-responsive.jstree-checkbox-selection .jstree-clicked > .jstree-checkbox:hover,\n  .jstree-default-responsive .jstree-checked > .jstree-checkbox,\n  .jstree-default-responsive .jstree-checked > .jstree-checkbox:hover {\n    background-position: 0 -80px;\n  }\n  .jstree-default-responsive .jstree-anchor > .jstree-undetermined,\n  .jstree-default-responsive .jstree-anchor > .jstree-undetermined:hover {\n    background-position: 0 -120px;\n  }\n  .jstree-default-responsive .jstree-anchor {\n    font-weight: bold;\n    font-size: 1.1em;\n    text-shadow: 1px 1px white;\n  }\n  .jstree-default-responsive > .jstree-striped {\n    background: transparent;\n  }\n  .jstree-default-responsive .jstree-wholerow {\n    border-top: 1px solid rgba(255, 255, 255, 0.7);\n    border-bottom: 1px solid rgba(64, 64, 64, 0.2);\n    background: #ebebeb;\n    height: 40px;\n  }\n  .jstree-default-responsive .jstree-wholerow-hovered {\n    background: #e7f4f9;\n  }\n  .jstree-default-responsive .jstree-wholerow-clicked {\n    background: #beebff;\n  }\n  .jstree-default-responsive .jstree-children .jstree-last > .jstree-wholerow {\n    box-shadow: inset 0 -6px 3px -5px #666666;\n  }\n  .jstree-default-responsive .jstree-children .jstree-open > .jstree-wholerow {\n    box-shadow: inset 0 6px 3px -5px #666666;\n    border-top: 0;\n  }\n  .jstree-default-responsive .jstree-children .jstree-open + .jstree-open {\n    box-shadow: none;\n  }\n  .jstree-default-responsive .jstree-node,\n  .jstree-default-responsive .jstree-icon,\n  .jstree-default-responsive .jstree-node > .jstree-ocl,\n  .jstree-default-responsive .jstree-themeicon,\n  .jstree-default-responsive .jstree-checkbox {\n    background-image: url(\"40px.png\");\n    background-size: 120px 240px;\n  }\n  .jstree-default-responsive .jstree-node {\n    background-position: -80px 0;\n    background-repeat: repeat-y;\n  }\n  .jstree-default-responsive .jstree-last {\n    background: transparent;\n  }\n  .jstree-default-responsive .jstree-leaf > .jstree-ocl {\n    background-position: -40px -120px;\n  }\n  .jstree-default-responsive .jstree-last > .jstree-ocl {\n    background-position: -40px -160px;\n  }\n  .jstree-default-responsive .jstree-themeicon-custom {\n    background-color: transparent;\n    background-image: none;\n    background-position: 0 0;\n  }\n  .jstree-default-responsive .jstree-file {\n    background: url(\"40px.png\") 0 -160px no-repeat;\n    background-size: 120px 240px;\n  }\n  .jstree-default-responsive .jstree-folder {\n    background: url(\"40px.png\") -40px -40px no-repeat;\n    background-size: 120px 240px;\n  }\n  .jstree-default-responsive > .jstree-container-ul > .jstree-node {\n    margin-left: 0;\n    margin-right: 0;\n  }\n}\n"

/***/ },
/* 11 */
/***/ function(module, exports) {

	module.exports = "/*\n*\tMatterTools.Inspector\n*/\n\n.ins-container,\n.jstree {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ins-cursor-move canvas {\n  cursor: move !important;\n}\n\n.ins-cursor-rotate canvas {\n  cursor: ew-resize !important;\n}\n\n.ins-cursor-scale canvas {\n  cursor: nwse-resize !important;\n}\n\n.ins-container {\n  position: fixed;\n  overflow: auto;\n  overflow-x: hidden;\n  z-index: 10;\n  width: 245px;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  background: #1c1c25;\n  padding: 0;\n  font-family: Arial;\n  font-size: 12px;\n  color: #aaa;\n  box-shadow: 0 0 30px rgba(0,0,0,0.2);\n}\n\nbody .ins-container::-webkit-scrollbar {\n  background: #1c1c25;\n  width: 12px;\n}\n\nbody .ins-container::-webkit-scrollbar-thumb {\n  background: transparent;\n  width: 5px;\n  border-left: 5px solid transparent;\n  border-right: 6px solid #2a2a31;\n  border-radius: 0;\n}\n\n@media only screen and (max-width : 1500px) {\n  .ins-container {\n    transform: translate(-230px, 0);\n  }\n\n  .ins-container:hover {\n    transform: none;\n  }\n\n  .ins-container {\n    -webkit-transition: all 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415); \n       -moz-transition: all 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415); \n       -o-transition: all 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        transition: all 500ms cubic-bezier(0.965, 0.025, 0.735, 0.415);\n\n    -webkit-transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415); \n       -moz-transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415); \n       -o-transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415); \n        transition-timing-function: cubic-bezier(0.965, 0.025, 0.735, 0.415);\n\n    transition-delay: 3s;\n    -webkit-transition-delay: 3s;\n  }\n\n  .ins-container:hover {\n    -webkit-transition: all 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835); \n       -moz-transition: all 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835); \n       -o-transition: all 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        transition: all 500ms cubic-bezier(0.095, 0.665, 0.400, 0.835);\n\n    -webkit-transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835); \n       -moz-transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835); \n       -o-transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835); \n        transition-timing-function: cubic-bezier(0.095, 0.665, 0.400, 0.835);\n\n    transition-delay: 0;\n    -webkit-transition-delay: 0;\n  }\n}\n\n.ins-add-button.ins-button {\n  width: auto;\n  height: auto;\n  padding: 2px 5px;\n  margin: 4px 0 0 0;\n  right: 0px;\n  min-width: 0;\n  position: absolute;\n  z-index: 100;\n}\n\n.ins-search-box {\n  margin: 20px 0px 16px 13px;\n  border: 0;\n  padding: 7px 8px;\n  font-size: 12px;\n  width: 100%;\n  box-sizing: border-box;\n  border-radius: 3px;\n  background: #111117;\n  color: #919691;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\n.ins-search-box:focus {\n  background: #15151d;\n  border: 0;\n  outline: 0;\n}\n\n.ins-search-box::-webkit-search-cancel-button {\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  height: 15px;\n  width: 8px;\n  cursor: pointer;\n}\n\n.ins-search-box::-webkit-search-cancel-button:before {\n  height: 10px;\n  width: 10px;\n  content: 'x';\n  font-family: Arial;\n  line-height: 0;\n  font-size: 13px;\n  color: #999;\n  font-weight: bold;\n  cursor: pointer;\n}\n\n.ins-search-box::-webkit-input-placeholder {\n  color: #777;\n}\n\n.ins-search-box:-moz-placeholder {\n  color: #777;\n}\n\n.ins-search-box::-moz-placeholder {\n  color: #777;\n}\n\n.ins-search-box:-ms-input-placeholder {  \n  color: #777;\n}\n\n.ins-world-tree {\n\n}\n\n.ins-control-group {\n  display: block;\n  clear: both;\n  overflow: hidden;\n  padding: 14px 20px 12px 20px;\n  background: #0d0f1b;\n  border-bottom: 1px solid #29292d;\n}\n\n.ins-button {\n  display: block;\n  float: left;\n  font-size: 11px;\n  line-height: 1;\n  padding: 10px 11px;\n  min-width: 49px;\n  text-align: center;\n  background: #0d0f1b;\n  border: 0;\n  color: #aaa;\n  border-radius: 2px;\n  box-sizing: border-box;\n  outline: none;\n  margin: 0;\n}\n\n.ins-button:hover {\n  background: #212a3a;\n}\n\n.ins-button:active {\n  transform: translateY(2px);\n  background: #212a3a;\n}\n\n.ins-button::-moz-focus-inner {\n  padding: 0;\n  border: 0;\n}\n\n.jstree-default .jstree-search {\n  font-style: italic;\n  color: #aaa;\n  font-weight: normal;\n}\n\n.jstree-default .jstree-wholerow-hovered,\n.jstree-default .jstree-hovered {\n  background: transparent;\n  border-radius: 0;\n  box-shadow: none;\n}\n\n.jstree-default .jstree-wholerow {\n  height: 26px;\n}\n\n.jstree-default .jstree-wholerow-clicked,\n.jstree-default .jstree-clicked {\n  background: transparent;\n  border-radius: 0;\n  box-shadow: none;\n  transition: none;\n}\n\n.jstree-default .jstree-leaf .jstree-clicked {\n  color: #bbb !important;\n\n  -webkit-transition: color 100ms linear; \n     -moz-transition: color 100ms linear; \n     -o-transition: color 100ms linear; \n      transition: color 100ms linear; \n}\n\n.jstree-default .jstree-anchor {\n  line-height: 27px;\n}\n\n.jstree-default .jstree-container-ul> .jstree-node > .jstree-anchor:before,\n.jstree-default .jstree-open > .jstree-children > .jstree-node > .jstree-anchor:before {\n  content: '';\n  display: block;\n  position: absolute;\n  left: 0;\n  right: 1px;\n  height: 26px;\n  background: transparent;\n  border-radius: 0;\n  box-shadow: none;\n  border-right: none;\n  pointer-events: none;\n  background: rgba(0,0,0,0);\n\n  -webkit-transition: background 100ms linear; \n     -moz-transition: background 100ms linear; \n     -o-transition: background 100ms linear; \n      transition: background 100ms linear; \n}\n\n.jstree-default .jstree-anchor.jstree-clicked:before {\n  background: rgba(58, 63, 88, 0.35) !important;\n\n  -webkit-transition: background 100ms linear; \n     -moz-transition: background 100ms linear; \n     -o-transition: background 100ms linear; \n      transition: background 100ms linear; \n\n  pointer-events: none;\n}\n\n.jstree-default .jstree-node,\n.jstree-default .jstree-leaf .jstree-ocl,\n.jstree-default .jstree-icon {\n  background: transparent;\n}\n\n.jstree-default .jstree-node {\n  margin-left: 10px;\n}\n\n.jstree-default .jstree-icon {\n  position: relative;\n}\n\n.jstree-default .jstree-icon:before {\n  display: block;\n  pointer-events: none;\n  color: #d6d6d6;\n  font-style: normal;\n  font-size: 11px;\n  position: absolute;\n  top: 0px;\n  left: 10px;\n}\n\n.jstree-default .jstree-open > .jstree-icon:before {\n  content: '‚ñæ';\n  transform: rotate(180deg);\n  top: 2px;\n}\n\n.jstree-default .jstree-closed > .jstree-icon:before {\n  content: '‚ñæ';\n}\n\n.jstree-leaf .jstree-icon:before {\n  display: none;\n}\n\n.jstree-default .jstree-open .jstree-ocl {\n  background-position: -38px -1px;\n}\n\n.jstree-default .jstree-closed .jstree-ocl {\n  background-position: -4px -2px;\n}\n\n.jstree-anchor {\n  padding: 1px 0;\n  transition: none;\n}\n\n.jstree-anchor .jstree-icon {\n  display: none;\n}\n\n.jstree-node-type-bodies > .jstree-anchor,\n.jstree-node-type-constraints > .jstree-anchor,\n.jstree-node-type-composites > .jstree-anchor {\n  color: #888;\n}\n\n.ins-container *::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n\n.ins-container *::-webkit-scrollbar-thumb:vertical {\n  border-left: 3px solid #1c1c25;\n  background: #1c1d2f;\n  width: 10px;\n}\n\n.ins-container *::-webkit-scrollbar-thumb:horizontal {\n  border-top: 3px solid #1c1c25;\n  background: #1c1d2f;\n  height: 10px;\n}\n\n.ins-container *::-webkit-scrollbar-track,\n.ins-container *::-webkit-scrollbar-corner {\n  background: transparent;\n}\n\n#vakata-dnd {\n  font-family: Arial;\n  font-size: 12px;\n  color: #aaa;\n}"

/***/ }
/******/ ])
});
;
--></script>
<script
  class="download_content"
  name="main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486461012122"
  
  
  type="hack"
><!--
feeles.openReadme('README.md');

--></script>
<script
  class="download_content"
  name="manipulation/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486428774987"
  
  
  type="hack"
><!--
# „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁõ¥Êé•Êìç‰Ωú„Åô„Çã

`Body` „Çí‰Ωø„Åà„Å∞„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ‰ΩçÁΩÆ„ÇÑÈÄüÂ∫¶„Çí  
Áõ¥Êé•Êìç‰Ωú„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çà

ÈùôÊ≠¢„Åó„Å¶„ÅÑ„ÇãÔºà`isStatic`ÔºâÁâ©‰Ωì„ÇíÂãï„Åã„Åó„Åü„ÅÑ„Å®„Åç„ÇÇ„ÄÅ  
„Åì„ÅÆÊñπÊ≥ï„Åå‰Ωø„Åà„Çã„Çà


## ![ÊîπÈÄ†„Åô„Çã](manipulation/main.js)


### Body.setPosition(`body`, { x: `x`, y: `y` })
ÊåáÂÆö„Åó„Åü‰ΩçÁΩÆ„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁßªÂãï„Åô„Çã

„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
body | Êìç‰Ωú„Åó„Åü„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà |  |  |  
x | Âãï„Åã„Åó„Åü„ÅÑ‰ΩçÁΩÆÔºàÊ®™Ôºâ | px | 0 | 800
y | Âãï„Åã„Åó„Åü„ÅÑ‰ΩçÁΩÆÔºàÁ∏¶Ôºâ | px | 0 | 600 

### Body.setVelocity(`body`, { x: `x`, y: `y` })
ÊåáÂÆö„Åó„ÅüÈÄüÂ∫¶„Åß„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁßªÂãï„Åï„Åõ„Çã

„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
body | Êìç‰Ωú„Åó„Åü„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà |  |  |  
x | ÈÄüÂ∫¶ÔºàÂè≥Âêë„ÅçÔºâ | *px / s* | -Infinity | Infinity
y | ÈÄüÂ∫¶Ôºà‰∏ãÂêë„ÅçÔºâ | *px / s* | -Infinity | Infinity 

### Body.setAngle(`body`, `angle`)
ÊåáÂÆö„Åó„ÅüËßíÂ∫¶„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÂõûËª¢„Åô„Çã

„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
body | Êìç‰Ωú„Åó„Åü„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà |  |  |  
angle | ËßíÂ∫¶ | *rad* | -Math.PI | Math.PI

### Body.setAngularVelocity(`body`, `angularVelocity`)
ÊåáÂÆö„Åó„ÅüËßíÈÄüÂ∫¶„Åß„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÂõûËª¢„Åï„Åõ„Çã

„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
body | Êìç‰Ωú„Åó„Åü„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà |  |  |  
angularVelocity | ËßíÈÄüÂ∫¶ | *rad / s* | -Infinity | Infinity 


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="manipulation/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁõ¥Êé•Êìç‰Ωú„Åô„Çã</title>
		<link rel="stylesheet" href="style.css" />
		<script src="manipulation/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="manipulation/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;9f01f3662273b66a5eb4841f8a5c0925&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Body,
	Events,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAxes = true;
render.options.showCollisions = true;
render.options.showConvexHulls = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// Â∑¶„ÅßÈùôÊ≠¢„Åó„Å¶„ÅÑ„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const bodyA = Bodies.rectangle(100, 200, 50, 50, {
	isStatic: true
});
// ÂõõËßí„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÔºàÂ∑¶„Åã„ÇâÈ†ÜÔºâ
const bodyB = Bodies.rectangle(200, 200, 50, 50);
const bodyC = Bodies.rectangle(300, 200, 50, 50);
const bodyD = Bodies.rectangle(400, 200, 50, 50);
const bodyE = Bodies.rectangle(550, 200, 50, 50);
const bodyF = Bodies.rectangle(700, 200, 50, 50);
// Âßã„Åæ„Å£„Å¶„Åô„ÅêÈùôÊ≠¢„Åô„ÇãÂÜÜ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const bodyG = Bodies.circle(400, 100, 25);
// ÂçÅÂ≠ó„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const partA = Bodies.rectangle(600, 200, 120, 50);
const partB = Bodies.rectangle(660, 200, 50, 190);
const compound = Body.create({
	parts: [partA, partB],
	isStatic: true
});

World.add(world, [bodyA, bodyB, bodyC, bodyD, bodyE, bodyF, bodyG, compound]);

World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// beforeUpdate „Åî„Å®„Å´ 1 „Åö„Å§Â¢ó„Åà„ÇãÂ§âÊï∞
let counter = 0;

Events.on(engine, 'beforeUpdate', (event) => {
	// ÂÆüË°å‰∏≠Â∏∏„Å´ÊØé„Éï„É¨„Éº„É†„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

	// beforeUpdate „Åî„Å®„Å´ 1 „Åö„Å§Â¢ó„Åà„ÇãÂ§âÊï∞
	counter += 1;
	// Âßã„Åæ„Å£„Å¶„Åã„Çâ„ÅÆÁµåÈÅéÊôÇÈñìÔºàÁßíÔºâ
	const time = event.timestamp / 1000;

	if (time > 2) {
		// ÔºíÁßí„Åü„Å£„Åü„Çâ„Åì„Åì„Å´ÂÖ•„Çã
		if (!bodyG.isStatic) {
			Body.setStatic(bodyG, true);
		}

	}

	// ÈùôÊ≠¢„Åó„Å¶„ÅÑ„Çã bodyA „ÅÆ‰ΩçÁΩÆ„ÇíÁõ¥Êé•Â§âÊõ¥„Åô„Çã
	const py = 300 + 100 * Math.sin(time * 2);
	Body.setVelocity(bodyA, {
		x: 0,
		y: py - bodyA.position.y
	});
	Body.setPosition(bodyA, {
		x: 100,
		y: py
	});

	// ÂçÅÂ≠ó„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÊåØ„ÇäÂ≠ê„ÅÆ„Çà„ÅÜ„Å´Âãï„Åã„Åô
	Body.setVelocity(compound, {
		x: 0,
		y: py - compound.position.y
	});
	Body.setAngularVelocity(compound, 0.02);
	Body.setPosition(compound, {
		x: 600,
		y: py
	});
	// ÂçÅÂ≠ó„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÂõûËª¢„Åï„Åõ„Çã
	Body.rotate(compound, 0.02);

	if (counter % 100 === 0) {
		// counter „Åå 100 „ÅÆÂÄçÊï∞„ÅÆ„Å®„Åç„Å†„Åë„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

		// bodyB „Çí„Ç∏„É£„É≥„Éó„Åï„Åõ„Çã
		Body.setVelocity(bodyB, {
			x: 0,
			y: -10
		});
		// bodyC „Çí„Éä„Éä„É°„Å´„Åô„Çã
		Body.setAngle(bodyC, -Math.PI * 0.26);
		// bodyD „ÇíÂõûËª¢„Åï„Åõ„Çã
		Body.setAngularVelocity(bodyD, 0.2);

	}
});

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('manipulation/README.md');

--></script>
<script
  class="download_content"
  name="matter.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748180,&quot;hash&quot;:&quot;64df4fc4da3b3fb443b2930f455380d2&quot;}]"
  data-last-modified="0"
  
  no-babel
  type="hack"
><!--
/**
* matter-js 0.11.1-alpha by @liabru 2017-01-26
* http://brm.io/matter-js/
* License MIT
*/

/**
 * The MIT License (MIT)
 * 
 * Copyright (c) 2014 Liam Brummitt
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Matter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
/**
* The `Matter.Body` module contains methods for creating and manipulating body models.
* A `Matter.Body` is a rigid body that can be simulated by a `Matter.Engine`.
* Factories for commonly used body configurations (such as rectangles, circles and other polygons) can be found in the module `Matter.Bodies`.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).

* @class Body
*/

var Body = {};

module.exports = Body;

var Vertices = _dereq_('../geometry/Vertices');
var Vector = _dereq_('../geometry/Vector');
var Sleeping = _dereq_('../core/Sleeping');
var Render = _dereq_('../render/Render');
var Common = _dereq_('../core/Common');
var Bounds = _dereq_('../geometry/Bounds');
var Axes = _dereq_('../geometry/Axes');

(function() {

    Body._inertiaScale = 4;
    Body._nextCollidingGroupId = 1;
    Body._nextNonCollidingGroupId = -1;
    Body._nextCategory = 0x0001;

    /**
     * Creates a new rigid body model. The options parameter is an object that specifies any properties you wish to override the defaults.
     * All properties have default values, and many are pre-calculated automatically based on other properties.
     * Vertices must be specified in clockwise order.
     * See the properties section below for detailed information on what you can pass via the `options` object.
     * @method create
     * @param {} options
     * @return {body} body
     */
    Body.create = function(options) {
        var defaults = {
            id: Common.nextId(),
            type: 'body',
            label: 'Body',
            parts: [],
            plugin: {},
            angle: 0,
            vertices: Vertices.fromPath('L 0 0 L 40 0 L 40 40 L 0 40'),
            position: { x: 0, y: 0 },
            force: { x: 0, y: 0 },
            torque: 0,
            positionImpulse: { x: 0, y: 0 },
            constraintImpulse: { x: 0, y: 0, angle: 0 },
            totalContacts: 0,
            speed: 0,
            angularSpeed: 0,
            velocity: { x: 0, y: 0 },
            angularVelocity: 0,
            isSensor: false,
            isStatic: false,
            isSleeping: false,
            motion: 0,
            sleepThreshold: 60,
            density: 0.001,
            restitution: 0,
            friction: 0.1,
            frictionStatic: 0.5,
            frictionAir: 0.01,
            collisionFilter: {
                category: 0x0001,
                mask: 0xFFFFFFFF,
                group: 0
            },
            slop: 0.05,
            timeScale: 1,
            render: {
                visible: true,
                opacity: 1,
                sprite: {
                    xScale: 1,
                    yScale: 1,
                    xOffset: 0,
                    yOffset: 0
                },
                lineWidth: 0
            }
        };

        var body = Common.extend(defaults, options);

        _initProperties(body, options);

        return body;
    };

    /**
     * Returns the next unique group index for which bodies will collide.
     * If `isNonColliding` is `true`, returns the next unique group index for which bodies will _not_ collide.
     * See `body.collisionFilter` for more information.
     * @method nextGroup
     * @param {bool} [isNonColliding=false]
     * @return {Number} Unique group index
     */
    Body.nextGroup = function(isNonColliding) {
        if (isNonColliding)
            return Body._nextNonCollidingGroupId--;

        return Body._nextCollidingGroupId++;
    };

    /**
     * Returns the next unique category bitfield (starting after the initial default category `0x0001`).
     * There are 32 available. See `body.collisionFilter` for more information.
     * @method nextCategory
     * @return {Number} Unique category bitfield
     */
    Body.nextCategory = function() {
        Body._nextCategory = Body._nextCategory << 1;
        return Body._nextCategory;
    };

    /**
     * Initialises body properties.
     * @method _initProperties
     * @private
     * @param {body} body
     * @param {} [options]
     */
    var _initProperties = function(body, options) {
        options = options || {};

        // init required properties (order is important)
        Body.set(body, {
            bounds: body.bounds || Bounds.create(body.vertices),
            positionPrev: body.positionPrev || Vector.clone(body.position),
            anglePrev: body.anglePrev || body.angle,
            vertices: body.vertices,
            parts: body.parts || [body],
            isStatic: body.isStatic,
            isSleeping: body.isSleeping,
            parent: body.parent || body
        });

        Vertices.rotate(body.vertices, body.angle, body.position);
        Axes.rotate(body.axes, body.angle);
        Bounds.update(body.bounds, body.vertices, body.velocity);

        // allow options to override the automatically calculated properties
        Body.set(body, {
            axes: options.axes || body.axes,
            area: options.area || body.area,
            mass: options.mass || body.mass,
            inertia: options.inertia || body.inertia
        });

        // render properties
        var defaultFillStyle = (body.isStatic ? '#2e2b44' : Common.choose(['#006BA6', '#0496FF', '#FFBC42', '#D81159', '#8F2D56'])),
            defaultStrokeStyle = Common.shadeColor(defaultFillStyle, -20);
        body.render.fillStyle = body.render.fillStyle || defaultFillStyle;
        body.render.strokeStyle = body.render.strokeStyle || defaultStrokeStyle;
        body.render.sprite.xOffset += -(body.bounds.min.x - body.position.x) / (body.bounds.max.x - body.bounds.min.x);
        body.render.sprite.yOffset += -(body.bounds.min.y - body.position.y) / (body.bounds.max.y - body.bounds.min.y);
    };

    /**
     * Given a property and a value (or map of), sets the property(s) on the body, using the appropriate setter functions if they exist.
     * Prefer to use the actual setter functions in performance critical situations.
     * @method set
     * @param {body} body
     * @param {} settings A property name (or map of properties and values) to set on the body.
     * @param {} value The value to set if `settings` is a single property name.
     */
    Body.set = function(body, settings, value) {
        var property;

        if (typeof settings === 'string') {
            property = settings;
            settings = {};
            settings[property] = value;
        }

        for (property in settings) {
            value = settings[property];

            if (!settings.hasOwnProperty(property))
                continue;

            switch (property) {

            case 'isStatic':
                Body.setStatic(body, value);
                break;
            case 'isSleeping':
                Sleeping.set(body, value);
                break;
            case 'mass':
                Body.setMass(body, value);
                break;
            case 'density':
                Body.setDensity(body, value);
                break;
            case 'inertia':
                Body.setInertia(body, value);
                break;
            case 'vertices':
                Body.setVertices(body, value);
                break;
            case 'position':
                Body.setPosition(body, value);
                break;
            case 'angle':
                Body.setAngle(body, value);
                break;
            case 'velocity':
                Body.setVelocity(body, value);
                break;
            case 'angularVelocity':
                Body.setAngularVelocity(body, value);
                break;
            case 'parts':
                Body.setParts(body, value);
                break;
            default:
                body[property] = value;

            }
        }
    };

    /**
     * Sets the body as static, including isStatic flag and setting mass and inertia to Infinity.
     * @method setStatic
     * @param {body} body
     * @param {bool} isStatic
     */
    Body.setStatic = function(body, isStatic) {
        for (var i = 0; i < body.parts.length; i++) {
            var part = body.parts[i];
            part.isStatic = isStatic;

            if (isStatic) {
                part._original = {
                    restitution: part.restitution,
                    friction: part.friction,
                    mass: part.mass,
                    inertia: part.inertia,
                    density: part.density,
                    inverseMass: part.inverseMass,
                    inverseInertia: part.inverseInertia
                };

                part.restitution = 0;
                part.friction = 1;
                part.mass = part.inertia = part.density = Infinity;
                part.inverseMass = part.inverseInertia = 0;

                part.positionPrev.x = part.position.x;
                part.positionPrev.y = part.position.y;
                part.anglePrev = part.angle;
                part.angularVelocity = 0;
                part.speed = 0;
                part.angularSpeed = 0;
                part.motion = 0;
            } else if (part._original) {
                part.restitution = part._original.restitution;
                part.friction = part._original.friction;
                part.mass = part._original.mass;
                part.inertia = part._original.inertia;
                part.density = part._original.density;
                part.inverseMass = part._original.inverseMass;
                part.inverseInertia = part._original.inverseInertia;

                delete part._original;
            }
        }
    };

    /**
     * Sets the mass of the body. Inverse mass and density are automatically updated to reflect the change.
     * @method setMass
     * @param {body} body
     * @param {number} mass
     */
    Body.setMass = function(body, mass) {
        body.mass = mass;
        body.inverseMass = 1 / body.mass;
        body.density = body.mass / body.area;
    };

    /**
     * Sets the density of the body. Mass is automatically updated to reflect the change.
     * @method setDensity
     * @param {body} body
     * @param {number} density
     */
    Body.setDensity = function(body, density) {
        Body.setMass(body, density * body.area);
        body.density = density;
    };

    /**
     * Sets the moment of inertia (i.e. second moment of area) of the body of the body. 
     * Inverse inertia is automatically updated to reflect the change. Mass is not changed.
     * @method setInertia
     * @param {body} body
     * @param {number} inertia
     */
    Body.setInertia = function(body, inertia) {
        body.inertia = inertia;
        body.inverseInertia = 1 / body.inertia;
    };

    /**
     * Sets the body's vertices and updates body properties accordingly, including inertia, area and mass (with respect to `body.density`).
     * Vertices will be automatically transformed to be orientated around their centre of mass as the origin.
     * They are then automatically translated to world space based on `body.position`.
     *
     * The `vertices` argument should be passed as an array of `Matter.Vector` points (or a `Matter.Vertices` array).
     * Vertices must form a convex hull, concave hulls are not supported.
     *
     * @method setVertices
     * @param {body} body
     * @param {vector[]} vertices
     */
    Body.setVertices = function(body, vertices) {
        // change vertices
        if (vertices[0].body === body) {
            body.vertices = vertices;
        } else {
            body.vertices = Vertices.create(vertices, body);
        }

        // update properties
        body.axes = Axes.fromVertices(body.vertices);
        body.area = Vertices.area(body.vertices);
        Body.setMass(body, body.density * body.area);

        // orient vertices around the centre of mass at origin (0, 0)
        var centre = Vertices.centre(body.vertices);
        Vertices.translate(body.vertices, centre, -1);

        // update inertia while vertices are at origin (0, 0)
        Body.setInertia(body, Body._inertiaScale * Vertices.inertia(body.vertices, body.mass));

        // update geometry
        Vertices.translate(body.vertices, body.position);
        Bounds.update(body.bounds, body.vertices, body.velocity);
    };

    /**
     * Sets the parts of the `body` and updates mass, inertia and centroid.
     * Each part will have its parent set to `body`.
     * By default the convex hull will be automatically computed and set on `body`, unless `autoHull` is set to `false.`
     * Note that this method will ensure that the first part in `body.parts` will always be the `body`.
     * @method setParts
     * @param {body} body
     * @param [body] parts
     * @param {bool} [autoHull=true]
     */
    Body.setParts = function(body, parts, autoHull) {
        var i;

        // add all the parts, ensuring that the first part is always the parent body
        parts = parts.slice(0);
        body.parts.length = 0;
        body.parts.push(body);
        body.parent = body;

        for (i = 0; i < parts.length; i++) {
            var part = parts[i];
            if (part !== body) {
                part.parent = body;
                body.parts.push(part);
            }
        }

        if (body.parts.length === 1)
            return;

        autoHull = typeof autoHull !== 'undefined' ? autoHull : true;

        // find the convex hull of all parts to set on the parent body
        if (autoHull) {
            var vertices = [];
            for (i = 0; i < parts.length; i++) {
                vertices = vertices.concat(parts[i].vertices);
            }

            Vertices.clockwiseSort(vertices);

            var hull = Vertices.hull(vertices),
                hullCentre = Vertices.centre(hull);

            Body.setVertices(body, hull);
            Vertices.translate(body.vertices, hullCentre);
        }

        // sum the properties of all compound parts of the parent body
        var total = _totalProperties(body);

        body.area = total.area;
        body.parent = body;
        body.position.x = total.centre.x;
        body.position.y = total.centre.y;
        body.positionPrev.x = total.centre.x;
        body.positionPrev.y = total.centre.y;

        Body.setMass(body, total.mass);
        Body.setInertia(body, total.inertia);
        Body.setPosition(body, total.centre);
    };

    /**
     * Sets the position of the body instantly. Velocity, angle, force etc. are unchanged.
     * @method setPosition
     * @param {body} body
     * @param {vector} position
     */
    Body.setPosition = function(body, position) {
        var delta = Vector.sub(position, body.position);
        body.positionPrev.x += delta.x;
        body.positionPrev.y += delta.y;

        for (var i = 0; i < body.parts.length; i++) {
            var part = body.parts[i];
            part.position.x += delta.x;
            part.position.y += delta.y;
            Vertices.translate(part.vertices, delta);
            Bounds.update(part.bounds, part.vertices, body.velocity);
        }
    };

    /**
     * Sets the angle of the body instantly. Angular velocity, position, force etc. are unchanged.
     * @method setAngle
     * @param {body} body
     * @param {number} angle
     */
    Body.setAngle = function(body, angle) {
        var delta = angle - body.angle;
        body.anglePrev += delta;

        for (var i = 0; i < body.parts.length; i++) {
            var part = body.parts[i];
            part.angle += delta;
            Vertices.rotate(part.vertices, delta, body.position);
            Axes.rotate(part.axes, delta);
            Bounds.update(part.bounds, part.vertices, body.velocity);
            if (i > 0) {
                Vector.rotateAbout(part.position, delta, body.position, part.position);
            }
        }
    };

    /**
     * Sets the linear velocity of the body instantly. Position, angle, force etc. are unchanged. See also `Body.applyForce`.
     * @method setVelocity
     * @param {body} body
     * @param {vector} velocity
     */
    Body.setVelocity = function(body, velocity) {
        body.positionPrev.x = body.position.x - velocity.x;
        body.positionPrev.y = body.position.y - velocity.y;
        body.velocity.x = velocity.x;
        body.velocity.y = velocity.y;
        body.speed = Vector.magnitude(body.velocity);
    };

    /**
     * Sets the angular velocity of the body instantly. Position, angle, force etc. are unchanged. See also `Body.applyForce`.
     * @method setAngularVelocity
     * @param {body} body
     * @param {number} velocity
     */
    Body.setAngularVelocity = function(body, velocity) {
        body.anglePrev = body.angle - velocity;
        body.angularVelocity = velocity;
        body.angularSpeed = Math.abs(body.angularVelocity);
    };

    /**
     * Moves a body by a given vector relative to its current position, without imparting any velocity.
     * @method translate
     * @param {body} body
     * @param {vector} translation
     */
    Body.translate = function(body, translation) {
        Body.setPosition(body, Vector.add(body.position, translation));
    };

    /**
     * Rotates a body by a given angle relative to its current angle, without imparting any angular velocity.
     * @method rotate
     * @param {body} body
     * @param {number} rotation
     */
    Body.rotate = function(body, rotation) {
        Body.setAngle(body, body.angle + rotation);
    };

    /**
     * Scales the body, including updating physical properties (mass, area, axes, inertia), from a world-space point (default is body centre).
     * @method scale
     * @param {body} body
     * @param {number} scaleX
     * @param {number} scaleY
     * @param {vector} [point]
     */
    Body.scale = function(body, scaleX, scaleY, point) {
        for (var i = 0; i < body.parts.length; i++) {
            var part = body.parts[i];

            // scale vertices
            Vertices.scale(part.vertices, scaleX, scaleY, body.position);

            // update properties
            part.axes = Axes.fromVertices(part.vertices);

            if (!body.isStatic) {
                part.area = Vertices.area(part.vertices);
                Body.setMass(part, body.density * part.area);

                // update inertia (requires vertices to be at origin)
                Vertices.translate(part.vertices, { x: -part.position.x, y: -part.position.y });
                Body.setInertia(part, Vertices.inertia(part.vertices, part.mass));
                Vertices.translate(part.vertices, { x: part.position.x, y: part.position.y });
            }

            // update bounds
            Bounds.update(part.bounds, part.vertices, body.velocity);
        }

        // handle circles
        if (body.circleRadius) { 
            if (scaleX === scaleY) {
                body.circleRadius *= scaleX;
            } else {
                // body is no longer a circle
                body.circleRadius = null;
            }
        }

        if (!body.isStatic) {
            var total = _totalProperties(body);
            body.area = total.area;
            Body.setMass(body, total.mass);
            Body.setInertia(body, total.inertia);
        }
    };

    /**
     * Performs a simulation step for the given `body`, including updating position and angle using Verlet integration.
     * @method update
     * @param {body} body
     * @param {number} deltaTime
     * @param {number} timeScale
     * @param {number} correction
     */
    Body.update = function(body, deltaTime, timeScale, correction) {
        var deltaTimeSquared = Math.pow(deltaTime * timeScale * body.timeScale, 2);

        // from the previous step
        var frictionAir = 1 - body.frictionAir * timeScale * body.timeScale,
            velocityPrevX = body.position.x - body.positionPrev.x,
            velocityPrevY = body.position.y - body.positionPrev.y;

        // update velocity with Verlet integration
        body.velocity.x = (velocityPrevX * frictionAir * correction) + (body.force.x / body.mass) * deltaTimeSquared;
        body.velocity.y = (velocityPrevY * frictionAir * correction) + (body.force.y / body.mass) * deltaTimeSquared;

        body.positionPrev.x = body.position.x;
        body.positionPrev.y = body.position.y;
        body.position.x += body.velocity.x;
        body.position.y += body.velocity.y;

        // update angular velocity with Verlet integration
        body.angularVelocity = ((body.angle - body.anglePrev) * frictionAir * correction) + (body.torque / body.inertia) * deltaTimeSquared;
        body.anglePrev = body.angle;
        body.angle += body.angularVelocity;

        // track speed and acceleration
        body.speed = Vector.magnitude(body.velocity);
        body.angularSpeed = Math.abs(body.angularVelocity);

        // transform the body geometry
        for (var i = 0; i < body.parts.length; i++) {
            var part = body.parts[i];

            Vertices.translate(part.vertices, body.velocity);
            
            if (i > 0) {
                part.position.x += body.velocity.x;
                part.position.y += body.velocity.y;
            }

            if (body.angularVelocity !== 0) {
                Vertices.rotate(part.vertices, body.angularVelocity, body.position);
                Axes.rotate(part.axes, body.angularVelocity);
                if (i > 0) {
                    Vector.rotateAbout(part.position, body.angularVelocity, body.position, part.position);
                }
            }

            Bounds.update(part.bounds, part.vertices, body.velocity);
        }
    };

    /**
     * Applies a force to a body from a given world-space position, including resulting torque.
     * @method applyForce
     * @param {body} body
     * @param {vector} position
     * @param {vector} force
     */
    Body.applyForce = function(body, position, force) {
        body.force.x += force.x;
        body.force.y += force.y;
        var offset = { x: position.x - body.position.x, y: position.y - body.position.y };
        body.torque += offset.x * force.y - offset.y * force.x;
    };

    /**
     * Returns the sums of the properties of all compound parts of the parent body.
     * @method _totalProperties
     * @private
     * @param {body} body
     * @return {}
     */
    var _totalProperties = function(body) {
        // https://ecourses.ou.edu/cgi-bin/ebook.cgi?doc=&topic=st&chap_sec=07.2&page=theory
        // http://output.to/sideway/default.asp?qno=121100087

        var properties = {
            mass: 0,
            area: 0,
            inertia: 0,
            centre: { x: 0, y: 0 }
        };

        // sum the properties of all compound parts of the parent body
        for (var i = body.parts.length === 1 ? 0 : 1; i < body.parts.length; i++) {
            var part = body.parts[i];
            properties.mass += part.mass;
            properties.area += part.area;
            properties.inertia += part.inertia;
            properties.centre = Vector.add(properties.centre, 
                                           Vector.mult(part.position, part.mass !== Infinity ? part.mass : 1));
        }

        properties.centre = Vector.div(properties.centre, 
                                       properties.mass !== Infinity ? properties.mass : body.parts.length);

        return properties;
    };

    /*
    *
    *  Events Documentation
    *
    */

    /**
    * Fired when a body starts sleeping (where `this` is the body).
    *
    * @event sleepStart
    * @this {body} The body that has started sleeping
    * @param {} event An event object
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when a body ends sleeping (where `this` is the body).
    *
    * @event sleepEnd
    * @this {body} The body that has ended sleeping
    * @param {} event An event object
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * An integer `Number` uniquely identifying number generated in `Body.create` by `Common.nextId`.
     *
     * @property id
     * @type number
     */

    /**
     * A `String` denoting the type of object.
     *
     * @property type
     * @type string
     * @default "body"
     * @readOnly
     */

    /**
     * An arbitrary `String` name to help the user identify and manage bodies.
     *
     * @property label
     * @type string
     * @default "Body"
     */

    /**
     * An array of bodies that make up this body. 
     * The first body in the array must always be a self reference to the current body instance.
     * All bodies in the `parts` array together form a single rigid compound body.
     * Parts are allowed to overlap, have gaps or holes or even form concave bodies.
     * Parts themselves should never be added to a `World`, only the parent body should be.
     * Use `Body.setParts` when setting parts to ensure correct updates of all properties.
     *
     * @property parts
     * @type body[]
     */

    /**
     * An object reserved for storing plugin-specific properties.
     *
     * @property plugin
     * @type {}
     */

    /**
     * A self reference if the body is _not_ a part of another body.
     * Otherwise this is a reference to the body that this is a part of.
     * See `body.parts`.
     *
     * @property parent
     * @type body
     */

    /**
     * A `Number` specifying the angle of the body, in radians.
     *
     * @property angle
     * @type number
     * @default 0
     */

    /**
     * An array of `Vector` objects that specify the convex hull of the rigid body.
     * These should be provided about the origin `(0, 0)`. E.g.
     *
     *     [{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]
     *
     * When passed via `Body.create`, the vertices are translated relative to `body.position` (i.e. world-space, and constantly updated by `Body.update` during simulation).
     * The `Vector` objects are also augmented with additional properties required for efficient collision detection. 
     *
     * Other properties such as `inertia` and `bounds` are automatically calculated from the passed vertices (unless provided via `options`).
     * Concave hulls are not currently supported. The module `Matter.Vertices` contains useful methods for working with vertices.
     *
     * @property vertices
     * @type vector[]
     */

    /**
     * A `Vector` that specifies the current world-space position of the body.
     *
     * @property position
     * @type vector
     * @default { x: 0, y: 0 }
     */

    /**
     * A `Vector` that specifies the force to apply in the current step. It is zeroed after every `Body.update`. See also `Body.applyForce`.
     *
     * @property force
     * @type vector
     * @default { x: 0, y: 0 }
     */

    /**
     * A `Number` that specifies the torque (turning force) to apply in the current step. It is zeroed after every `Body.update`.
     *
     * @property torque
     * @type number
     * @default 0
     */

    /**
     * A `Number` that _measures_ the current speed of the body after the last `Body.update`. It is read-only and always positive (it's the magnitude of `body.velocity`).
     *
     * @readOnly
     * @property speed
     * @type number
     * @default 0
     */

    /**
     * A `Number` that _measures_ the current angular speed of the body after the last `Body.update`. It is read-only and always positive (it's the magnitude of `body.angularVelocity`).
     *
     * @readOnly
     * @property angularSpeed
     * @type number
     * @default 0
     */

    /**
     * A `Vector` that _measures_ the current velocity of the body after the last `Body.update`. It is read-only. 
     * If you need to modify a body's velocity directly, you should either apply a force or simply change the body's `position` (as the engine uses position-Verlet integration).
     *
     * @readOnly
     * @property velocity
     * @type vector
     * @default { x: 0, y: 0 }
     */

    /**
     * A `Number` that _measures_ the current angular velocity of the body after the last `Body.update`. It is read-only. 
     * If you need to modify a body's angular velocity directly, you should apply a torque or simply change the body's `angle` (as the engine uses position-Verlet integration).
     *
     * @readOnly
     * @property angularVelocity
     * @type number
     * @default 0
     */

    /**
     * A flag that indicates whether a body is considered static. A static body can never change position or angle and is completely fixed.
     * If you need to set a body as static after its creation, you should use `Body.setStatic` as this requires more than just setting this flag.
     *
     * @property isStatic
     * @type boolean
     * @default false
     */

    /**
     * A flag that indicates whether a body is a sensor. Sensor triggers collision events, but doesn't react with colliding body physically.
     *
     * @property isSensor
     * @type boolean
     * @default false
     */

    /**
     * A flag that indicates whether the body is considered sleeping. A sleeping body acts similar to a static body, except it is only temporary and can be awoken.
     * If you need to set a body as sleeping, you should use `Sleeping.set` as this requires more than just setting this flag.
     *
     * @property isSleeping
     * @type boolean
     * @default false
     */

    /**
     * A `Number` that _measures_ the amount of movement a body currently has (a combination of `speed` and `angularSpeed`). It is read-only and always positive.
     * It is used and updated by the `Matter.Sleeping` module during simulation to decide if a body has come to rest.
     *
     * @readOnly
     * @property motion
     * @type number
     * @default 0
     */

    /**
     * A `Number` that defines the number of updates in which this body must have near-zero velocity before it is set as sleeping by the `Matter.Sleeping` module (if sleeping is enabled by the engine).
     *
     * @property sleepThreshold
     * @type number
     * @default 60
     */

    /**
     * A `Number` that defines the density of the body, that is its mass per unit area.
     * If you pass the density via `Body.create` the `mass` property is automatically calculated for you based on the size (area) of the object.
     * This is generally preferable to simply setting mass and allows for more intuitive definition of materials (e.g. rock has a higher density than wood).
     *
     * @property density
     * @type number
     * @default 0.001
     */

    /**
     * A `Number` that defines the mass of the body, although it may be more appropriate to specify the `density` property instead.
     * If you modify this value, you must also modify the `body.inverseMass` property (`1 / mass`).
     *
     * @property mass
     * @type number
     */

    /**
     * A `Number` that defines the inverse mass of the body (`1 / mass`).
     * If you modify this value, you must also modify the `body.mass` property.
     *
     * @property inverseMass
     * @type number
     */

    /**
     * A `Number` that defines the moment of inertia (i.e. second moment of area) of the body.
     * It is automatically calculated from the given convex hull (`vertices` array) and density in `Body.create`.
     * If you modify this value, you must also modify the `body.inverseInertia` property (`1 / inertia`).
     *
     * @property inertia
     * @type number
     */

    /**
     * A `Number` that defines the inverse moment of inertia of the body (`1 / inertia`).
     * If you modify this value, you must also modify the `body.inertia` property.
     *
     * @property inverseInertia
     * @type number
     */

    /**
     * A `Number` that defines the restitution (elasticity) of the body. The value is always positive and is in the range `(0, 1)`.
     * A value of `0` means collisions may be perfectly inelastic and no bouncing may occur. 
     * A value of `0.8` means the body may bounce back with approximately 80% of its kinetic energy.
     * Note that collision response is based on _pairs_ of bodies, and that `restitution` values are _combined_ with the following formula:
     *
     *     Math.max(bodyA.restitution, bodyB.restitution)
     *
     * @property restitution
     * @type number
     * @default 0
     */

    /**
     * A `Number` that defines the friction of the body. The value is always positive and is in the range `(0, 1)`.
     * A value of `0` means that the body may slide indefinitely.
     * A value of `1` means the body may come to a stop almost instantly after a force is applied.
     *
     * The effects of the value may be non-linear. 
     * High values may be unstable depending on the body.
     * The engine uses a Coulomb friction model including static and kinetic friction.
     * Note that collision response is based on _pairs_ of bodies, and that `friction` values are _combined_ with the following formula:
     *
     *     Math.min(bodyA.friction, bodyB.friction)
     *
     * @property friction
     * @type number
     * @default 0.1
     */

    /**
     * A `Number` that defines the static friction of the body (in the Coulomb friction model). 
     * A value of `0` means the body will never 'stick' when it is nearly stationary and only dynamic `friction` is used.
     * The higher the value (e.g. `10`), the more force it will take to initially get the body moving when nearly stationary.
     * This value is multiplied with the `friction` property to make it easier to change `friction` and maintain an appropriate amount of static friction.
     *
     * @property frictionStatic
     * @type number
     * @default 0.5
     */

    /**
     * A `Number` that defines the air friction of the body (air resistance). 
     * A value of `0` means the body will never slow as it moves through space.
     * The higher the value, the faster a body slows when moving through space.
     * The effects of the value are non-linear. 
     *
     * @property frictionAir
     * @type number
     * @default 0.01
     */

    /**
     * An `Object` that specifies the collision filtering properties of this body.
     *
     * Collisions between two bodies will obey the following rules:
     * - If the two bodies have the same non-zero value of `collisionFilter.group`,
     *   they will always collide if the value is positive, and they will never collide
     *   if the value is negative.
     * - If the two bodies have different values of `collisionFilter.group` or if one
     *   (or both) of the bodies has a value of 0, then the category/mask rules apply as follows:
     *
     * Each body belongs to a collision category, given by `collisionFilter.category`. This
     * value is used as a bit field and the category should have only one bit set, meaning that
     * the value of this property is a power of two in the range [1, 2^31]. Thus, there are 32
     * different collision categories available.
     *
     * Each body also defines a collision bitmask, given by `collisionFilter.mask` which specifies
     * the categories it collides with (the value is the bitwise AND value of all these categories).
     *
     * Using the category/mask rules, two bodies `A` and `B` collide if each includes the other's
     * category in its mask, i.e. `(categoryA & maskB) !== 0` and `(categoryB & maskA) !== 0`
     * are both true.
     *
     * @property collisionFilter
     * @type object
     */

    /**
     * An Integer `Number`, that specifies the collision group this body belongs to.
     * See `body.collisionFilter` for more information.
     *
     * @property collisionFilter.group
     * @type object
     * @default 0
     */

    /**
     * A bit field that specifies the collision category this body belongs to.
     * The category value should have only one bit set, for example `0x0001`.
     * This means there are up to 32 unique collision categories available.
     * See `body.collisionFilter` for more information.
     *
     * @property collisionFilter.category
     * @type object
     * @default 1
     */

    /**
     * A bit mask that specifies the collision categories this body may collide with.
     * See `body.collisionFilter` for more information.
     *
     * @property collisionFilter.mask
     * @type object
     * @default -1
     */

    /**
     * A `Number` that specifies a tolerance on how far a body is allowed to 'sink' or rotate into other bodies.
     * Avoid changing this value unless you understand the purpose of `slop` in physics engines.
     * The default should generally suffice, although very large bodies may require larger values for stable stacking.
     *
     * @property slop
     * @type number
     * @default 0.05
     */

    /**
     * A `Number` that allows per-body time scaling, e.g. a force-field where bodies inside are in slow-motion, while others are at full speed.
     *
     * @property timeScale
     * @type number
     * @default 1
     */

    /**
     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.
     *
     * @property render
     * @type object
     */

    /**
     * A flag that indicates if the body should be rendered.
     *
     * @property render.visible
     * @type boolean
     * @default true
     */

    /**
     * Sets the opacity to use when rendering.
     *
     * @property render.opacity
     * @type number
     * @default 1
    */

    /**
     * An `Object` that defines the sprite properties to use when rendering, if any.
     *
     * @property render.sprite
     * @type object
     */

    /**
     * An `String` that defines the path to the image to use as the sprite texture, if any.
     *
     * @property render.sprite.texture
     * @type string
     */
     
    /**
     * A `Number` that defines the scaling in the x-axis for the sprite, if any.
     *
     * @property render.sprite.xScale
     * @type number
     * @default 1
     */

    /**
     * A `Number` that defines the scaling in the y-axis for the sprite, if any.
     *
     * @property render.sprite.yScale
     * @type number
     * @default 1
     */

     /**
      * A `Number` that defines the offset in the x-axis for the sprite (normalised by texture width).
      *
      * @property render.sprite.xOffset
      * @type number
      * @default 0
      */

     /**
      * A `Number` that defines the offset in the y-axis for the sprite (normalised by texture height).
      *
      * @property render.sprite.yOffset
      * @type number
      * @default 0
      */

    /**
     * A `Number` that defines the line width to use when rendering the body outline (if a sprite is not defined).
     * A value of `0` means no outline will be rendered.
     *
     * @property render.lineWidth
     * @type number
     * @default 1.5
     */

    /**
     * A `String` that defines the fill style to use when rendering the body (if a sprite is not defined).
     * It is the same as when using a canvas, so it accepts CSS style property values.
     *
     * @property render.fillStyle
     * @type string
     * @default a random colour
     */

    /**
     * A `String` that defines the stroke style to use when rendering the body outline (if a sprite is not defined).
     * It is the same as when using a canvas, so it accepts CSS style property values.
     *
     * @property render.strokeStyle
     * @type string
     * @default a random colour
     */

    /**
     * An array of unique axis vectors (edge normals) used for collision detection.
     * These are automatically calculated from the given convex hull (`vertices` array) in `Body.create`.
     * They are constantly updated by `Body.update` during the simulation.
     *
     * @property axes
     * @type vector[]
     */
     
    /**
     * A `Number` that _measures_ the area of the body's convex hull, calculated at creation by `Body.create`.
     *
     * @property area
     * @type string
     * @default 
     */

    /**
     * A `Bounds` object that defines the AABB region for the body.
     * It is automatically calculated from the given convex hull (`vertices` array) in `Body.create` and constantly updated by `Body.update` during simulation.
     *
     * @property bounds
     * @type bounds
     */

})();

},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(_dereq_,module,exports){
/**
* The `Matter.Composite` module contains methods for creating and manipulating composite bodies.
* A composite body is a collection of `Matter.Body`, `Matter.Constraint` and other `Matter.Composite`, therefore composites form a tree structure.
* It is important to use the functions in this module to modify composites, rather than directly modifying their properties.
* Note that the `Matter.World` object is also a type of `Matter.Composite` and as such all composite methods here can also operate on a `Matter.World`.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Composite
*/

var Composite = {};

module.exports = Composite;

var Events = _dereq_('../core/Events');
var Common = _dereq_('../core/Common');
var Body = _dereq_('./Body');

(function() {

    /**
     * Creates a new composite. The options parameter is an object that specifies any properties you wish to override the defaults.
     * See the properites section below for detailed information on what you can pass via the `options` object.
     * @method create
     * @param {} [options]
     * @return {composite} A new composite
     */
    Composite.create = function(options) {
        return Common.extend({ 
            id: Common.nextId(),
            type: 'composite',
            parent: null,
            isModified: false,
            bodies: [], 
            constraints: [], 
            composites: [],
            label: 'Composite',
            plugin: {}
        }, options);
    };

    /**
     * Sets the composite's `isModified` flag. 
     * If `updateParents` is true, all parents will be set (default: false).
     * If `updateChildren` is true, all children will be set (default: false).
     * @method setModified
     * @param {composite} composite
     * @param {boolean} isModified
     * @param {boolean} [updateParents=false]
     * @param {boolean} [updateChildren=false]
     */
    Composite.setModified = function(composite, isModified, updateParents, updateChildren) {
        composite.isModified = isModified;

        if (updateParents && composite.parent) {
            Composite.setModified(composite.parent, isModified, updateParents, updateChildren);
        }

        if (updateChildren) {
            for(var i = 0; i < composite.composites.length; i++) {
                var childComposite = composite.composites[i];
                Composite.setModified(childComposite, isModified, updateParents, updateChildren);
            }
        }
    };

    /**
     * Generic add function. Adds one or many body(s), constraint(s) or a composite(s) to the given composite.
     * Triggers `beforeAdd` and `afterAdd` events on the `composite`.
     * @method add
     * @param {composite} composite
     * @param {} object
     * @return {composite} The original composite with the objects added
     */
    Composite.add = function(composite, object) {
        var objects = [].concat(object);

        Events.trigger(composite, 'beforeAdd', { object: object });

        for (var i = 0; i < objects.length; i++) {
            var obj = objects[i];

            switch (obj.type) {

            case 'body':
                // skip adding compound parts
                if (obj.parent !== obj) {
                    Common.warn('Composite.add: skipped adding a compound body part (you must add its parent instead)');
                    break;
                }

                Composite.addBody(composite, obj);
                break;
            case 'constraint':
                Composite.addConstraint(composite, obj);
                break;
            case 'composite':
                Composite.addComposite(composite, obj);
                break;
            case 'mouseConstraint':
                Composite.addConstraint(composite, obj.constraint);
                break;

            }
        }

        Events.trigger(composite, 'afterAdd', { object: object });

        return composite;
    };

    /**
     * Generic remove function. Removes one or many body(s), constraint(s) or a composite(s) to the given composite.
     * Optionally searching its children recursively.
     * Triggers `beforeRemove` and `afterRemove` events on the `composite`.
     * @method remove
     * @param {composite} composite
     * @param {} object
     * @param {boolean} [deep=false]
     * @return {composite} The original composite with the objects removed
     */
    Composite.remove = function(composite, object, deep) {
        var objects = [].concat(object);

        Events.trigger(composite, 'beforeRemove', { object: object });

        for (var i = 0; i < objects.length; i++) {
            var obj = objects[i];

            switch (obj.type) {

            case 'body':
                Composite.removeBody(composite, obj, deep);
                break;
            case 'constraint':
                Composite.removeConstraint(composite, obj, deep);
                break;
            case 'composite':
                Composite.removeComposite(composite, obj, deep);
                break;
            case 'mouseConstraint':
                Composite.removeConstraint(composite, obj.constraint);
                break;

            }
        }

        Events.trigger(composite, 'afterRemove', { object: object });

        return composite;
    };

    /**
     * Adds a composite to the given composite.
     * @private
     * @method addComposite
     * @param {composite} compositeA
     * @param {composite} compositeB
     * @return {composite} The original compositeA with the objects from compositeB added
     */
    Composite.addComposite = function(compositeA, compositeB) {
        compositeA.composites.push(compositeB);
        compositeB.parent = compositeA;
        Composite.setModified(compositeA, true, true, false);
        return compositeA;
    };

    /**
     * Removes a composite from the given composite, and optionally searching its children recursively.
     * @private
     * @method removeComposite
     * @param {composite} compositeA
     * @param {composite} compositeB
     * @param {boolean} [deep=false]
     * @return {composite} The original compositeA with the composite removed
     */
    Composite.removeComposite = function(compositeA, compositeB, deep) {
        var position = Common.indexOf(compositeA.composites, compositeB);
        if (position !== -1) {
            Composite.removeCompositeAt(compositeA, position);
            Composite.setModified(compositeA, true, true, false);
        }

        if (deep) {
            for (var i = 0; i < compositeA.composites.length; i++){
                Composite.removeComposite(compositeA.composites[i], compositeB, true);
            }
        }

        return compositeA;
    };

    /**
     * Removes a composite from the given composite.
     * @private
     * @method removeCompositeAt
     * @param {composite} composite
     * @param {number} position
     * @return {composite} The original composite with the composite removed
     */
    Composite.removeCompositeAt = function(composite, position) {
        composite.composites.splice(position, 1);
        Composite.setModified(composite, true, true, false);
        return composite;
    };

    /**
     * Adds a body to the given composite.
     * @private
     * @method addBody
     * @param {composite} composite
     * @param {body} body
     * @return {composite} The original composite with the body added
     */
    Composite.addBody = function(composite, body) {
        composite.bodies.push(body);
        Composite.setModified(composite, true, true, false);
        return composite;
    };

    /**
     * Removes a body from the given composite, and optionally searching its children recursively.
     * @private
     * @method removeBody
     * @param {composite} composite
     * @param {body} body
     * @param {boolean} [deep=false]
     * @return {composite} The original composite with the body removed
     */
    Composite.removeBody = function(composite, body, deep) {
        var position = Common.indexOf(composite.bodies, body);
        if (position !== -1) {
            Composite.removeBodyAt(composite, position);
            Composite.setModified(composite, true, true, false);
        }

        if (deep) {
            for (var i = 0; i < composite.composites.length; i++){
                Composite.removeBody(composite.composites[i], body, true);
            }
        }

        return composite;
    };

    /**
     * Removes a body from the given composite.
     * @private
     * @method removeBodyAt
     * @param {composite} composite
     * @param {number} position
     * @return {composite} The original composite with the body removed
     */
    Composite.removeBodyAt = function(composite, position) {
        composite.bodies.splice(position, 1);
        Composite.setModified(composite, true, true, false);
        return composite;
    };

    /**
     * Adds a constraint to the given composite.
     * @private
     * @method addConstraint
     * @param {composite} composite
     * @param {constraint} constraint
     * @return {composite} The original composite with the constraint added
     */
    Composite.addConstraint = function(composite, constraint) {
        composite.constraints.push(constraint);
        Composite.setModified(composite, true, true, false);
        return composite;
    };

    /**
     * Removes a constraint from the given composite, and optionally searching its children recursively.
     * @private
     * @method removeConstraint
     * @param {composite} composite
     * @param {constraint} constraint
     * @param {boolean} [deep=false]
     * @return {composite} The original composite with the constraint removed
     */
    Composite.removeConstraint = function(composite, constraint, deep) {
        var position = Common.indexOf(composite.constraints, constraint);
        if (position !== -1) {
            Composite.removeConstraintAt(composite, position);
        }

        if (deep) {
            for (var i = 0; i < composite.composites.length; i++){
                Composite.removeConstraint(composite.composites[i], constraint, true);
            }
        }

        return composite;
    };

    /**
     * Removes a body from the given composite.
     * @private
     * @method removeConstraintAt
     * @param {composite} composite
     * @param {number} position
     * @return {composite} The original composite with the constraint removed
     */
    Composite.removeConstraintAt = function(composite, position) {
        composite.constraints.splice(position, 1);
        Composite.setModified(composite, true, true, false);
        return composite;
    };

    /**
     * Removes all bodies, constraints and composites from the given composite.
     * Optionally clearing its children recursively.
     * @method clear
     * @param {composite} composite
     * @param {boolean} keepStatic
     * @param {boolean} [deep=false]
     */
    Composite.clear = function(composite, keepStatic, deep) {
        if (deep) {
            for (var i = 0; i < composite.composites.length; i++){
                Composite.clear(composite.composites[i], keepStatic, true);
            }
        }
        
        if (keepStatic) {
            composite.bodies = composite.bodies.filter(function(body) { return body.isStatic; });
        } else {
            composite.bodies.length = 0;
        }

        composite.constraints.length = 0;
        composite.composites.length = 0;
        Composite.setModified(composite, true, true, false);

        return composite;
    };

    /**
     * Returns all bodies in the given composite, including all bodies in its children, recursively.
     * @method allBodies
     * @param {composite} composite
     * @return {body[]} All the bodies
     */
    Composite.allBodies = function(composite) {
        var bodies = [].concat(composite.bodies);

        for (var i = 0; i < composite.composites.length; i++)
            bodies = bodies.concat(Composite.allBodies(composite.composites[i]));

        return bodies;
    };

    /**
     * Returns all constraints in the given composite, including all constraints in its children, recursively.
     * @method allConstraints
     * @param {composite} composite
     * @return {constraint[]} All the constraints
     */
    Composite.allConstraints = function(composite) {
        var constraints = [].concat(composite.constraints);

        for (var i = 0; i < composite.composites.length; i++)
            constraints = constraints.concat(Composite.allConstraints(composite.composites[i]));

        return constraints;
    };

    /**
     * Returns all composites in the given composite, including all composites in its children, recursively.
     * @method allComposites
     * @param {composite} composite
     * @return {composite[]} All the composites
     */
    Composite.allComposites = function(composite) {
        var composites = [].concat(composite.composites);

        for (var i = 0; i < composite.composites.length; i++)
            composites = composites.concat(Composite.allComposites(composite.composites[i]));

        return composites;
    };

    /**
     * Searches the composite recursively for an object matching the type and id supplied, null if not found.
     * @method get
     * @param {composite} composite
     * @param {number} id
     * @param {string} type
     * @return {object} The requested object, if found
     */
    Composite.get = function(composite, id, type) {
        var objects,
            object;

        switch (type) {
        case 'body':
            objects = Composite.allBodies(composite);
            break;
        case 'constraint':
            objects = Composite.allConstraints(composite);
            break;
        case 'composite':
            objects = Composite.allComposites(composite).concat(composite);
            break;
        }

        if (!objects)
            return null;

        object = objects.filter(function(object) { 
            return object.id.toString() === id.toString(); 
        });

        return object.length === 0 ? null : object[0];
    };

    /**
     * Moves the given object(s) from compositeA to compositeB (equal to a remove followed by an add).
     * @method move
     * @param {compositeA} compositeA
     * @param {object[]} objects
     * @param {compositeB} compositeB
     * @return {composite} Returns compositeA
     */
    Composite.move = function(compositeA, objects, compositeB) {
        Composite.remove(compositeA, objects);
        Composite.add(compositeB, objects);
        return compositeA;
    };

    /**
     * Assigns new ids for all objects in the composite, recursively.
     * @method rebase
     * @param {composite} composite
     * @return {composite} Returns composite
     */
    Composite.rebase = function(composite) {
        var objects = Composite.allBodies(composite)
                        .concat(Composite.allConstraints(composite))
                        .concat(Composite.allComposites(composite));

        for (var i = 0; i < objects.length; i++) {
            objects[i].id = Common.nextId();
        }

        Composite.setModified(composite, true, true, false);

        return composite;
    };

    /**
     * Translates all children in the composite by a given vector relative to their current positions, 
     * without imparting any velocity.
     * @method translate
     * @param {composite} composite
     * @param {vector} translation
     * @param {bool} [recursive=true]
     */
    Composite.translate = function(composite, translation, recursive) {
        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;

        for (var i = 0; i < bodies.length; i++) {
            Body.translate(bodies[i], translation);
        }

        Composite.setModified(composite, true, true, false);

        return composite;
    };

    /**
     * Rotates all children in the composite by a given angle about the given point, without imparting any angular velocity.
     * @method rotate
     * @param {composite} composite
     * @param {number} rotation
     * @param {vector} point
     * @param {bool} [recursive=true]
     */
    Composite.rotate = function(composite, rotation, point, recursive) {
        var cos = Math.cos(rotation),
            sin = Math.sin(rotation),
            bodies = recursive ? Composite.allBodies(composite) : composite.bodies;

        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i],
                dx = body.position.x - point.x,
                dy = body.position.y - point.y;
                
            Body.setPosition(body, {
                x: point.x + (dx * cos - dy * sin),
                y: point.y + (dx * sin + dy * cos)
            });

            Body.rotate(body, rotation);
        }

        Composite.setModified(composite, true, true, false);

        return composite;
    };

    /**
     * Scales all children in the composite, including updating physical properties (mass, area, axes, inertia), from a world-space point.
     * @method scale
     * @param {composite} composite
     * @param {number} scaleX
     * @param {number} scaleY
     * @param {vector} point
     * @param {bool} [recursive=true]
     */
    Composite.scale = function(composite, scaleX, scaleY, point, recursive) {
        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;

        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i],
                dx = body.position.x - point.x,
                dy = body.position.y - point.y;
                
            Body.setPosition(body, {
                x: point.x + dx * scaleX,
                y: point.y + dy * scaleY
            });

            Body.scale(body, scaleX, scaleY);
        }

        Composite.setModified(composite, true, true, false);

        return composite;
    };

    /*
    *
    *  Events Documentation
    *
    */

    /**
    * Fired when a call to `Composite.add` is made, before objects have been added.
    *
    * @event beforeAdd
    * @param {} event An event object
    * @param {} event.object The object(s) to be added (may be a single body, constraint, composite or a mixed array of these)
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when a call to `Composite.add` is made, after objects have been added.
    *
    * @event afterAdd
    * @param {} event An event object
    * @param {} event.object The object(s) that have been added (may be a single body, constraint, composite or a mixed array of these)
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when a call to `Composite.remove` is made, before objects have been removed.
    *
    * @event beforeRemove
    * @param {} event An event object
    * @param {} event.object The object(s) to be removed (may be a single body, constraint, composite or a mixed array of these)
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when a call to `Composite.remove` is made, after objects have been removed.
    *
    * @event afterRemove
    * @param {} event An event object
    * @param {} event.object The object(s) that have been removed (may be a single body, constraint, composite or a mixed array of these)
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.
     *
     * @property id
     * @type number
     */

    /**
     * A `String` denoting the type of object.
     *
     * @property type
     * @type string
     * @default "composite"
     * @readOnly
     */

    /**
     * An arbitrary `String` name to help the user identify and manage composites.
     *
     * @property label
     * @type string
     * @default "Composite"
     */

    /**
     * A flag that specifies whether the composite has been modified during the current step.
     * Most `Matter.Composite` methods will automatically set this flag to `true` to inform the engine of changes to be handled.
     * If you need to change it manually, you should use the `Composite.setModified` method.
     *
     * @property isModified
     * @type boolean
     * @default false
     */

    /**
     * The `Composite` that is the parent of this composite. It is automatically managed by the `Matter.Composite` methods.
     *
     * @property parent
     * @type composite
     * @default null
     */

    /**
     * An array of `Body` that are _direct_ children of this composite.
     * To add or remove bodies you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.
     * If you wish to recursively find all descendants, you should use the `Composite.allBodies` method.
     *
     * @property bodies
     * @type body[]
     * @default []
     */

    /**
     * An array of `Constraint` that are _direct_ children of this composite.
     * To add or remove constraints you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.
     * If you wish to recursively find all descendants, you should use the `Composite.allConstraints` method.
     *
     * @property constraints
     * @type constraint[]
     * @default []
     */

    /**
     * An array of `Composite` that are _direct_ children of this composite.
     * To add or remove composites you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.
     * If you wish to recursively find all descendants, you should use the `Composite.allComposites` method.
     *
     * @property composites
     * @type composite[]
     * @default []
     */

    /**
     * An object reserved for storing plugin-specific properties.
     *
     * @property plugin
     * @type {}
     */

})();

},{"../core/Common":14,"../core/Events":16,"./Body":1}],3:[function(_dereq_,module,exports){
/**
* The `Matter.World` module contains methods for creating and manipulating the world composite.
* A `Matter.World` is a `Matter.Composite` body, which is a collection of `Matter.Body`, `Matter.Constraint` and other `Matter.Composite`.
* A `Matter.World` has a few additional properties including `gravity` and `bounds`.
* It is important to use the functions in the `Matter.Composite` module to modify the world composite, rather than directly modifying its properties.
* There are also a few methods here that alias those in `Matter.Composite` for easier readability.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class World
* @extends Composite
*/

var World = {};

module.exports = World;

var Composite = _dereq_('./Composite');
var Constraint = _dereq_('../constraint/Constraint');
var Common = _dereq_('../core/Common');

(function() {

    /**
     * Creates a new world composite. The options parameter is an object that specifies any properties you wish to override the defaults.
     * See the properties section below for detailed information on what you can pass via the `options` object.
     * @method create
     * @constructor
     * @param {} options
     * @return {world} A new world
     */
    World.create = function(options) {
        var composite = Composite.create();

        var defaults = {
            label: 'World',
            gravity: {
                x: 0,
                y: 1,
                scale: 0.001
            },
            bounds: { 
                min: { x: -Infinity, y: -Infinity }, 
                max: { x: Infinity, y: Infinity } 
            }
        };
        
        return Common.extend(composite, defaults, options);
    };

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * The gravity to apply on the world.
     *
     * @property gravity
     * @type object
     */

    /**
     * The gravity x component.
     *
     * @property gravity.x
     * @type object
     * @default 0
     */

    /**
     * The gravity y component.
     *
     * @property gravity.y
     * @type object
     * @default 1
     */

    /**
     * The gravity scale factor.
     *
     * @property gravity.scale
     * @type object
     * @default 0.001
     */

    /**
     * A `Bounds` object that defines the world bounds for collision detection.
     *
     * @property bounds
     * @type bounds
     * @default { min: { x: -Infinity, y: -Infinity }, max: { x: Infinity, y: Infinity } }
     */

    // World is a Composite body
    // see src/module/Outro.js for these aliases:
    
    /**
     * An alias for Composite.clear
     * @method clear
     * @param {world} world
     * @param {boolean} keepStatic
     */

    /**
     * An alias for Composite.add
     * @method addComposite
     * @param {world} world
     * @param {composite} composite
     * @return {world} The original world with the objects from composite added
     */
    
     /**
      * An alias for Composite.addBody
      * @method addBody
      * @param {world} world
      * @param {body} body
      * @return {world} The original world with the body added
      */

     /**
      * An alias for Composite.addConstraint
      * @method addConstraint
      * @param {world} world
      * @param {constraint} constraint
      * @return {world} The original world with the constraint added
      */

})();

},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(_dereq_,module,exports){
/**
* The `Matter.Contact` module contains methods for creating and manipulating collision contacts.
*
* @class Contact
*/

var Contact = {};

module.exports = Contact;

(function() {

    /**
     * Creates a new contact.
     * @method create
     * @param {vertex} vertex
     * @return {contact} A new contact
     */
    Contact.create = function(vertex) {
        return {
            id: Contact.id(vertex),
            vertex: vertex,
            normalImpulse: 0,
            tangentImpulse: 0
        };
    };
    
    /**
     * Generates a contact id.
     * @method id
     * @param {vertex} vertex
     * @return {string} Unique contactID
     */
    Contact.id = function(vertex) {
        return vertex.body.id + '_' + vertex.index;
    };

})();

},{}],5:[function(_dereq_,module,exports){
/**
* The `Matter.Detector` module contains methods for detecting collisions given a set of pairs.
*
* @class Detector
*/

// TODO: speculative contacts

var Detector = {};

module.exports = Detector;

var SAT = _dereq_('./SAT');
var Pair = _dereq_('./Pair');
var Bounds = _dereq_('../geometry/Bounds');

(function() {

    /**
     * Finds all collisions given a list of pairs.
     * @method collisions
     * @param {pair[]} broadphasePairs
     * @param {engine} engine
     * @return {array} collisions
     */
    Detector.collisions = function(broadphasePairs, engine) {
        var collisions = [],
            pairsTable = engine.pairs.table;

        
        for (var i = 0; i < broadphasePairs.length; i++) {
            var bodyA = broadphasePairs[i][0], 
                bodyB = broadphasePairs[i][1];

            if ((bodyA.isStatic || bodyA.isSleeping) && (bodyB.isStatic || bodyB.isSleeping))
                continue;
            
            if (!Detector.canCollide(bodyA.collisionFilter, bodyB.collisionFilter))
                continue;


            // mid phase
            if (Bounds.overlaps(bodyA.bounds, bodyB.bounds)) {
                for (var j = bodyA.parts.length > 1 ? 1 : 0; j < bodyA.parts.length; j++) {
                    var partA = bodyA.parts[j];

                    for (var k = bodyB.parts.length > 1 ? 1 : 0; k < bodyB.parts.length; k++) {
                        var partB = bodyB.parts[k];

                        if ((partA === bodyA && partB === bodyB) || Bounds.overlaps(partA.bounds, partB.bounds)) {
                            // find a previous collision we could reuse
                            var pairId = Pair.id(partA, partB),
                                pair = pairsTable[pairId],
                                previousCollision;

                            if (pair && pair.isActive) {
                                previousCollision = pair.collision;
                            } else {
                                previousCollision = null;
                            }

                            // narrow phase
                            var collision = SAT.collides(partA, partB, previousCollision);


                            if (collision.collided) {
                                collisions.push(collision);
                            }
                        }
                    }
                }
            }
        }

        return collisions;
    };

    /**
     * Returns `true` if both supplied collision filters will allow a collision to occur.
     * See `body.collisionFilter` for more information.
     * @method canCollide
     * @param {} filterA
     * @param {} filterB
     * @return {bool} `true` if collision can occur
     */
    Detector.canCollide = function(filterA, filterB) {
        if (filterA.group === filterB.group && filterA.group !== 0)
            return filterA.group > 0;

        return (filterA.mask & filterB.category) !== 0 && (filterB.mask & filterA.category) !== 0;
    };

})();

},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(_dereq_,module,exports){
/**
* The `Matter.Grid` module contains methods for creating and manipulating collision broadphase grid structures.
*
* @class Grid
*/

var Grid = {};

module.exports = Grid;

var Pair = _dereq_('./Pair');
var Detector = _dereq_('./Detector');
var Common = _dereq_('../core/Common');

(function() {

    /**
     * Creates a new grid.
     * @method create
     * @param {} options
     * @return {grid} A new grid
     */
    Grid.create = function(options) {
        var defaults = {
            controller: Grid,
            detector: Detector.collisions,
            buckets: {},
            pairs: {},
            pairsList: [],
            bucketWidth: 48,
            bucketHeight: 48
        };

        return Common.extend(defaults, options);
    };

    /**
     * The width of a single grid bucket.
     *
     * @property bucketWidth
     * @type number
     * @default 48
     */

    /**
     * The height of a single grid bucket.
     *
     * @property bucketHeight
     * @type number
     * @default 48
     */

    /**
     * Updates the grid.
     * @method update
     * @param {grid} grid
     * @param {body[]} bodies
     * @param {engine} engine
     * @param {boolean} forceUpdate
     */
    Grid.update = function(grid, bodies, engine, forceUpdate) {
        var i, col, row,
            world = engine.world,
            buckets = grid.buckets,
            bucket,
            bucketId,
            gridChanged = false;


        for (i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            if (body.isSleeping && !forceUpdate)
                continue;

            // don't update out of world bodies
            if (body.bounds.max.x < world.bounds.min.x || body.bounds.min.x > world.bounds.max.x
                || body.bounds.max.y < world.bounds.min.y || body.bounds.min.y > world.bounds.max.y)
                continue;

            var newRegion = _getRegion(grid, body);

            // if the body has changed grid region
            if (!body.region || newRegion.id !== body.region.id || forceUpdate) {


                if (!body.region || forceUpdate)
                    body.region = newRegion;

                var union = _regionUnion(newRegion, body.region);

                // update grid buckets affected by region change
                // iterate over the union of both regions
                for (col = union.startCol; col <= union.endCol; col++) {
                    for (row = union.startRow; row <= union.endRow; row++) {
                        bucketId = _getBucketId(col, row);
                        bucket = buckets[bucketId];

                        var isInsideNewRegion = (col >= newRegion.startCol && col <= newRegion.endCol
                                                && row >= newRegion.startRow && row <= newRegion.endRow);

                        var isInsideOldRegion = (col >= body.region.startCol && col <= body.region.endCol
                                                && row >= body.region.startRow && row <= body.region.endRow);

                        // remove from old region buckets
                        if (!isInsideNewRegion && isInsideOldRegion) {
                            if (isInsideOldRegion) {
                                if (bucket)
                                    _bucketRemoveBody(grid, bucket, body);
                            }
                        }

                        // add to new region buckets
                        if (body.region === newRegion || (isInsideNewRegion && !isInsideOldRegion) || forceUpdate) {
                            if (!bucket)
                                bucket = _createBucket(buckets, bucketId);
                            _bucketAddBody(grid, bucket, body);
                        }
                    }
                }

                // set the new region
                body.region = newRegion;

                // flag changes so we can update pairs
                gridChanged = true;
            }
        }

        // update pairs list only if pairs changed (i.e. a body changed region)
        if (gridChanged)
            grid.pairsList = _createActivePairsList(grid);
    };

    /**
     * Clears the grid.
     * @method clear
     * @param {grid} grid
     */
    Grid.clear = function(grid) {
        grid.buckets = {};
        grid.pairs = {};
        grid.pairsList = [];
    };

    /**
     * Finds the union of two regions.
     * @method _regionUnion
     * @private
     * @param {} regionA
     * @param {} regionB
     * @return {} region
     */
    var _regionUnion = function(regionA, regionB) {
        var startCol = Math.min(regionA.startCol, regionB.startCol),
            endCol = Math.max(regionA.endCol, regionB.endCol),
            startRow = Math.min(regionA.startRow, regionB.startRow),
            endRow = Math.max(regionA.endRow, regionB.endRow);

        return _createRegion(startCol, endCol, startRow, endRow);
    };

    /**
     * Gets the region a given body falls in for a given grid.
     * @method _getRegion
     * @private
     * @param {} grid
     * @param {} body
     * @return {} region
     */
    var _getRegion = function(grid, body) {
        var bounds = body.bounds,
            startCol = Math.floor(bounds.min.x / grid.bucketWidth),
            endCol = Math.floor(bounds.max.x / grid.bucketWidth),
            startRow = Math.floor(bounds.min.y / grid.bucketHeight),
            endRow = Math.floor(bounds.max.y / grid.bucketHeight);

        return _createRegion(startCol, endCol, startRow, endRow);
    };

    /**
     * Creates a region.
     * @method _createRegion
     * @private
     * @param {} startCol
     * @param {} endCol
     * @param {} startRow
     * @param {} endRow
     * @return {} region
     */
    var _createRegion = function(startCol, endCol, startRow, endRow) {
        return { 
            id: startCol + ',' + endCol + ',' + startRow + ',' + endRow,
            startCol: startCol, 
            endCol: endCol, 
            startRow: startRow, 
            endRow: endRow 
        };
    };

    /**
     * Gets the bucket id at the given position.
     * @method _getBucketId
     * @private
     * @param {} column
     * @param {} row
     * @return {string} bucket id
     */
    var _getBucketId = function(column, row) {
        return 'C' + column + 'R' + row;
    };

    /**
     * Creates a bucket.
     * @method _createBucket
     * @private
     * @param {} buckets
     * @param {} bucketId
     * @return {} bucket
     */
    var _createBucket = function(buckets, bucketId) {
        var bucket = buckets[bucketId] = [];
        return bucket;
    };

    /**
     * Adds a body to a bucket.
     * @method _bucketAddBody
     * @private
     * @param {} grid
     * @param {} bucket
     * @param {} body
     */
    var _bucketAddBody = function(grid, bucket, body) {
        // add new pairs
        for (var i = 0; i < bucket.length; i++) {
            var bodyB = bucket[i];

            if (body.id === bodyB.id || (body.isStatic && bodyB.isStatic))
                continue;

            // keep track of the number of buckets the pair exists in
            // important for Grid.update to work
            var pairId = Pair.id(body, bodyB),
                pair = grid.pairs[pairId];

            if (pair) {
                pair[2] += 1;
            } else {
                grid.pairs[pairId] = [body, bodyB, 1];
            }
        }

        // add to bodies (after pairs, otherwise pairs with self)
        bucket.push(body);
    };

    /**
     * Removes a body from a bucket.
     * @method _bucketRemoveBody
     * @private
     * @param {} grid
     * @param {} bucket
     * @param {} body
     */
    var _bucketRemoveBody = function(grid, bucket, body) {
        // remove from bucket
        bucket.splice(Common.indexOf(bucket, body), 1);

        // update pair counts
        for (var i = 0; i < bucket.length; i++) {
            // keep track of the number of buckets the pair exists in
            // important for _createActivePairsList to work
            var bodyB = bucket[i],
                pairId = Pair.id(body, bodyB),
                pair = grid.pairs[pairId];

            if (pair)
                pair[2] -= 1;
        }
    };

    /**
     * Generates a list of the active pairs in the grid.
     * @method _createActivePairsList
     * @private
     * @param {} grid
     * @return [] pairs
     */
    var _createActivePairsList = function(grid) {
        var pairKeys,
            pair,
            pairs = [];

        // grid.pairs is used as a hashmap
        pairKeys = Common.keys(grid.pairs);

        // iterate over grid.pairs
        for (var k = 0; k < pairKeys.length; k++) {
            pair = grid.pairs[pairKeys[k]];

            // if pair exists in at least one bucket
            // it is a pair that needs further collision testing so push it
            if (pair[2] > 0) {
                pairs.push(pair);
            } else {
                delete grid.pairs[pairKeys[k]];
            }
        }

        return pairs;
    };
    
})();

},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(_dereq_,module,exports){
/**
* The `Matter.Pair` module contains methods for creating and manipulating collision pairs.
*
* @class Pair
*/

var Pair = {};

module.exports = Pair;

var Contact = _dereq_('./Contact');

(function() {
    
    /**
     * Creates a pair.
     * @method create
     * @param {collision} collision
     * @param {number} timestamp
     * @return {pair} A new pair
     */
    Pair.create = function(collision, timestamp) {
        var bodyA = collision.bodyA,
            bodyB = collision.bodyB,
            parentA = collision.parentA,
            parentB = collision.parentB;

        var pair = {
            id: Pair.id(bodyA, bodyB),
            bodyA: bodyA,
            bodyB: bodyB,
            contacts: {},
            activeContacts: [],
            separation: 0,
            isActive: true,
            isSensor: bodyA.isSensor || bodyB.isSensor,
            timeCreated: timestamp,
            timeUpdated: timestamp,
            inverseMass: parentA.inverseMass + parentB.inverseMass,
            friction: Math.min(parentA.friction, parentB.friction),
            frictionStatic: Math.max(parentA.frictionStatic, parentB.frictionStatic),
            restitution: Math.max(parentA.restitution, parentB.restitution),
            slop: Math.max(parentA.slop, parentB.slop)
        };

        Pair.update(pair, collision, timestamp);

        return pair;
    };

    /**
     * Updates a pair given a collision.
     * @method update
     * @param {pair} pair
     * @param {collision} collision
     * @param {number} timestamp
     */
    Pair.update = function(pair, collision, timestamp) {
        var contacts = pair.contacts,
            supports = collision.supports,
            activeContacts = pair.activeContacts,
            parentA = collision.parentA,
            parentB = collision.parentB;
        
        pair.collision = collision;
        pair.inverseMass = parentA.inverseMass + parentB.inverseMass;
        pair.friction = Math.min(parentA.friction, parentB.friction);
        pair.frictionStatic = Math.max(parentA.frictionStatic, parentB.frictionStatic);
        pair.restitution = Math.max(parentA.restitution, parentB.restitution);
        pair.slop = Math.max(parentA.slop, parentB.slop);
        activeContacts.length = 0;
        
        if (collision.collided) {
            for (var i = 0; i < supports.length; i++) {
                var support = supports[i],
                    contactId = Contact.id(support),
                    contact = contacts[contactId];

                if (contact) {
                    activeContacts.push(contact);
                } else {
                    activeContacts.push(contacts[contactId] = Contact.create(support));
                }
            }

            pair.separation = collision.depth;
            Pair.setActive(pair, true, timestamp);
        } else {
            if (pair.isActive === true)
                Pair.setActive(pair, false, timestamp);
        }
    };
    
    /**
     * Set a pair as active or inactive.
     * @method setActive
     * @param {pair} pair
     * @param {bool} isActive
     * @param {number} timestamp
     */
    Pair.setActive = function(pair, isActive, timestamp) {
        if (isActive) {
            pair.isActive = true;
            pair.timeUpdated = timestamp;
        } else {
            pair.isActive = false;
            pair.activeContacts.length = 0;
        }
    };

    /**
     * Get the id for the given pair.
     * @method id
     * @param {body} bodyA
     * @param {body} bodyB
     * @return {string} Unique pairId
     */
    Pair.id = function(bodyA, bodyB) {
        if (bodyA.id < bodyB.id) {
            return 'A' + bodyA.id + 'B' + bodyB.id;
        } else {
            return 'A' + bodyB.id + 'B' + bodyA.id;
        }
    };

})();

},{"./Contact":4}],8:[function(_dereq_,module,exports){
/**
* The `Matter.Pairs` module contains methods for creating and manipulating collision pair sets.
*
* @class Pairs
*/

var Pairs = {};

module.exports = Pairs;

var Pair = _dereq_('./Pair');
var Common = _dereq_('../core/Common');

(function() {
    
    var _pairMaxIdleLife = 1000;

    /**
     * Creates a new pairs structure.
     * @method create
     * @param {object} options
     * @return {pairs} A new pairs structure
     */
    Pairs.create = function(options) {
        return Common.extend({ 
            table: {},
            list: [],
            collisionStart: [],
            collisionActive: [],
            collisionEnd: []
        }, options);
    };

    /**
     * Updates pairs given a list of collisions.
     * @method update
     * @param {object} pairs
     * @param {collision[]} collisions
     * @param {number} timestamp
     */
    Pairs.update = function(pairs, collisions, timestamp) {
        var pairsList = pairs.list,
            pairsTable = pairs.table,
            collisionStart = pairs.collisionStart,
            collisionEnd = pairs.collisionEnd,
            collisionActive = pairs.collisionActive,
            activePairIds = [],
            collision,
            pairId,
            pair,
            i;

        // clear collision state arrays, but maintain old reference
        collisionStart.length = 0;
        collisionEnd.length = 0;
        collisionActive.length = 0;

        for (i = 0; i < collisions.length; i++) {
            collision = collisions[i];

            if (collision.collided) {
                pairId = Pair.id(collision.bodyA, collision.bodyB);
                activePairIds.push(pairId);

                pair = pairsTable[pairId];
                
                if (pair) {
                    // pair already exists (but may or may not be active)
                    if (pair.isActive) {
                        // pair exists and is active
                        collisionActive.push(pair);
                    } else {
                        // pair exists but was inactive, so a collision has just started again
                        collisionStart.push(pair);
                    }

                    // update the pair
                    Pair.update(pair, collision, timestamp);
                } else {
                    // pair did not exist, create a new pair
                    pair = Pair.create(collision, timestamp);
                    pairsTable[pairId] = pair;

                    // push the new pair
                    collisionStart.push(pair);
                    pairsList.push(pair);
                }
            }
        }

        // deactivate previously active pairs that are now inactive
        for (i = 0; i < pairsList.length; i++) {
            pair = pairsList[i];
            if (pair.isActive && Common.indexOf(activePairIds, pair.id) === -1) {
                Pair.setActive(pair, false, timestamp);
                collisionEnd.push(pair);
            }
        }
    };
    
    /**
     * Finds and removes pairs that have been inactive for a set amount of time.
     * @method removeOld
     * @param {object} pairs
     * @param {number} timestamp
     */
    Pairs.removeOld = function(pairs, timestamp) {
        var pairsList = pairs.list,
            pairsTable = pairs.table,
            indexesToRemove = [],
            pair,
            collision,
            pairIndex,
            i;

        for (i = 0; i < pairsList.length; i++) {
            pair = pairsList[i];
            collision = pair.collision;
            
            // never remove sleeping pairs
            if (collision.bodyA.isSleeping || collision.bodyB.isSleeping) {
                pair.timeUpdated = timestamp;
                continue;
            }

            // if pair is inactive for too long, mark it to be removed
            if (timestamp - pair.timeUpdated > _pairMaxIdleLife) {
                indexesToRemove.push(i);
            }
        }

        // remove marked pairs
        for (i = 0; i < indexesToRemove.length; i++) {
            pairIndex = indexesToRemove[i] - i;
            pair = pairsList[pairIndex];
            delete pairsTable[pair.id];
            pairsList.splice(pairIndex, 1);
        }
    };

    /**
     * Clears the given pairs structure.
     * @method clear
     * @param {pairs} pairs
     * @return {pairs} pairs
     */
    Pairs.clear = function(pairs) {
        pairs.table = {};
        pairs.list.length = 0;
        pairs.collisionStart.length = 0;
        pairs.collisionActive.length = 0;
        pairs.collisionEnd.length = 0;
        return pairs;
    };

})();

},{"../core/Common":14,"./Pair":7}],9:[function(_dereq_,module,exports){
/**
* The `Matter.Query` module contains methods for performing collision queries.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Query
*/

var Query = {};

module.exports = Query;

var Vector = _dereq_('../geometry/Vector');
var SAT = _dereq_('./SAT');
var Bounds = _dereq_('../geometry/Bounds');
var Bodies = _dereq_('../factory/Bodies');
var Vertices = _dereq_('../geometry/Vertices');

(function() {

    /**
     * Casts a ray segment against a set of bodies and returns all collisions, ray width is optional. Intersection points are not provided.
     * @method ray
     * @param {body[]} bodies
     * @param {vector} startPoint
     * @param {vector} endPoint
     * @param {number} [rayWidth]
     * @return {object[]} Collisions
     */
    Query.ray = function(bodies, startPoint, endPoint, rayWidth) {
        rayWidth = rayWidth || 1e-100;

        var rayAngle = Vector.angle(startPoint, endPoint),
            rayLength = Vector.magnitude(Vector.sub(startPoint, endPoint)),
            rayX = (endPoint.x + startPoint.x) * 0.5,
            rayY = (endPoint.y + startPoint.y) * 0.5,
            ray = Bodies.rectangle(rayX, rayY, rayLength, rayWidth, { angle: rayAngle }),
            collisions = [];

        for (var i = 0; i < bodies.length; i++) {
            var bodyA = bodies[i];
            
            if (Bounds.overlaps(bodyA.bounds, ray.bounds)) {
                for (var j = bodyA.parts.length === 1 ? 0 : 1; j < bodyA.parts.length; j++) {
                    var part = bodyA.parts[j];

                    if (Bounds.overlaps(part.bounds, ray.bounds)) {
                        var collision = SAT.collides(part, ray);
                        if (collision.collided) {
                            collision.body = collision.bodyA = collision.bodyB = bodyA;
                            collisions.push(collision);
                            break;
                        }
                    }
                }
            }
        }

        return collisions;
    };

    /**
     * Returns all bodies whose bounds are inside (or outside if set) the given set of bounds, from the given set of bodies.
     * @method region
     * @param {body[]} bodies
     * @param {bounds} bounds
     * @param {bool} [outside=false]
     * @return {body[]} The bodies matching the query
     */
    Query.region = function(bodies, bounds, outside) {
        var result = [];

        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i],
                overlaps = Bounds.overlaps(body.bounds, bounds);
            if ((overlaps && !outside) || (!overlaps && outside))
                result.push(body);
        }

        return result;
    };

    /**
     * Returns all bodies whose vertices contain the given point, from the given set of bodies.
     * @method point
     * @param {body[]} bodies
     * @param {vector} point
     * @return {body[]} The bodies matching the query
     */
    Query.point = function(bodies, point) {
        var result = [];

        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];
            
            if (Bounds.contains(body.bounds, point)) {
                for (var j = body.parts.length === 1 ? 0 : 1; j < body.parts.length; j++) {
                    var part = body.parts[j];

                    if (Bounds.contains(part.bounds, point)
                        && Vertices.contains(part.vertices, point)) {
                        result.push(body);
                        break;
                    }
                }
            }
        }

        return result;
    };

})();

},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(_dereq_,module,exports){
/**
* The `Matter.Resolver` module contains methods for resolving collision pairs.
*
* @class Resolver
*/

var Resolver = {};

module.exports = Resolver;

var Vertices = _dereq_('../geometry/Vertices');
var Vector = _dereq_('../geometry/Vector');
var Common = _dereq_('../core/Common');
var Bounds = _dereq_('../geometry/Bounds');

(function() {

    Resolver._restingThresh = 4;
    Resolver._restingThreshTangent = 6;
    Resolver._positionDampen = 0.9;
    Resolver._positionWarming = 0.8;
    Resolver._frictionNormalMultiplier = 5;

    /**
     * Prepare pairs for position solving.
     * @method preSolvePosition
     * @param {pair[]} pairs
     */
    Resolver.preSolvePosition = function(pairs) {
        var i,
            pair,
            activeCount;

        // find total contacts on each body
        for (i = 0; i < pairs.length; i++) {
            pair = pairs[i];
            
            if (!pair.isActive)
                continue;
            
            activeCount = pair.activeContacts.length;
            pair.collision.parentA.totalContacts += activeCount;
            pair.collision.parentB.totalContacts += activeCount;
        }
    };

    /**
     * Find a solution for pair positions.
     * @method solvePosition
     * @param {pair[]} pairs
     * @param {number} timeScale
     */
    Resolver.solvePosition = function(pairs, timeScale) {
        var i,
            pair,
            collision,
            bodyA,
            bodyB,
            normal,
            bodyBtoA,
            contactShare,
            positionImpulse,
            contactCount = {},
            tempA = Vector._temp[0],
            tempB = Vector._temp[1],
            tempC = Vector._temp[2],
            tempD = Vector._temp[3];

        // find impulses required to resolve penetration
        for (i = 0; i < pairs.length; i++) {
            pair = pairs[i];
            
            if (!pair.isActive || pair.isSensor)
                continue;

            collision = pair.collision;
            bodyA = collision.parentA;
            bodyB = collision.parentB;
            normal = collision.normal;

            // get current separation between body edges involved in collision
            bodyBtoA = Vector.sub(Vector.add(bodyB.positionImpulse, bodyB.position, tempA), 
                                    Vector.add(bodyA.positionImpulse, 
                                        Vector.sub(bodyB.position, collision.penetration, tempB), tempC), tempD);

            pair.separation = Vector.dot(normal, bodyBtoA);
        }
        
        for (i = 0; i < pairs.length; i++) {
            pair = pairs[i];

            if (!pair.isActive || pair.isSensor || pair.separation < 0)
                continue;
            
            collision = pair.collision;
            bodyA = collision.parentA;
            bodyB = collision.parentB;
            normal = collision.normal;
            positionImpulse = (pair.separation - pair.slop) * timeScale;

            if (bodyA.isStatic || bodyB.isStatic)
                positionImpulse *= 2;
            
            if (!(bodyA.isStatic || bodyA.isSleeping)) {
                contactShare = Resolver._positionDampen / bodyA.totalContacts;
                bodyA.positionImpulse.x += normal.x * positionImpulse * contactShare;
                bodyA.positionImpulse.y += normal.y * positionImpulse * contactShare;
            }

            if (!(bodyB.isStatic || bodyB.isSleeping)) {
                contactShare = Resolver._positionDampen / bodyB.totalContacts;
                bodyB.positionImpulse.x -= normal.x * positionImpulse * contactShare;
                bodyB.positionImpulse.y -= normal.y * positionImpulse * contactShare;
            }
        }
    };

    /**
     * Apply position resolution.
     * @method postSolvePosition
     * @param {body[]} bodies
     */
    Resolver.postSolvePosition = function(bodies) {
        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            // reset contact count
            body.totalContacts = 0;

            if (body.positionImpulse.x !== 0 || body.positionImpulse.y !== 0) {
                // update body geometry
                for (var j = 0; j < body.parts.length; j++) {
                    var part = body.parts[j];
                    Vertices.translate(part.vertices, body.positionImpulse);
                    Bounds.update(part.bounds, part.vertices, body.velocity);
                    part.position.x += body.positionImpulse.x;
                    part.position.y += body.positionImpulse.y;
                }

                // move the body without changing velocity
                body.positionPrev.x += body.positionImpulse.x;
                body.positionPrev.y += body.positionImpulse.y;

                if (Vector.dot(body.positionImpulse, body.velocity) < 0) {
                    // reset cached impulse if the body has velocity along it
                    body.positionImpulse.x = 0;
                    body.positionImpulse.y = 0;
                } else {
                    // warm the next iteration
                    body.positionImpulse.x *= Resolver._positionWarming;
                    body.positionImpulse.y *= Resolver._positionWarming;
                }
            }
        }
    };

    /**
     * Prepare pairs for velocity solving.
     * @method preSolveVelocity
     * @param {pair[]} pairs
     */
    Resolver.preSolveVelocity = function(pairs) {
        var i,
            j,
            pair,
            contacts,
            collision,
            bodyA,
            bodyB,
            normal,
            tangent,
            contact,
            contactVertex,
            normalImpulse,
            tangentImpulse,
            offset,
            impulse = Vector._temp[0],
            tempA = Vector._temp[1];
        
        for (i = 0; i < pairs.length; i++) {
            pair = pairs[i];
            
            if (!pair.isActive || pair.isSensor)
                continue;
            
            contacts = pair.activeContacts;
            collision = pair.collision;
            bodyA = collision.parentA;
            bodyB = collision.parentB;
            normal = collision.normal;
            tangent = collision.tangent;

            // resolve each contact
            for (j = 0; j < contacts.length; j++) {
                contact = contacts[j];
                contactVertex = contact.vertex;
                normalImpulse = contact.normalImpulse;
                tangentImpulse = contact.tangentImpulse;

                if (normalImpulse !== 0 || tangentImpulse !== 0) {
                    // total impulse from contact
                    impulse.x = (normal.x * normalImpulse) + (tangent.x * tangentImpulse);
                    impulse.y = (normal.y * normalImpulse) + (tangent.y * tangentImpulse);
                    
                    // apply impulse from contact
                    if (!(bodyA.isStatic || bodyA.isSleeping)) {
                        offset = Vector.sub(contactVertex, bodyA.position, tempA);
                        bodyA.positionPrev.x += impulse.x * bodyA.inverseMass;
                        bodyA.positionPrev.y += impulse.y * bodyA.inverseMass;
                        bodyA.anglePrev += Vector.cross(offset, impulse) * bodyA.inverseInertia;
                    }

                    if (!(bodyB.isStatic || bodyB.isSleeping)) {
                        offset = Vector.sub(contactVertex, bodyB.position, tempA);
                        bodyB.positionPrev.x -= impulse.x * bodyB.inverseMass;
                        bodyB.positionPrev.y -= impulse.y * bodyB.inverseMass;
                        bodyB.anglePrev -= Vector.cross(offset, impulse) * bodyB.inverseInertia;
                    }
                }
            }
        }
    };

    /**
     * Find a solution for pair velocities.
     * @method solveVelocity
     * @param {pair[]} pairs
     * @param {number} timeScale
     */
    Resolver.solveVelocity = function(pairs, timeScale) {
        var timeScaleSquared = timeScale * timeScale,
            impulse = Vector._temp[0],
            tempA = Vector._temp[1],
            tempB = Vector._temp[2],
            tempC = Vector._temp[3],
            tempD = Vector._temp[4],
            tempE = Vector._temp[5];
        
        for (var i = 0; i < pairs.length; i++) {
            var pair = pairs[i];
            
            if (!pair.isActive || pair.isSensor)
                continue;
            
            var collision = pair.collision,
                bodyA = collision.parentA,
                bodyB = collision.parentB,
                normal = collision.normal,
                tangent = collision.tangent,
                contacts = pair.activeContacts,
                contactShare = 1 / contacts.length;

            // update body velocities
            bodyA.velocity.x = bodyA.position.x - bodyA.positionPrev.x;
            bodyA.velocity.y = bodyA.position.y - bodyA.positionPrev.y;
            bodyB.velocity.x = bodyB.position.x - bodyB.positionPrev.x;
            bodyB.velocity.y = bodyB.position.y - bodyB.positionPrev.y;
            bodyA.angularVelocity = bodyA.angle - bodyA.anglePrev;
            bodyB.angularVelocity = bodyB.angle - bodyB.anglePrev;

            // resolve each contact
            for (var j = 0; j < contacts.length; j++) {
                var contact = contacts[j],
                    contactVertex = contact.vertex,
                    offsetA = Vector.sub(contactVertex, bodyA.position, tempA),
                    offsetB = Vector.sub(contactVertex, bodyB.position, tempB),
                    velocityPointA = Vector.add(bodyA.velocity, Vector.mult(Vector.perp(offsetA), bodyA.angularVelocity), tempC),
                    velocityPointB = Vector.add(bodyB.velocity, Vector.mult(Vector.perp(offsetB), bodyB.angularVelocity), tempD), 
                    relativeVelocity = Vector.sub(velocityPointA, velocityPointB, tempE),
                    normalVelocity = Vector.dot(normal, relativeVelocity);

                var tangentVelocity = Vector.dot(tangent, relativeVelocity),
                    tangentSpeed = Math.abs(tangentVelocity),
                    tangentVelocityDirection = Common.sign(tangentVelocity);

                // raw impulses
                var normalImpulse = (1 + pair.restitution) * normalVelocity,
                    normalForce = Common.clamp(pair.separation + normalVelocity, 0, 1) * Resolver._frictionNormalMultiplier;

                // coulomb friction
                var tangentImpulse = tangentVelocity,
                    maxFriction = Infinity;

                if (tangentSpeed > pair.friction * pair.frictionStatic * normalForce * timeScaleSquared) {
                    maxFriction = tangentSpeed;
                    tangentImpulse = Common.clamp(
                        pair.friction * tangentVelocityDirection * timeScaleSquared,
                        -maxFriction, maxFriction
                    );
                }

                // modify impulses accounting for mass, inertia and offset
                var oAcN = Vector.cross(offsetA, normal),
                    oBcN = Vector.cross(offsetB, normal),
                    share = contactShare / (bodyA.inverseMass + bodyB.inverseMass + bodyA.inverseInertia * oAcN * oAcN  + bodyB.inverseInertia * oBcN * oBcN);

                normalImpulse *= share;
                tangentImpulse *= share;

                // handle high velocity and resting collisions separately
                if (normalVelocity < 0 && normalVelocity * normalVelocity > Resolver._restingThresh * timeScaleSquared) {
                    // high normal velocity so clear cached contact normal impulse
                    contact.normalImpulse = 0;
                } else {
                    // solve resting collision constraints using Erin Catto's method (GDC08)
                    // impulse constraint tends to 0
                    var contactNormalImpulse = contact.normalImpulse;
                    contact.normalImpulse = Math.min(contact.normalImpulse + normalImpulse, 0);
                    normalImpulse = contact.normalImpulse - contactNormalImpulse;
                }

                // handle high velocity and resting collisions separately
                if (tangentVelocity * tangentVelocity > Resolver._restingThreshTangent * timeScaleSquared) {
                    // high tangent velocity so clear cached contact tangent impulse
                    contact.tangentImpulse = 0;
                } else {
                    // solve resting collision constraints using Erin Catto's method (GDC08)
                    // tangent impulse tends to -tangentSpeed or +tangentSpeed
                    var contactTangentImpulse = contact.tangentImpulse;
                    contact.tangentImpulse = Common.clamp(contact.tangentImpulse + tangentImpulse, -maxFriction, maxFriction);
                    tangentImpulse = contact.tangentImpulse - contactTangentImpulse;
                }

                // total impulse from contact
                impulse.x = (normal.x * normalImpulse) + (tangent.x * tangentImpulse);
                impulse.y = (normal.y * normalImpulse) + (tangent.y * tangentImpulse);
                
                // apply impulse from contact
                if (!(bodyA.isStatic || bodyA.isSleeping)) {
                    bodyA.positionPrev.x += impulse.x * bodyA.inverseMass;
                    bodyA.positionPrev.y += impulse.y * bodyA.inverseMass;
                    bodyA.anglePrev += Vector.cross(offsetA, impulse) * bodyA.inverseInertia;
                }

                if (!(bodyB.isStatic || bodyB.isSleeping)) {
                    bodyB.positionPrev.x -= impulse.x * bodyB.inverseMass;
                    bodyB.positionPrev.y -= impulse.y * bodyB.inverseMass;
                    bodyB.anglePrev -= Vector.cross(offsetB, impulse) * bodyB.inverseInertia;
                }
            }
        }
    };

})();

},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(_dereq_,module,exports){
/**
* The `Matter.SAT` module contains methods for detecting collisions using the Separating Axis Theorem.
*
* @class SAT
*/

// TODO: true circles and curves

var SAT = {};

module.exports = SAT;

var Vertices = _dereq_('../geometry/Vertices');
var Vector = _dereq_('../geometry/Vector');

(function() {

    /**
     * Detect collision between two bodies using the Separating Axis Theorem.
     * @method collides
     * @param {body} bodyA
     * @param {body} bodyB
     * @param {collision} previousCollision
     * @return {collision} collision
     */
    SAT.collides = function(bodyA, bodyB, previousCollision) {
        var overlapAB,
            overlapBA, 
            minOverlap,
            collision,
            canReusePrevCol = false;

        if (previousCollision) {
            // estimate total motion
            var parentA = bodyA.parent,
                parentB = bodyB.parent,
                motion = parentA.speed * parentA.speed + parentA.angularSpeed * parentA.angularSpeed
                       + parentB.speed * parentB.speed + parentB.angularSpeed * parentB.angularSpeed;

            // we may be able to (partially) reuse collision result 
            // but only safe if collision was resting
            canReusePrevCol = previousCollision && previousCollision.collided && motion < 0.2;

            // reuse collision object
            collision = previousCollision;
        } else {
            collision = { collided: false, bodyA: bodyA, bodyB: bodyB };
        }

        if (previousCollision && canReusePrevCol) {
            // if we can reuse the collision result
            // we only need to test the previously found axis
            var axisBodyA = collision.axisBody,
                axisBodyB = axisBodyA === bodyA ? bodyB : bodyA,
                axes = [axisBodyA.axes[previousCollision.axisNumber]];

            minOverlap = _overlapAxes(axisBodyA.vertices, axisBodyB.vertices, axes);
            collision.reused = true;

            if (minOverlap.overlap <= 0) {
                collision.collided = false;
                return collision;
            }
        } else {
            // if we can't reuse a result, perform a full SAT test

            overlapAB = _overlapAxes(bodyA.vertices, bodyB.vertices, bodyA.axes);

            if (overlapAB.overlap <= 0) {
                collision.collided = false;
                return collision;
            }

            overlapBA = _overlapAxes(bodyB.vertices, bodyA.vertices, bodyB.axes);

            if (overlapBA.overlap <= 0) {
                collision.collided = false;
                return collision;
            }

            if (overlapAB.overlap < overlapBA.overlap) {
                minOverlap = overlapAB;
                collision.axisBody = bodyA;
            } else {
                minOverlap = overlapBA;
                collision.axisBody = bodyB;
            }

            // important for reuse later
            collision.axisNumber = minOverlap.axisNumber;
        }

        collision.bodyA = bodyA.id < bodyB.id ? bodyA : bodyB;
        collision.bodyB = bodyA.id < bodyB.id ? bodyB : bodyA;
        collision.collided = true;
        collision.depth = minOverlap.overlap;
        collision.parentA = collision.bodyA.parent;
        collision.parentB = collision.bodyB.parent;
        
        bodyA = collision.bodyA;
        bodyB = collision.bodyB;

        // ensure normal is facing away from bodyA
        if (Vector.dot(minOverlap.axis, Vector.sub(bodyB.position, bodyA.position)) < 0) {
            collision.normal = {
                x: minOverlap.axis.x,
                y: minOverlap.axis.y
            };
        } else {
            collision.normal = {
                x: -minOverlap.axis.x,
                y: -minOverlap.axis.y
            };
        }

        collision.tangent = Vector.perp(collision.normal);

        collision.penetration = collision.penetration || {};
        collision.penetration.x = collision.normal.x * collision.depth;
        collision.penetration.y = collision.normal.y * collision.depth; 

        // find support points, there is always either exactly one or two
        var verticesB = _findSupports(bodyA, bodyB, collision.normal),
            supports = [];

        // find the supports from bodyB that are inside bodyA
        if (Vertices.contains(bodyA.vertices, verticesB[0]))
            supports.push(verticesB[0]);

        if (Vertices.contains(bodyA.vertices, verticesB[1]))
            supports.push(verticesB[1]);

        // find the supports from bodyA that are inside bodyB
        if (supports.length < 2) {
            var verticesA = _findSupports(bodyB, bodyA, Vector.neg(collision.normal));
                
            if (Vertices.contains(bodyB.vertices, verticesA[0]))
                supports.push(verticesA[0]);

            if (supports.length < 2 && Vertices.contains(bodyB.vertices, verticesA[1]))
                supports.push(verticesA[1]);
        }

        // account for the edge case of overlapping but no vertex containment
        if (supports.length < 1)
            supports = [verticesB[0]];
        
        collision.supports = supports;

        return collision;
    };

    /**
     * Find the overlap between two sets of vertices.
     * @method _overlapAxes
     * @private
     * @param {} verticesA
     * @param {} verticesB
     * @param {} axes
     * @return result
     */
    var _overlapAxes = function(verticesA, verticesB, axes) {
        var projectionA = Vector._temp[0], 
            projectionB = Vector._temp[1],
            result = { overlap: Number.MAX_VALUE },
            overlap,
            axis;

        for (var i = 0; i < axes.length; i++) {
            axis = axes[i];

            _projectToAxis(projectionA, verticesA, axis);
            _projectToAxis(projectionB, verticesB, axis);

            overlap = Math.min(projectionA.max - projectionB.min, projectionB.max - projectionA.min);

            if (overlap <= 0) {
                result.overlap = overlap;
                return result;
            }

            if (overlap < result.overlap) {
                result.overlap = overlap;
                result.axis = axis;
                result.axisNumber = i;
            }
        }

        return result;
    };

    /**
     * Projects vertices on an axis and returns an interval.
     * @method _projectToAxis
     * @private
     * @param {} projection
     * @param {} vertices
     * @param {} axis
     */
    var _projectToAxis = function(projection, vertices, axis) {
        var min = Vector.dot(vertices[0], axis),
            max = min;

        for (var i = 1; i < vertices.length; i += 1) {
            var dot = Vector.dot(vertices[i], axis);

            if (dot > max) { 
                max = dot; 
            } else if (dot < min) { 
                min = dot; 
            }
        }

        projection.min = min;
        projection.max = max;
    };
    
    /**
     * Finds supporting vertices given two bodies along a given direction using hill-climbing.
     * @method _findSupports
     * @private
     * @param {} bodyA
     * @param {} bodyB
     * @param {} normal
     * @return [vector]
     */
    var _findSupports = function(bodyA, bodyB, normal) {
        var nearestDistance = Number.MAX_VALUE,
            vertexToBody = Vector._temp[0],
            vertices = bodyB.vertices,
            bodyAPosition = bodyA.position,
            distance,
            vertex,
            vertexA,
            vertexB;

        // find closest vertex on bodyB
        for (var i = 0; i < vertices.length; i++) {
            vertex = vertices[i];
            vertexToBody.x = vertex.x - bodyAPosition.x;
            vertexToBody.y = vertex.y - bodyAPosition.y;
            distance = -Vector.dot(normal, vertexToBody);

            if (distance < nearestDistance) {
                nearestDistance = distance;
                vertexA = vertex;
            }
        }

        // find next closest vertex using the two connected to it
        var prevIndex = vertexA.index - 1 >= 0 ? vertexA.index - 1 : vertices.length - 1;
        vertex = vertices[prevIndex];
        vertexToBody.x = vertex.x - bodyAPosition.x;
        vertexToBody.y = vertex.y - bodyAPosition.y;
        nearestDistance = -Vector.dot(normal, vertexToBody);
        vertexB = vertex;

        var nextIndex = (vertexA.index + 1) % vertices.length;
        vertex = vertices[nextIndex];
        vertexToBody.x = vertex.x - bodyAPosition.x;
        vertexToBody.y = vertex.y - bodyAPosition.y;
        distance = -Vector.dot(normal, vertexToBody);
        if (distance < nearestDistance) {
            vertexB = vertex;
        }

        return [vertexA, vertexB];
    };

})();

},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(_dereq_,module,exports){
/**
* The `Matter.Constraint` module contains methods for creating and manipulating constraints.
* Constraints are used for specifying that a fixed distance must be maintained between two bodies (or a body and a fixed world-space position).
* The stiffness of constraints can be modified to create springs or elastic.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Constraint
*/

// TODO: fix instability issues with torque
// TODO: linked constraints
// TODO: breakable constraints
// TODO: collision constraints
// TODO: allow constrained bodies to sleep
// TODO: handle 0 length constraints properly
// TODO: impulse caching and warming

var Constraint = {};

module.exports = Constraint;

var Vertices = _dereq_('../geometry/Vertices');
var Vector = _dereq_('../geometry/Vector');
var Sleeping = _dereq_('../core/Sleeping');
var Bounds = _dereq_('../geometry/Bounds');
var Axes = _dereq_('../geometry/Axes');
var Common = _dereq_('../core/Common');

(function() {

    var _minLength = 0.000001,
        _minDifference = 0.001;

    /**
     * Creates a new constraint.
     * All properties have default values, and many are pre-calculated automatically based on other properties.
     * See the properties section below for detailed information on what you can pass via the `options` object.
     * @method create
     * @param {} options
     * @return {constraint} constraint
     */
    Constraint.create = function(options) {
        var constraint = options;

        // if bodies defined but no points, use body centre
        if (constraint.bodyA && !constraint.pointA)
            constraint.pointA = { x: 0, y: 0 };
        if (constraint.bodyB && !constraint.pointB)
            constraint.pointB = { x: 0, y: 0 };

        // calculate static length using initial world space points
        var initialPointA = constraint.bodyA ? Vector.add(constraint.bodyA.position, constraint.pointA) : constraint.pointA,
            initialPointB = constraint.bodyB ? Vector.add(constraint.bodyB.position, constraint.pointB) : constraint.pointB,
            length = Vector.magnitude(Vector.sub(initialPointA, initialPointB));
    
        constraint.length = constraint.length || length || _minLength;

        // render
        var render = {
            visible: true,
            lineWidth: 2,
            strokeStyle: '#ffffff'
        };
        
        constraint.render = Common.extend(render, constraint.render);

        // option defaults
        constraint.id = constraint.id || Common.nextId();
        constraint.label = constraint.label || 'Constraint';
        constraint.type = 'constraint';
        constraint.stiffness = constraint.stiffness || 1;
        constraint.angularStiffness = constraint.angularStiffness || 0;
        constraint.angleA = constraint.bodyA ? constraint.bodyA.angle : constraint.angleA;
        constraint.angleB = constraint.bodyB ? constraint.bodyB.angle : constraint.angleB;
        constraint.plugin = {};

        return constraint;
    };

    /**
     * Solves all constraints in a list of collisions.
     * @private
     * @method solveAll
     * @param {constraint[]} constraints
     * @param {number} timeScale
     */
    Constraint.solveAll = function(constraints, timeScale) {
        for (var i = 0; i < constraints.length; i++) {
            Constraint.solve(constraints[i], timeScale);
        }
    };

    /**
     * Solves a distance constraint with Gauss-Siedel method.
     * @private
     * @method solve
     * @param {constraint} constraint
     * @param {number} timeScale
     */
    Constraint.solve = function(constraint, timeScale) {
        var bodyA = constraint.bodyA,
            bodyB = constraint.bodyB,
            pointA = constraint.pointA,
            pointB = constraint.pointB;

        // update reference angle
        if (bodyA && !bodyA.isStatic) {
            constraint.pointA = Vector.rotate(pointA, bodyA.angle - constraint.angleA);
            constraint.angleA = bodyA.angle;
        }
        
        // update reference angle
        if (bodyB && !bodyB.isStatic) {
            constraint.pointB = Vector.rotate(pointB, bodyB.angle - constraint.angleB);
            constraint.angleB = bodyB.angle;
        }

        var pointAWorld = pointA,
            pointBWorld = pointB;

        if (bodyA) pointAWorld = Vector.add(bodyA.position, pointA);
        if (bodyB) pointBWorld = Vector.add(bodyB.position, pointB);

        if (!pointAWorld || !pointBWorld)
            return;

        var delta = Vector.sub(pointAWorld, pointBWorld),
            currentLength = Vector.magnitude(delta);

        // prevent singularity
        if (currentLength === 0)
            currentLength = _minLength;

        // solve distance constraint with Gauss-Siedel method
        var difference = (currentLength - constraint.length) / currentLength,
            normal = Vector.div(delta, currentLength),
            force = Vector.mult(delta, difference * 0.5 * constraint.stiffness * timeScale * timeScale);
        
        // if difference is very small, we can skip
        if (Math.abs(1 - (currentLength / constraint.length)) < _minDifference * timeScale)
            return;

        var velocityPointA,
            velocityPointB,
            offsetA,
            offsetB,
            oAn,
            oBn,
            bodyADenom,
            bodyBDenom;
    
        if (bodyA && !bodyA.isStatic) {
            // point body offset
            offsetA = { 
                x: pointAWorld.x - bodyA.position.x + force.x, 
                y: pointAWorld.y - bodyA.position.y + force.y
            };
            
            // update velocity
            bodyA.velocity.x = bodyA.position.x - bodyA.positionPrev.x;
            bodyA.velocity.y = bodyA.position.y - bodyA.positionPrev.y;
            bodyA.angularVelocity = bodyA.angle - bodyA.anglePrev;
            
            // find point velocity and body mass
            velocityPointA = Vector.add(bodyA.velocity, Vector.mult(Vector.perp(offsetA), bodyA.angularVelocity));
            oAn = Vector.dot(offsetA, normal);
            bodyADenom = bodyA.inverseMass + bodyA.inverseInertia * oAn * oAn;
        } else {
            velocityPointA = { x: 0, y: 0 };
            bodyADenom = bodyA ? bodyA.inverseMass : 0;
        }
            
        if (bodyB && !bodyB.isStatic) {
            // point body offset
            offsetB = { 
                x: pointBWorld.x - bodyB.position.x - force.x, 
                y: pointBWorld.y - bodyB.position.y - force.y 
            };
            
            // update velocity
            bodyB.velocity.x = bodyB.position.x - bodyB.positionPrev.x;
            bodyB.velocity.y = bodyB.position.y - bodyB.positionPrev.y;
            bodyB.angularVelocity = bodyB.angle - bodyB.anglePrev;

            // find point velocity and body mass
            velocityPointB = Vector.add(bodyB.velocity, Vector.mult(Vector.perp(offsetB), bodyB.angularVelocity));
            oBn = Vector.dot(offsetB, normal);
            bodyBDenom = bodyB.inverseMass + bodyB.inverseInertia * oBn * oBn;
        } else {
            velocityPointB = { x: 0, y: 0 };
            bodyBDenom = bodyB ? bodyB.inverseMass : 0;
        }
        
        var relativeVelocity = Vector.sub(velocityPointB, velocityPointA),
            normalImpulse = Vector.dot(normal, relativeVelocity) / (bodyADenom + bodyBDenom);
    
        if (normalImpulse > 0) normalImpulse = 0;
    
        var normalVelocity = {
            x: normal.x * normalImpulse, 
            y: normal.y * normalImpulse
        };

        var torque;
 
        if (bodyA && !bodyA.isStatic) {
            torque = Vector.cross(offsetA, normalVelocity) * bodyA.inverseInertia * (1 - constraint.angularStiffness);

            // keep track of applied impulses for post solving
            bodyA.constraintImpulse.x -= force.x;
            bodyA.constraintImpulse.y -= force.y;
            bodyA.constraintImpulse.angle += torque;

            // apply forces
            bodyA.position.x -= force.x;
            bodyA.position.y -= force.y;
            bodyA.angle += torque;
        }

        if (bodyB && !bodyB.isStatic) {
            torque = Vector.cross(offsetB, normalVelocity) * bodyB.inverseInertia * (1 - constraint.angularStiffness);

            // keep track of applied impulses for post solving
            bodyB.constraintImpulse.x += force.x;
            bodyB.constraintImpulse.y += force.y;
            bodyB.constraintImpulse.angle -= torque;
            
            // apply forces
            bodyB.position.x += force.x;
            bodyB.position.y += force.y;
            bodyB.angle -= torque;
        }

    };

    /**
     * Performs body updates required after solving constraints.
     * @private
     * @method postSolveAll
     * @param {body[]} bodies
     */
    Constraint.postSolveAll = function(bodies) {
        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i],
                impulse = body.constraintImpulse;

            if (impulse.x === 0 && impulse.y === 0 && impulse.angle === 0) {
                continue;
            }

            Sleeping.set(body, false);

            // update geometry and reset
            for (var j = 0; j < body.parts.length; j++) {
                var part = body.parts[j];
                
                Vertices.translate(part.vertices, impulse);

                if (j > 0) {
                    part.position.x += impulse.x;
                    part.position.y += impulse.y;
                }

                if (impulse.angle !== 0) {
                    Vertices.rotate(part.vertices, impulse.angle, body.position);
                    Axes.rotate(part.axes, impulse.angle);
                    if (j > 0) {
                        Vector.rotateAbout(part.position, impulse.angle, body.position, part.position);
                    }
                }

                Bounds.update(part.bounds, part.vertices, body.velocity);
            }

            impulse.angle = 0;
            impulse.x = 0;
            impulse.y = 0;
        }
    };

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.
     *
     * @property id
     * @type number
     */

    /**
     * A `String` denoting the type of object.
     *
     * @property type
     * @type string
     * @default "constraint"
     * @readOnly
     */

    /**
     * An arbitrary `String` name to help the user identify and manage bodies.
     *
     * @property label
     * @type string
     * @default "Constraint"
     */

    /**
     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.
     *
     * @property render
     * @type object
     */

    /**
     * A flag that indicates if the constraint should be rendered.
     *
     * @property render.visible
     * @type boolean
     * @default true
     */

    /**
     * A `Number` that defines the line width to use when rendering the constraint outline.
     * A value of `0` means no outline will be rendered.
     *
     * @property render.lineWidth
     * @type number
     * @default 2
     */

    /**
     * A `String` that defines the stroke style to use when rendering the constraint outline.
     * It is the same as when using a canvas, so it accepts CSS style property values.
     *
     * @property render.strokeStyle
     * @type string
     * @default a random colour
     */

    /**
     * The first possible `Body` that this constraint is attached to.
     *
     * @property bodyA
     * @type body
     * @default null
     */

    /**
     * The second possible `Body` that this constraint is attached to.
     *
     * @property bodyB
     * @type body
     * @default null
     */

    /**
     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyA` if defined, otherwise a world-space position.
     *
     * @property pointA
     * @type vector
     * @default { x: 0, y: 0 }
     */

    /**
     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyA` if defined, otherwise a world-space position.
     *
     * @property pointB
     * @type vector
     * @default { x: 0, y: 0 }
     */

    /**
     * A `Number` that specifies the stiffness of the constraint, i.e. the rate at which it returns to its resting `constraint.length`.
     * A value of `1` means the constraint should be very stiff.
     * A value of `0.2` means the constraint acts like a soft spring.
     *
     * @property stiffness
     * @type number
     * @default 1
     */

    /**
     * A `Number` that specifies the target resting length of the constraint. 
     * It is calculated automatically in `Constraint.create` from initial positions of the `constraint.bodyA` and `constraint.bodyB`.
     *
     * @property length
     * @type number
     */

    /**
     * An object reserved for storing plugin-specific properties.
     *
     * @property plugin
     * @type {}
     */

})();

},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(_dereq_,module,exports){
/**
* The `Matter.MouseConstraint` module contains methods for creating mouse constraints.
* Mouse constraints are used for allowing user interaction, providing the ability to move bodies via the mouse or touch.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class MouseConstraint
*/

var MouseConstraint = {};

module.exports = MouseConstraint;

var Vertices = _dereq_('../geometry/Vertices');
var Sleeping = _dereq_('../core/Sleeping');
var Mouse = _dereq_('../core/Mouse');
var Events = _dereq_('../core/Events');
var Detector = _dereq_('../collision/Detector');
var Constraint = _dereq_('./Constraint');
var Composite = _dereq_('../body/Composite');
var Common = _dereq_('../core/Common');
var Bounds = _dereq_('../geometry/Bounds');

(function() {

    /**
     * Creates a new mouse constraint.
     * All properties have default values, and many are pre-calculated automatically based on other properties.
     * See the properties section below for detailed information on what you can pass via the `options` object.
     * @method create
     * @param {engine} engine
     * @param {} options
     * @return {MouseConstraint} A new MouseConstraint
     */
    MouseConstraint.create = function(engine, options) {
        var mouse = (engine ? engine.mouse : null) || (options ? options.mouse : null);

        if (!mouse) {
            if (engine && engine.render && engine.render.canvas) {
                mouse = Mouse.create(engine.render.canvas);
            } else if (options && options.element) {
                mouse = Mouse.create(options.element);
            } else {
                mouse = Mouse.create();
                Common.warn('MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected');
            }
        }

        var constraint = Constraint.create({ 
            label: 'Mouse Constraint',
            pointA: mouse.position,
            pointB: { x: 0, y: 0 },
            length: 0.01, 
            stiffness: 0.1,
            angularStiffness: 1,
            render: {
                strokeStyle: '#90EE90',
                lineWidth: 3
            }
        });

        var defaults = {
            type: 'mouseConstraint',
            mouse: mouse,
            element: null,
            body: null,
            constraint: constraint,
            collisionFilter: {
                category: 0x0001,
                mask: 0xFFFFFFFF,
                group: 0
            }
        };

        var mouseConstraint = Common.extend(defaults, options);

        Events.on(engine, 'beforeUpdate', function() {
            var allBodies = Composite.allBodies(engine.world);
            MouseConstraint.update(mouseConstraint, allBodies);
            _triggerEvents(mouseConstraint);
        });

        return mouseConstraint;
    };

    /**
     * Updates the given mouse constraint.
     * @private
     * @method update
     * @param {MouseConstraint} mouseConstraint
     * @param {body[]} bodies
     */
    MouseConstraint.update = function(mouseConstraint, bodies) {
        var mouse = mouseConstraint.mouse,
            constraint = mouseConstraint.constraint,
            body = mouseConstraint.body;

        if (mouse.button === 0) {
            if (!constraint.bodyB) {
                for (var i = 0; i < bodies.length; i++) {
                    body = bodies[i];
                    if (Bounds.contains(body.bounds, mouse.position) 
                            && Detector.canCollide(body.collisionFilter, mouseConstraint.collisionFilter)) {
                        for (var j = body.parts.length > 1 ? 1 : 0; j < body.parts.length; j++) {
                            var part = body.parts[j];
                            if (Vertices.contains(part.vertices, mouse.position)) {
                                constraint.pointA = mouse.position;
                                constraint.bodyB = mouseConstraint.body = body;
                                constraint.pointB = { x: mouse.position.x - body.position.x, y: mouse.position.y - body.position.y };
                                constraint.angleB = body.angle;

                                Sleeping.set(body, false);
                                Events.trigger(mouseConstraint, 'startdrag', { mouse: mouse, body: body });

                                break;
                            }
                        }
                    }
                }
            } else {
                Sleeping.set(constraint.bodyB, false);
                constraint.pointA = mouse.position;
            }
        } else {
            constraint.bodyB = mouseConstraint.body = null;
            constraint.pointB = null;

            if (body)
                Events.trigger(mouseConstraint, 'enddrag', { mouse: mouse, body: body });
        }
    };

    /**
     * Triggers mouse constraint events.
     * @method _triggerEvents
     * @private
     * @param {mouse} mouseConstraint
     */
    var _triggerEvents = function(mouseConstraint) {
        var mouse = mouseConstraint.mouse,
            mouseEvents = mouse.sourceEvents;

        if (mouseEvents.mousemove)
            Events.trigger(mouseConstraint, 'mousemove', { mouse: mouse });

        if (mouseEvents.mousedown)
            Events.trigger(mouseConstraint, 'mousedown', { mouse: mouse });

        if (mouseEvents.mouseup)
            Events.trigger(mouseConstraint, 'mouseup', { mouse: mouse });

        // reset the mouse state ready for the next step
        Mouse.clearSourceEvents(mouse);
    };

    /*
    *
    *  Events Documentation
    *
    */

    /**
    * Fired when the mouse has moved (or a touch moves) during the last step
    *
    * @event mousemove
    * @param {} event An event object
    * @param {mouse} event.mouse The engine's mouse instance
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when the mouse is down (or a touch has started) during the last step
    *
    * @event mousedown
    * @param {} event An event object
    * @param {mouse} event.mouse The engine's mouse instance
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when the mouse is up (or a touch has ended) during the last step
    *
    * @event mouseup
    * @param {} event An event object
    * @param {mouse} event.mouse The engine's mouse instance
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when the user starts dragging a body
    *
    * @event startdrag
    * @param {} event An event object
    * @param {mouse} event.mouse The engine's mouse instance
    * @param {body} event.body The body being dragged
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired when the user ends dragging a body
    *
    * @event enddrag
    * @param {} event An event object
    * @param {mouse} event.mouse The engine's mouse instance
    * @param {body} event.body The body that has stopped being dragged
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * A `String` denoting the type of object.
     *
     * @property type
     * @type string
     * @default "constraint"
     * @readOnly
     */

    /**
     * The `Mouse` instance in use. If not supplied in `MouseConstraint.create`, one will be created.
     *
     * @property mouse
     * @type mouse
     * @default mouse
     */

    /**
     * The `Body` that is currently being moved by the user, or `null` if no body.
     *
     * @property body
     * @type body
     * @default null
     */

    /**
     * The `Constraint` object that is used to move the body during interaction.
     *
     * @property constraint
     * @type constraint
     */

    /**
     * An `Object` that specifies the collision filter properties.
     * The collision filter allows the user to define which types of body this mouse constraint can interact with.
     * See `body.collisionFilter` for more information.
     *
     * @property collisionFilter
     * @type object
     */

})();

},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(_dereq_,module,exports){
/**
* The `Matter.Common` module contains utility functions that are common to all modules.
*
* @class Common
*/

var Common = {};

module.exports = Common;

(function() {

    Common._nextId = 0;
    Common._seed = 0;

    /**
     * Extends the object in the first argument using the object in the second argument.
     * @method extend
     * @param {} obj
     * @param {boolean} deep
     * @return {} obj extended
     */
    Common.extend = function(obj, deep) {
        var argsStart,
            args,
            deepClone;

        if (typeof deep === 'boolean') {
            argsStart = 2;
            deepClone = deep;
        } else {
            argsStart = 1;
            deepClone = true;
        }

        for (var i = argsStart; i < arguments.length; i++) {
            var source = arguments[i];

            if (source) {
                for (var prop in source) {
                    if (deepClone && source[prop] && source[prop].constructor === Object) {
                        if (!obj[prop] || obj[prop].constructor === Object) {
                            obj[prop] = obj[prop] || {};
                            Common.extend(obj[prop], deepClone, source[prop]);
                        } else {
                            obj[prop] = source[prop];
                        }
                    } else {
                        obj[prop] = source[prop];
                    }
                }
            }
        }
        
        return obj;
    };

    /**
     * Creates a new clone of the object, if deep is true references will also be cloned.
     * @method clone
     * @param {} obj
     * @param {bool} deep
     * @return {} obj cloned
     */
    Common.clone = function(obj, deep) {
        return Common.extend({}, deep, obj);
    };

    /**
     * Returns the list of keys for the given object.
     * @method keys
     * @param {} obj
     * @return {string[]} keys
     */
    Common.keys = function(obj) {
        if (Object.keys)
            return Object.keys(obj);

        // avoid hasOwnProperty for performance
        var keys = [];
        for (var key in obj)
            keys.push(key);
        return keys;
    };

    /**
     * Returns the list of values for the given object.
     * @method values
     * @param {} obj
     * @return {array} Array of the objects property values
     */
    Common.values = function(obj) {
        var values = [];
        
        if (Object.keys) {
            var keys = Object.keys(obj);
            for (var i = 0; i < keys.length; i++) {
                values.push(obj[keys[i]]);
            }
            return values;
        }
        
        // avoid hasOwnProperty for performance
        for (var key in obj)
            values.push(obj[key]);
        return values;
    };

    /**
     * Gets a value from `base` relative to the `path` string.
     * @method get
     * @param {} obj The base object
     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'
     * @param {number} [begin] Path slice begin
     * @param {number} [end] Path slice end
     * @return {} The object at the given path
     */
    Common.get = function(obj, path, begin, end) {
        path = path.split('.').slice(begin, end);

        for (var i = 0; i < path.length; i += 1) {
            obj = obj[path[i]];
        }

        return obj;
    };

    /**
     * Sets a value on `base` relative to the given `path` string.
     * @method set
     * @param {} obj The base object
     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'
     * @param {} val The value to set
     * @param {number} [begin] Path slice begin
     * @param {number} [end] Path slice end
     * @return {} Pass through `val` for chaining
     */
    Common.set = function(obj, path, val, begin, end) {
        var parts = path.split('.').slice(begin, end);
        Common.get(obj, path, 0, -1)[parts[parts.length - 1]] = val;
        return val;
    };

    /**
     * Returns a hex colour string made by lightening or darkening color by percent.
     * @method shadeColor
     * @param {string} color
     * @param {number} percent
     * @return {string} A hex colour
     */
    Common.shadeColor = function(color, percent) {   
        // http://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color
        var colorInteger = parseInt(color.slice(1),16), 
            amount = Math.round(2.55 * percent), 
            R = (colorInteger >> 16) + amount, 
            B = (colorInteger >> 8 & 0x00FF) + amount, 
            G = (colorInteger & 0x0000FF) + amount;
        return "#" + (0x1000000 + (R < 255 ? R < 1 ? 0 : R :255) * 0x10000 
                + (B < 255 ? B < 1 ? 0 : B : 255) * 0x100 
                + (G < 255 ? G < 1 ? 0 : G : 255)).toString(16).slice(1);
    };

    /**
     * Shuffles the given array in-place.
     * The function uses a seeded random generator.
     * @method shuffle
     * @param {array} array
     * @return {array} array shuffled randomly
     */
    Common.shuffle = function(array) {
        for (var i = array.length - 1; i > 0; i--) {
            var j = Math.floor(Common.random() * (i + 1));
            var temp = array[i];
            array[i] = array[j];
            array[j] = temp;
        }
        return array;
    };

    /**
     * Randomly chooses a value from a list with equal probability.
     * The function uses a seeded random generator.
     * @method choose
     * @param {array} choices
     * @return {object} A random choice object from the array
     */
    Common.choose = function(choices) {
        return choices[Math.floor(Common.random() * choices.length)];
    };

    /**
     * Returns true if the object is a HTMLElement, otherwise false.
     * @method isElement
     * @param {object} obj
     * @return {boolean} True if the object is a HTMLElement, otherwise false
     */
    Common.isElement = function(obj) {
        // http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object
        try {
            return obj instanceof HTMLElement;
        }
        catch(e){
            return (typeof obj==="object") &&
              (obj.nodeType===1) && (typeof obj.style === "object") &&
              (typeof obj.ownerDocument ==="object");
        }
    };

    /**
     * Returns true if the object is an array.
     * @method isArray
     * @param {object} obj
     * @return {boolean} True if the object is an array, otherwise false
     */
    Common.isArray = function(obj) {
        return Object.prototype.toString.call(obj) === '[object Array]';
    };

    /**
     * Returns true if the object is a function.
     * @method isFunction
     * @param {object} obj
     * @return {boolean} True if the object is a function, otherwise false
     */
    Common.isFunction = function(obj) {
        return typeof obj === "function";
    };

    /**
     * Returns true if the object is a plain object.
     * @method isPlainObject
     * @param {object} obj
     * @return {boolean} True if the object is a plain object, otherwise false
     */
    Common.isPlainObject = function(obj) {
        return typeof obj === 'object' && obj.constructor === Object;
    };

    /**
     * Returns true if the object is a string.
     * @method isString
     * @param {object} obj
     * @return {boolean} True if the object is a string, otherwise false
     */
    Common.isString = function(obj) {
        return toString.call(obj) === '[object String]';
    };
    
    /**
     * Returns the given value clamped between a minimum and maximum value.
     * @method clamp
     * @param {number} value
     * @param {number} min
     * @param {number} max
     * @return {number} The value clamped between min and max inclusive
     */
    Common.clamp = function(value, min, max) {
        if (value < min)
            return min;
        if (value > max)
            return max;
        return value;
    };
    
    /**
     * Returns the sign of the given value.
     * @method sign
     * @param {number} value
     * @return {number} -1 if negative, +1 if 0 or positive
     */
    Common.sign = function(value) {
        return value < 0 ? -1 : 1;
    };
    
    /**
     * Returns the current timestamp (high-res if available).
     * @method now
     * @return {number} the current timestamp (high-res if available)
     */
    Common.now = function() {
        // http://stackoverflow.com/questions/221294/how-do-you-get-a-timestamp-in-javascript
        // https://gist.github.com/davidwaterston/2982531

        var performance = window.performance || {};

        performance.now = (function() {
            return performance.now    ||
            performance.webkitNow     ||
            performance.msNow         ||
            performance.oNow          ||
            performance.mozNow        ||
            function() { return +(new Date()); };
        })();
              
        return performance.now();
    };
    
    /**
     * Returns a random value between a minimum and a maximum value inclusive.
     * The function uses a seeded random generator.
     * @method random
     * @param {number} min
     * @param {number} max
     * @return {number} A random number between min and max inclusive
     */
    Common.random = function(min, max) {
        min = (typeof min !== "undefined") ? min : 0;
        max = (typeof max !== "undefined") ? max : 1;
        return min + _seededRandom() * (max - min);
    };

    var _seededRandom = function() {
        // https://gist.github.com/ngryman/3830489
        Common._seed = (Common._seed * 9301 + 49297) % 233280;
        return Common._seed / 233280;
    };

    /**
     * Converts a CSS hex colour string into an integer.
     * @method colorToNumber
     * @param {string} colorString
     * @return {number} An integer representing the CSS hex string
     */
    Common.colorToNumber = function(colorString) {
        colorString = colorString.replace('#','');

        if (colorString.length == 3) {
            colorString = colorString.charAt(0) + colorString.charAt(0)
                        + colorString.charAt(1) + colorString.charAt(1)
                        + colorString.charAt(2) + colorString.charAt(2);
        }

        return parseInt(colorString, 16);
    };

    /**
     * The console logging level to use, where each level includes all levels above and excludes the levels below.
     * The default level is 'debug' which shows all console messages.  
     *
     * Possible level values are:
     * - 0 = None
     * - 1 = Debug
     * - 2 = Info
     * - 3 = Warn
     * - 4 = Error
     * @property Common.logLevel
     * @type {Number}
     * @default 1
     */
    Common.logLevel = 1;

    /**
     * Shows a `console.log` message only if the current `Common.logLevel` allows it.
     * The message will be prefixed with 'matter-js' to make it easily identifiable.
     * @method log
     * @param ...objs {} The objects to log.
     */
    Common.log = function() {
        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {
            console.log.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));
        }
    };

    /**
     * Shows a `console.info` message only if the current `Common.logLevel` allows it.
     * The message will be prefixed with 'matter-js' to make it easily identifiable.
     * @method info
     * @param ...objs {} The objects to log.
     */
    Common.info = function() {
        if (console && Common.logLevel > 0 && Common.logLevel <= 2) {
            console.info.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));
        }
    };

    /**
     * Shows a `console.warn` message only if the current `Common.logLevel` allows it.
     * The message will be prefixed with 'matter-js' to make it easily identifiable.
     * @method warn
     * @param ...objs {} The objects to log.
     */
    Common.warn = function() {
        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {
            console.warn.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));
        }
    };

    /**
     * Returns the next unique sequential ID.
     * @method nextId
     * @return {Number} Unique sequential ID
     */
    Common.nextId = function() {
        return Common._nextId++;
    };

    /**
     * A cross browser compatible indexOf implementation.
     * @method indexOf
     * @param {array} haystack
     * @param {object} needle
     * @return {number} The position of needle in haystack, otherwise -1.
     */
    Common.indexOf = function(haystack, needle) {
        if (haystack.indexOf)
            return haystack.indexOf(needle);

        for (var i = 0; i < haystack.length; i++) {
            if (haystack[i] === needle)
                return i;
        }

        return -1;
    };

    /**
     * A cross browser compatible array map implementation.
     * @method map
     * @param {array} list
     * @param {function} func
     * @return {array} Values from list transformed by func.
     */
    Common.map = function(list, func) {
        if (list.map) {
            return list.map(func);
        }

        var mapped = [];

        for (var i = 0; i < list.length; i += 1) {
            mapped.push(func(list[i]));
        }

        return mapped;
    };

    /**
     * Takes a directed graph and returns the partially ordered set of vertices in topological order.
     * Circular dependencies are allowed.
     * @method topologicalSort
     * @param {object} graph
     * @return {array} Partially ordered set of vertices in topological order.
     */
    Common.topologicalSort = function(graph) {
        // https://mgechev.github.io/javascript-algorithms/graphs_others_topological-sort.js.html
        var result = [],
            visited = [],
            temp = [];

        for (var node in graph) {
            if (!visited[node] && !temp[node]) {
                _topologicalSort(node, visited, temp, graph, result);
            }
        }

        return result;
    };

    var _topologicalSort = function(node, visited, temp, graph, result) {
        var neighbors = graph[node] || [];
        temp[node] = true;

        for (var i = 0; i < neighbors.length; i += 1) {
            var neighbor = neighbors[i];

            if (temp[neighbor]) {
                // skip circular dependencies
                continue;
            }

            if (!visited[neighbor]) {
                _topologicalSort(neighbor, visited, temp, graph, result);
            }
        }

        temp[node] = false;
        visited[node] = true;

        result.push(node);
    };

    /**
     * Takes _n_ functions as arguments and returns a new function that calls them in order.
     * The arguments applied when calling the new function will also be applied to every function passed.
     * The value of `this` refers to the last value returned in the chain that was not `undefined`.
     * Therefore if a passed function does not return a value, the previously returned value is maintained.
     * After all passed functions have been called the new function returns the last returned value (if any).
     * If any of the passed functions are a chain, then the chain will be flattened.
     * @method chain
     * @param ...funcs {function} The functions to chain.
     * @return {function} A new function that calls the passed functions in order.
     */
    Common.chain = function() {
        var funcs = [];

        for (var i = 0; i < arguments.length; i += 1) {
            var func = arguments[i];

            if (func._chained) {
                // flatten already chained functions
                funcs.push.apply(funcs, func._chained);
            } else {
                funcs.push(func);
            }
        }

        var chain = function() {
            // https://github.com/GoogleChrome/devtools-docs/issues/53#issuecomment-51941358
            var lastResult,
                args = new Array(arguments.length);

            for (var i = 0, l = arguments.length; i < l; i++) {
                args[i] = arguments[i];
            }

            for (i = 0; i < funcs.length; i += 1) {
                var result = funcs[i].apply(lastResult, args);

                if (typeof result !== 'undefined') {
                    lastResult = result;
                }
            }

            return lastResult;
        };

        chain._chained = funcs;

        return chain;
    };

    /**
     * Chains a function to excute before the original function on the given `path` relative to `base`.
     * See also docs for `Common.chain`.
     * @method chainPathBefore
     * @param {} base The base object
     * @param {string} path The path relative to `base`
     * @param {function} func The function to chain before the original
     * @return {function} The chained function that replaced the original
     */
    Common.chainPathBefore = function(base, path, func) {
        return Common.set(base, path, Common.chain(
            func,
            Common.get(base, path)
        ));
    };

    /**
     * Chains a function to excute after the original function on the given `path` relative to `base`.
     * See also docs for `Common.chain`.
     * @method chainPathAfter
     * @param {} base The base object
     * @param {string} path The path relative to `base`
     * @param {function} func The function to chain after the original
     * @return {function} The chained function that replaced the original
     */
    Common.chainPathAfter = function(base, path, func) {
        return Common.set(base, path, Common.chain(
            Common.get(base, path),
            func
        ));
    };

})();

},{}],15:[function(_dereq_,module,exports){
/**
* The `Matter.Engine` module contains methods for creating and manipulating engines.
* An engine is a controller that manages updating the simulation of the world.
* See `Matter.Runner` for an optional game loop utility.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Engine
*/

var Engine = {};

module.exports = Engine;

var World = _dereq_('../body/World');
var Sleeping = _dereq_('./Sleeping');
var Resolver = _dereq_('../collision/Resolver');
var Render = _dereq_('../render/Render');
var Pairs = _dereq_('../collision/Pairs');
var Metrics = _dereq_('./Metrics');
var Grid = _dereq_('../collision/Grid');
var Events = _dereq_('./Events');
var Composite = _dereq_('../body/Composite');
var Constraint = _dereq_('../constraint/Constraint');
var Common = _dereq_('./Common');
var Body = _dereq_('../body/Body');

(function() {

    /**
     * Creates a new engine. The options parameter is an object that specifies any properties you wish to override the defaults.
     * All properties have default values, and many are pre-calculated automatically based on other properties.
     * See the properties section below for detailed information on what you can pass via the `options` object.
     * @method create
     * @param {object} [options]
     * @return {engine} engine
     */
    Engine.create = function(element, options) {
        // options may be passed as the first (and only) argument
        options = Common.isElement(element) ? options : element;
        element = Common.isElement(element) ? element : null;
        options = options || {};

        if (element || options.render) {
            Common.warn('Engine.create: engine.render is deprecated (see docs)');
        }

        var defaults = {
            positionIterations: 6,
            velocityIterations: 4,
            constraintIterations: 2,
            enableSleeping: false,
            events: [],
            plugin: {},
            timing: {
                timestamp: 0,
                timeScale: 1
            },
            broadphase: {
                controller: Grid
            }
        };

        var engine = Common.extend(defaults, options);

        // @deprecated
        if (element || engine.render) {
            var renderDefaults = {
                element: element,
                controller: Render
            };
            
            engine.render = Common.extend(renderDefaults, engine.render);
        }

        // @deprecated
        if (engine.render && engine.render.controller) {
            engine.render = engine.render.controller.create(engine.render);
        }

        // @deprecated
        if (engine.render) {
            engine.render.engine = engine;
        }

        engine.world = options.world || World.create(engine.world);
        engine.pairs = Pairs.create();
        engine.broadphase = engine.broadphase.controller.create(engine.broadphase);
        engine.metrics = engine.metrics || { extended: false };


        return engine;
    };

    /**
     * Moves the simulation forward in time by `delta` ms.
     * The `correction` argument is an optional `Number` that specifies the time correction factor to apply to the update.
     * This can help improve the accuracy of the simulation in cases where `delta` is changing between updates.
     * The value of `correction` is defined as `delta / lastDelta`, i.e. the percentage change of `delta` over the last step.
     * Therefore the value is always `1` (no correction) when `delta` constant (or when no correction is desired, which is the default).
     * See the paper on <a href="http://lonesock.net/article/verlet.html">Time Corrected Verlet</a> for more information.
     *
     * Triggers `beforeUpdate` and `afterUpdate` events.
     * Triggers `collisionStart`, `collisionActive` and `collisionEnd` events.
     * @method update
     * @param {engine} engine
     * @param {number} [delta=16.666]
     * @param {number} [correction=1]
     */
    Engine.update = function(engine, delta, correction) {
        delta = delta || 1000 / 60;
        correction = correction || 1;

        var world = engine.world,
            timing = engine.timing,
            broadphase = engine.broadphase,
            broadphasePairs = [],
            i;

        // increment timestamp
        timing.timestamp += delta * timing.timeScale;

        // create an event object
        var event = {
            timestamp: timing.timestamp
        };

        Events.trigger(engine, 'beforeUpdate', event);

        // get lists of all bodies and constraints, no matter what composites they are in
        var allBodies = Composite.allBodies(world),
            allConstraints = Composite.allConstraints(world);


        // if sleeping enabled, call the sleeping controller
        if (engine.enableSleeping)
            Sleeping.update(allBodies, timing.timeScale);

        // applies gravity to all bodies
        _bodiesApplyGravity(allBodies, world.gravity);

        // update all body position and rotation by integration
        _bodiesUpdate(allBodies, delta, timing.timeScale, correction, world.bounds);

        // update all constraints
        for (i = 0; i < engine.constraintIterations; i++) {
            Constraint.solveAll(allConstraints, timing.timeScale);
        }
        Constraint.postSolveAll(allBodies);

        // broadphase pass: find potential collision pairs
        if (broadphase.controller) {

            // if world is dirty, we must flush the whole grid
            if (world.isModified)
                broadphase.controller.clear(broadphase);

            // update the grid buckets based on current bodies
            broadphase.controller.update(broadphase, allBodies, engine, world.isModified);
            broadphasePairs = broadphase.pairsList;
        } else {

            // if no broadphase set, we just pass all bodies
            broadphasePairs = allBodies;
        }

        // clear all composite modified flags
        if (world.isModified) {
            Composite.setModified(world, false, false, true);
        }

        // narrowphase pass: find actual collisions, then create or update collision pairs
        var collisions = broadphase.detector(broadphasePairs, engine);

        // update collision pairs
        var pairs = engine.pairs,
            timestamp = timing.timestamp;
        Pairs.update(pairs, collisions, timestamp);
        Pairs.removeOld(pairs, timestamp);

        // wake up bodies involved in collisions
        if (engine.enableSleeping)
            Sleeping.afterCollisions(pairs.list, timing.timeScale);

        // trigger collision events
        if (pairs.collisionStart.length > 0)
            Events.trigger(engine, 'collisionStart', { pairs: pairs.collisionStart });

        // iteratively resolve position between collisions
        Resolver.preSolvePosition(pairs.list);
        for (i = 0; i < engine.positionIterations; i++) {
            Resolver.solvePosition(pairs.list, timing.timeScale);
        }
        Resolver.postSolvePosition(allBodies);

        // iteratively resolve velocity between collisions
        Resolver.preSolveVelocity(pairs.list);
        for (i = 0; i < engine.velocityIterations; i++) {
            Resolver.solveVelocity(pairs.list, timing.timeScale);
        }

        // trigger collision events
        if (pairs.collisionActive.length > 0)
            Events.trigger(engine, 'collisionActive', { pairs: pairs.collisionActive });

        if (pairs.collisionEnd.length > 0)
            Events.trigger(engine, 'collisionEnd', { pairs: pairs.collisionEnd });


        // clear force buffers
        _bodiesClearForces(allBodies);

        Events.trigger(engine, 'afterUpdate', event);

        return engine;
    };
    
    /**
     * Merges two engines by keeping the configuration of `engineA` but replacing the world with the one from `engineB`.
     * @method merge
     * @param {engine} engineA
     * @param {engine} engineB
     */
    Engine.merge = function(engineA, engineB) {
        Common.extend(engineA, engineB);
        
        if (engineB.world) {
            engineA.world = engineB.world;

            Engine.clear(engineA);

            var bodies = Composite.allBodies(engineA.world);

            for (var i = 0; i < bodies.length; i++) {
                var body = bodies[i];
                Sleeping.set(body, false);
                body.id = Common.nextId();
            }
        }
    };

    /**
     * Clears the engine including the world, pairs and broadphase.
     * @method clear
     * @param {engine} engine
     */
    Engine.clear = function(engine) {
        var world = engine.world;
        
        Pairs.clear(engine.pairs);

        var broadphase = engine.broadphase;
        if (broadphase.controller) {
            var bodies = Composite.allBodies(world);
            broadphase.controller.clear(broadphase);
            broadphase.controller.update(broadphase, bodies, engine, true);
        }
    };

    /**
     * Zeroes the `body.force` and `body.torque` force buffers.
     * @method bodiesClearForces
     * @private
     * @param {body[]} bodies
     */
    var _bodiesClearForces = function(bodies) {
        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            // reset force buffers
            body.force.x = 0;
            body.force.y = 0;
            body.torque = 0;
        }
    };

    /**
     * Applys a mass dependant force to all given bodies.
     * @method bodiesApplyGravity
     * @private
     * @param {body[]} bodies
     * @param {vector} gravity
     */
    var _bodiesApplyGravity = function(bodies, gravity) {
        var gravityScale = typeof gravity.scale !== 'undefined' ? gravity.scale : 0.001;

        if ((gravity.x === 0 && gravity.y === 0) || gravityScale === 0) {
            return;
        }
        
        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            if (body.isStatic || body.isSleeping)
                continue;

            // apply gravity
            body.force.y += body.mass * gravity.y * gravityScale;
            body.force.x += body.mass * gravity.x * gravityScale;
        }
    };

    /**
     * Applys `Body.update` to all given `bodies`.
     * @method updateAll
     * @private
     * @param {body[]} bodies
     * @param {number} deltaTime 
     * The amount of time elapsed between updates
     * @param {number} timeScale
     * @param {number} correction 
     * The Verlet correction factor (deltaTime / lastDeltaTime)
     * @param {bounds} worldBounds
     */
    var _bodiesUpdate = function(bodies, deltaTime, timeScale, correction, worldBounds) {
        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            if (body.isStatic || body.isSleeping)
                continue;

            Body.update(body, deltaTime, timeScale, correction);
        }
    };

    /**
     * An alias for `Runner.run`, see `Matter.Runner` for more information.
     * @method run
     * @param {engine} engine
     */

    /**
    * Fired just before an update
    *
    * @event beforeUpdate
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired after engine update and all collision events
    *
    * @event afterUpdate
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired after engine update, provides a list of all pairs that have started to collide in the current tick (if any)
    *
    * @event collisionStart
    * @param {} event An event object
    * @param {} event.pairs List of affected pairs
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired after engine update, provides a list of all pairs that are colliding in the current tick (if any)
    *
    * @event collisionActive
    * @param {} event An event object
    * @param {} event.pairs List of affected pairs
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired after engine update, provides a list of all pairs that have ended collision in the current tick (if any)
    *
    * @event collisionEnd
    * @param {} event An event object
    * @param {} event.pairs List of affected pairs
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * An integer `Number` that specifies the number of position iterations to perform each update.
     * The higher the value, the higher quality the simulation will be at the expense of performance.
     *
     * @property positionIterations
     * @type number
     * @default 6
     */

    /**
     * An integer `Number` that specifies the number of velocity iterations to perform each update.
     * The higher the value, the higher quality the simulation will be at the expense of performance.
     *
     * @property velocityIterations
     * @type number
     * @default 4
     */

    /**
     * An integer `Number` that specifies the number of constraint iterations to perform each update.
     * The higher the value, the higher quality the simulation will be at the expense of performance.
     * The default value of `2` is usually very adequate.
     *
     * @property constraintIterations
     * @type number
     * @default 2
     */

    /**
     * A flag that specifies whether the engine should allow sleeping via the `Matter.Sleeping` module.
     * Sleeping can improve stability and performance, but often at the expense of accuracy.
     *
     * @property enableSleeping
     * @type boolean
     * @default false
     */

    /**
     * An `Object` containing properties regarding the timing systems of the engine. 
     *
     * @property timing
     * @type object
     */

    /**
     * A `Number` that specifies the global scaling factor of time for all bodies.
     * A value of `0` freezes the simulation.
     * A value of `0.1` gives a slow-motion effect.
     * A value of `1.2` gives a speed-up effect.
     *
     * @property timing.timeScale
     * @type number
     * @default 1
     */

    /**
     * A `Number` that specifies the current simulation-time in milliseconds starting from `0`. 
     * It is incremented on every `Engine.update` by the given `delta` argument. 
     *
     * @property timing.timestamp
     * @type number
     * @default 0
     */

    /**
     * An instance of a `Render` controller. The default value is a `Matter.Render` instance created by `Engine.create`.
     * One may also develop a custom renderer module based on `Matter.Render` and pass an instance of it to `Engine.create` via `options.render`.
     *
     * A minimal custom renderer object must define at least three functions: `create`, `clear` and `world` (see `Matter.Render`).
     * It is also possible to instead pass the _module_ reference via `options.render.controller` and `Engine.create` will instantiate one for you.
     *
     * @property render
     * @type render
     * @deprecated see Demo.js for an example of creating a renderer
     * @default a Matter.Render instance
     */

    /**
     * An instance of a broadphase controller. The default value is a `Matter.Grid` instance created by `Engine.create`.
     *
     * @property broadphase
     * @type grid
     * @default a Matter.Grid instance
     */

    /**
     * A `World` composite object that will contain all simulated bodies and constraints.
     *
     * @property world
     * @type world
     * @default a Matter.World instance
     */

    /**
     * An object reserved for storing plugin-specific properties.
     *
     * @property plugin
     * @type {}
     */

})();

},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(_dereq_,module,exports){
/**
* The `Matter.Events` module contains methods to fire and listen to events on other objects.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Events
*/

var Events = {};

module.exports = Events;

var Common = _dereq_('./Common');

(function() {

    /**
     * Subscribes a callback function to the given object's `eventName`.
     * @method on
     * @param {} object
     * @param {string} eventNames
     * @param {function} callback
     */
    Events.on = function(object, eventNames, callback) {
        var names = eventNames.split(' '),
            name;

        for (var i = 0; i < names.length; i++) {
            name = names[i];
            object.events = object.events || {};
            object.events[name] = object.events[name] || [];
            object.events[name].push(callback);
        }

        return callback;
    };

    /**
     * Removes the given event callback. If no callback, clears all callbacks in `eventNames`. If no `eventNames`, clears all events.
     * @method off
     * @param {} object
     * @param {string} eventNames
     * @param {function} callback
     */
    Events.off = function(object, eventNames, callback) {
        if (!eventNames) {
            object.events = {};
            return;
        }

        // handle Events.off(object, callback)
        if (typeof eventNames === 'function') {
            callback = eventNames;
            eventNames = Common.keys(object.events).join(' ');
        }

        var names = eventNames.split(' ');

        for (var i = 0; i < names.length; i++) {
            var callbacks = object.events[names[i]],
                newCallbacks = [];

            if (callback && callbacks) {
                for (var j = 0; j < callbacks.length; j++) {
                    if (callbacks[j] !== callback)
                        newCallbacks.push(callbacks[j]);
                }
            }

            object.events[names[i]] = newCallbacks;
        }
    };

    /**
     * Fires all the callbacks subscribed to the given object's `eventName`, in the order they subscribed, if any.
     * @method trigger
     * @param {} object
     * @param {string} eventNames
     * @param {} event
     */
    Events.trigger = function(object, eventNames, event) {
        var names,
            name,
            callbacks,
            eventClone;

        if (object.events) {
            if (!event)
                event = {};

            names = eventNames.split(' ');

            for (var i = 0; i < names.length; i++) {
                name = names[i];
                callbacks = object.events[name];

                if (callbacks) {
                    eventClone = Common.clone(event, false);
                    eventClone.name = name;
                    eventClone.source = object;

                    for (var j = 0; j < callbacks.length; j++) {
                        callbacks[j].apply(object, [eventClone]);
                    }
                }
            }
        }
    };

})();

},{"./Common":14}],17:[function(_dereq_,module,exports){
/**
* The `Matter` module is the top level namespace. It also includes a function for installing plugins on top of the library.
*
* @class Matter
*/

var Matter = {};

module.exports = Matter;

var Plugin = _dereq_('./Plugin');
var Common = _dereq_('./Common');

(function() {

    /**
     * The library name.
     * @property name
     * @readOnly
     * @type {String}
     */
    Matter.name = 'matter-js';

    /**
     * The library version.
     * @property version
     * @readOnly
     * @type {String}
     */
    Matter.version = '0.11.1-alpha';

    /**
     * A list of plugin dependencies to be installed. These are normally set and installed through `Matter.use`.
     * Alternatively you may set `Matter.uses` manually and install them by calling `Plugin.use(Matter)`.
     * @property uses
     * @type {Array}
     */
    Matter.uses = [];

    /**
     * The plugins that have been installed through `Matter.Plugin.install`. Read only.
     * @property used
     * @readOnly
     * @type {Array}
     */
    Matter.used = [];

    /**
     * Installs the given plugins on the `Matter` namespace.
     * This is a short-hand for `Plugin.use`, see it for more information.
     * Call this function once at the start of your code, with all of the plugins you wish to install as arguments.
     * Avoid calling this function multiple times unless you intend to manually control installation order.
     * @method use
     * @param ...plugin {Function} The plugin(s) to install on `base` (multi-argument).
     */
    Matter.use = function() {
        Plugin.use(Matter, Array.prototype.slice.call(arguments));
    };

    /**
     * Chains a function to excute before the original function on the given `path` relative to `Matter`.
     * See also docs for `Common.chain`.
     * @method before
     * @param {string} path The path relative to `Matter`
     * @param {function} func The function to chain before the original
     * @return {function} The chained function that replaced the original
     */
    Matter.before = function(path, func) {
        path = path.replace(/^Matter./, '');
        return Common.chainPathBefore(Matter, path, func);
    };

    /**
     * Chains a function to excute after the original function on the given `path` relative to `Matter`.
     * See also docs for `Common.chain`.
     * @method after
     * @param {string} path The path relative to `Matter`
     * @param {function} func The function to chain after the original
     * @return {function} The chained function that replaced the original
     */
    Matter.after = function(path, func) {
        path = path.replace(/^Matter./, '');
        return Common.chainPathAfter(Matter, path, func);
    };

})();

},{"./Common":14,"./Plugin":20}],18:[function(_dereq_,module,exports){

},{"../body/Composite":2,"./Common":14}],19:[function(_dereq_,module,exports){
/**
* The `Matter.Mouse` module contains methods for creating and manipulating mouse inputs.
*
* @class Mouse
*/

var Mouse = {};

module.exports = Mouse;

var Common = _dereq_('../core/Common');

(function() {

    /**
     * Creates a mouse input.
     * @method create
     * @param {HTMLElement} element
     * @return {mouse} A new mouse
     */
    Mouse.create = function(element) {
        var mouse = {};

        if (!element) {
            Common.log('Mouse.create: element was undefined, defaulting to document.body', 'warn');
        }
        
        mouse.element = element || document.body;
        mouse.absolute = { x: 0, y: 0 };
        mouse.position = { x: 0, y: 0 };
        mouse.mousedownPosition = { x: 0, y: 0 };
        mouse.mouseupPosition = { x: 0, y: 0 };
        mouse.offset = { x: 0, y: 0 };
        mouse.scale = { x: 1, y: 1 };
        mouse.wheelDelta = 0;
        mouse.button = -1;
        mouse.pixelRatio = mouse.element.getAttribute('data-pixel-ratio') || 1;

        mouse.sourceEvents = {
            mousemove: null,
            mousedown: null,
            mouseup: null,
            mousewheel: null
        };
        
        mouse.mousemove = function(event) { 
            var position = _getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),
                touches = event.changedTouches;

            if (touches) {
                mouse.button = 0;
                event.preventDefault();
            }

            mouse.absolute.x = position.x;
            mouse.absolute.y = position.y;
            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;
            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;
            mouse.sourceEvents.mousemove = event;
        };
        
        mouse.mousedown = function(event) {
            var position = _getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),
                touches = event.changedTouches;

            if (touches) {
                mouse.button = 0;
                event.preventDefault();
            } else {
                mouse.button = event.button;
            }

            mouse.absolute.x = position.x;
            mouse.absolute.y = position.y;
            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;
            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;
            mouse.mousedownPosition.x = mouse.position.x;
            mouse.mousedownPosition.y = mouse.position.y;
            mouse.sourceEvents.mousedown = event;
        };
        
        mouse.mouseup = function(event) {
            var position = _getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),
                touches = event.changedTouches;

            if (touches) {
                event.preventDefault();
            }
            
            mouse.button = -1;
            mouse.absolute.x = position.x;
            mouse.absolute.y = position.y;
            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;
            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;
            mouse.mouseupPosition.x = mouse.position.x;
            mouse.mouseupPosition.y = mouse.position.y;
            mouse.sourceEvents.mouseup = event;
        };

        mouse.mousewheel = function(event) {
            mouse.wheelDelta = Math.max(-1, Math.min(1, event.wheelDelta || -event.detail));
            event.preventDefault();
        };

        Mouse.setElement(mouse, mouse.element);

        return mouse;
    };

    /**
     * Sets the element the mouse is bound to (and relative to).
     * @method setElement
     * @param {mouse} mouse
     * @param {HTMLElement} element
     */
    Mouse.setElement = function(mouse, element) {
        mouse.element = element;

        element.addEventListener('mousemove', mouse.mousemove);
        element.addEventListener('mousedown', mouse.mousedown);
        element.addEventListener('mouseup', mouse.mouseup);
        
        element.addEventListener('mousewheel', mouse.mousewheel);
        element.addEventListener('DOMMouseScroll', mouse.mousewheel);

        element.addEventListener('touchmove', mouse.mousemove);
        element.addEventListener('touchstart', mouse.mousedown);
        element.addEventListener('touchend', mouse.mouseup);
    };

    /**
     * Clears all captured source events.
     * @method clearSourceEvents
     * @param {mouse} mouse
     */
    Mouse.clearSourceEvents = function(mouse) {
        mouse.sourceEvents.mousemove = null;
        mouse.sourceEvents.mousedown = null;
        mouse.sourceEvents.mouseup = null;
        mouse.sourceEvents.mousewheel = null;
        mouse.wheelDelta = 0;
    };

    /**
     * Sets the mouse position offset.
     * @method setOffset
     * @param {mouse} mouse
     * @param {vector} offset
     */
    Mouse.setOffset = function(mouse, offset) {
        mouse.offset.x = offset.x;
        mouse.offset.y = offset.y;
        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;
        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;
    };

    /**
     * Sets the mouse position scale.
     * @method setScale
     * @param {mouse} mouse
     * @param {vector} scale
     */
    Mouse.setScale = function(mouse, scale) {
        mouse.scale.x = scale.x;
        mouse.scale.y = scale.y;
        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;
        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;
    };
    
    /**
     * Gets the mouse position relative to an element given a screen pixel ratio.
     * @method _getRelativeMousePosition
     * @private
     * @param {} event
     * @param {} element
     * @param {number} pixelRatio
     * @return {}
     */
    var _getRelativeMousePosition = function(event, element, pixelRatio) {
        var elementBounds = element.getBoundingClientRect(),
            rootNode = (document.documentElement || document.body.parentNode || document.body),
            scrollX = (window.pageXOffset !== undefined) ? window.pageXOffset : rootNode.scrollLeft,
            scrollY = (window.pageYOffset !== undefined) ? window.pageYOffset : rootNode.scrollTop,
            touches = event.changedTouches,
            x, y;
        
        if (touches) {
            x = touches[0].pageX - elementBounds.left - scrollX;
            y = touches[0].pageY - elementBounds.top - scrollY;
        } else {
            x = event.pageX - elementBounds.left - scrollX;
            y = event.pageY - elementBounds.top - scrollY;
        }

        return { 
            x: x / (element.clientWidth / (element.width || element.clientWidth) * pixelRatio),
            y: y / (element.clientHeight / (element.height || element.clientHeight) * pixelRatio)
        };
    };

})();

},{"../core/Common":14}],20:[function(_dereq_,module,exports){
/**
* The `Matter.Plugin` module contains functions for registering and installing plugins on modules.
*
* @class Plugin
*/

var Plugin = {};

module.exports = Plugin;

var Common = _dereq_('./Common');

(function() {

    Plugin._registry = {};

    /**
     * Registers a plugin object so it can be resolved later by name.
     * @method register
     * @param plugin {} The plugin to register.
     * @return {object} The plugin.
     */
    Plugin.register = function(plugin) {
        if (!Plugin.isPlugin(plugin)) {
            Common.warn('Plugin.register:', Plugin.toString(plugin), 'does not implement all required fields.');
        }

        if (plugin.name in Plugin._registry) {
            var registered = Plugin._registry[plugin.name],
                pluginVersion = Plugin.versionParse(plugin.version).number,
                registeredVersion = Plugin.versionParse(registered.version).number;

            if (pluginVersion > registeredVersion) {
                Common.warn('Plugin.register:', Plugin.toString(registered), 'was upgraded to', Plugin.toString(plugin));
                Plugin._registry[plugin.name] = plugin;
            } else if (pluginVersion < registeredVersion) {
                Common.warn('Plugin.register:', Plugin.toString(registered), 'can not be downgraded to', Plugin.toString(plugin));
            } else if (plugin !== registered) {
                Common.warn('Plugin.register:', Plugin.toString(plugin), 'is already registered to different plugin object');
            }
        } else {
            Plugin._registry[plugin.name] = plugin;
        }

        return plugin;
    };

    /**
     * Resolves a dependency to a plugin object from the registry if it exists. 
     * The `dependency` may contain a version, but only the name matters when resolving.
     * @method resolve
     * @param dependency {string} The dependency.
     * @return {object} The plugin if resolved, otherwise `undefined`.
     */
    Plugin.resolve = function(dependency) {
        return Plugin._registry[Plugin.dependencyParse(dependency).name];
    };

    /**
     * Returns a pretty printed plugin name and version.
     * @method toString
     * @param plugin {} The plugin.
     * @return {string} Pretty printed plugin name and version.
     */
    Plugin.toString = function(plugin) {
        return typeof plugin === 'string' ? plugin : (plugin.name || 'anonymous') + '@' + (plugin.version || plugin.range || '0.0.0');
    };

    /**
     * Returns `true` if the object meets the minimum standard to be considered a plugin.
     * This means it must define the following properties:
     * - `name`
     * - `version`
     * - `install`
     * @method isPlugin
     * @param obj {} The obj to test.
     * @return {boolean} `true` if the object can be considered a plugin otherwise `false`.
     */
    Plugin.isPlugin = function(obj) {
        return obj && obj.name && obj.version && obj.install;
    };

    /**
     * Returns `true` if a plugin with the given `name` been installed on `module`.
     * @method isUsed
     * @param module {} The module.
     * @param name {string} The plugin name.
     * @return {boolean} `true` if a plugin with the given `name` been installed on `module`, otherwise `false`.
     */
    Plugin.isUsed = function(module, name) {
        return module.used.indexOf(name) > -1;
    };

    /**
     * Returns `true` if `plugin.for` is applicable to `module` by comparing against `module.name` and `module.version`.
     * If `plugin.for` is not specified then it is assumed to be applicable.
     * The value of `plugin.for` is a string of the format `'module-name'` or `'module-name@version'`.
     * @method isFor
     * @param plugin {} The plugin.
     * @param module {} The module.
     * @return {boolean} `true` if `plugin.for` is applicable to `module`, otherwise `false`.
     */
    Plugin.isFor = function(plugin, module) {
        var parsed = plugin.for && Plugin.dependencyParse(plugin.for);
        return !plugin.for || (module.name === parsed.name && Plugin.versionSatisfies(module.version, parsed.range));
    };

    /**
     * Installs the plugins by calling `plugin.install` on each plugin specified in `plugins` if passed, otherwise `module.uses`.
     * For installing plugins on `Matter` see the convenience function `Matter.use`.
     * Plugins may be specified either by their name or a reference to the plugin object.
     * Plugins themselves may specify further dependencies, but each plugin is installed only once.
     * Order is important, a topological sort is performed to find the best resulting order of installation.
     * This sorting attempts to satisfy every dependency's requested ordering, but may not be exact in all cases.
     * This function logs the resulting status of each dependency in the console, along with any warnings.
     * - A green tick ‚úÖ indicates a dependency was resolved and installed.
     * - An orange diamond üî∂ indicates a dependency was resolved but a warning was thrown for it or one if its dependencies.
     * - A red cross ‚ùå indicates a dependency could not be resolved.
     * Avoid calling this function multiple times on the same module unless you intend to manually control installation order.
     * @method use
     * @param module {} The module install plugins on.
     * @param [plugins=module.uses] {} The plugins to install on module (optional, defaults to `module.uses`).
     */
    Plugin.use = function(module, plugins) {
        module.uses = (module.uses || []).concat(plugins || []);

        if (module.uses.length === 0) {
            Common.warn('Plugin.use:', Plugin.toString(module), 'does not specify any dependencies to install.');
            return;
        }

        var dependencies = Plugin.dependencies(module),
            sortedDependencies = Common.topologicalSort(dependencies),
            status = [];

        for (var i = 0; i < sortedDependencies.length; i += 1) {
            if (sortedDependencies[i] === module.name) {
                continue;
            }

            var plugin = Plugin.resolve(sortedDependencies[i]);

            if (!plugin) {
                status.push('‚ùå ' + sortedDependencies[i]);
                continue;
            }

            if (Plugin.isUsed(module, plugin.name)) {
                continue;
            }

            if (!Plugin.isFor(plugin, module)) {
                Common.warn('Plugin.use:', Plugin.toString(plugin), 'is for', plugin.for, 'but installed on', Plugin.toString(module) + '.');
                plugin._warned = true;
            }

            if (plugin.install) {
                plugin.install(module);
            } else {
                Common.warn('Plugin.use:', Plugin.toString(plugin), 'does not specify an install function.');
                plugin._warned = true;
            }

            if (plugin._warned) {
                status.push('üî∂ ' + Plugin.toString(plugin));
                delete plugin._warned;
            } else {
                status.push('‚úÖ ' + Plugin.toString(plugin));
            }

            module.used.push(plugin.name);
        }

        if (status.length > 0) {
            Common.info(status.join('  '));
        }
    };

    /**
     * Recursively finds all of a module's dependencies and returns a flat dependency graph.
     * @method dependencies
     * @param module {} The module.
     * @return {object} A dependency graph.
     */
    Plugin.dependencies = function(module, tracked) {
        var parsedBase = Plugin.dependencyParse(module),
            name = parsedBase.name;

        tracked = tracked || {};

        if (name in tracked) {
            return;
        }

        module = Plugin.resolve(module) || module;

        tracked[name] = Common.map(module.uses || [], function(dependency) {
            if (Plugin.isPlugin(dependency)) {
                Plugin.register(dependency);
            }

            var parsed = Plugin.dependencyParse(dependency),
                resolved = Plugin.resolve(dependency);

            if (resolved && !Plugin.versionSatisfies(resolved.version, parsed.range)) {
                Common.warn(
                    'Plugin.dependencies:', Plugin.toString(resolved), 'does not satisfy',
                    Plugin.toString(parsed), 'used by', Plugin.toString(parsedBase) + '.'
                );

                resolved._warned = true;
                module._warned = true;
            } else if (!resolved) {
                Common.warn(
                    'Plugin.dependencies:', Plugin.toString(dependency), 'used by',
                    Plugin.toString(parsedBase), 'could not be resolved.'
                );

                module._warned = true;
            }

            return parsed.name;
        });

        for (var i = 0; i < tracked[name].length; i += 1) {
            Plugin.dependencies(tracked[name][i], tracked);
        }

        return tracked;
    };

    /**
     * Parses a dependency string into its components.
     * The `dependency` is a string of the format `'module-name'` or `'module-name@version'`.
     * See documentation for `Plugin.versionParse` for a description of the format.
     * This function can also handle dependencies that are already resolved (e.g. a module object).
     * @method dependencyParse
     * @param dependency {string} The dependency of the format `'module-name'` or `'module-name@version'`.
     * @return {object} The dependency parsed into its components.
     */
    Plugin.dependencyParse = function(dependency) {
        if (Common.isString(dependency)) {
            var pattern = /^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;

            if (!pattern.test(dependency)) {
                Common.warn('Plugin.dependencyParse:', dependency, 'is not a valid dependency string.');
            }

            return {
                name: dependency.split('@')[0],
                range: dependency.split('@')[1] || '*'
            };
        }

        return {
            name: dependency.name,
            range: dependency.range || dependency.version
        };
    };

    /**
     * Parses a version string into its components.  
     * Versions are strictly of the format `x.y.z` (as in [semver](http://semver.org/)).
     * Versions may optionally have a prerelease tag in the format `x.y.z-alpha`.
     * Ranges are a strict subset of [npm ranges](https://docs.npmjs.com/misc/semver#advanced-range-syntax).
     * Only the following range types are supported:
     * - Tilde ranges e.g. `~1.2.3`
     * - Caret ranges e.g. `^1.2.3`
     * - Exact version e.g. `1.2.3`
     * - Any version `*`
     * @method versionParse
     * @param range {string} The version string.
     * @return {object} The version range parsed into its components.
     */
    Plugin.versionParse = function(range) {
        var pattern = /^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;

        if (!pattern.test(range)) {
            Common.warn('Plugin.versionParse:', range, 'is not a valid version or range.');
        }

        var identifiers = range.split('-');
        range = identifiers[0];

        var isRange = isNaN(Number(range[0])),
            version = isRange ? range.substr(1) : range,
            parts = Common.map(version.split('.'), function(part) {
                return Number(part);
            });

        return {
            isRange: isRange,
            version: version,
            range: range,
            operator: isRange ? range[0] : '',
            parts: parts,
            prerelease: identifiers[1],
            number: parts[0] * 1e8 + parts[1] * 1e4 + parts[2]
        };
    };

    /**
     * Returns `true` if `version` satisfies the given `range`.
     * See documentation for `Plugin.versionParse` for a description of the format.
     * If a version or range is not specified, then any version (`*`) is assumed to satisfy.
     * @method versionSatisfies
     * @param version {string} The version string.
     * @param range {string} The range string.
     * @return {boolean} `true` if `version` satisfies `range`, otherwise `false`.
     */
    Plugin.versionSatisfies = function(version, range) {
        range = range || '*';

        var rangeParsed = Plugin.versionParse(range),
            rangeParts = rangeParsed.parts,
            versionParsed = Plugin.versionParse(version),
            versionParts = versionParsed.parts;

        if (rangeParsed.isRange) {
            if (rangeParsed.operator === '*' || version === '*') {
                return true;
            }

            if (rangeParsed.operator === '~') {
                return versionParts[0] === rangeParts[0] && versionParts[1] === rangeParts[1] && versionParts[2] >= rangeParts[2];
            }

            if (rangeParsed.operator === '^') {
                if (rangeParts[0] > 0) {
                    return versionParts[0] === rangeParts[0] && versionParsed.number >= rangeParsed.number;
                }

                if (rangeParts[1] > 0) {
                    return versionParts[1] === rangeParts[1] && versionParts[2] >= rangeParts[2];
                }

                return versionParts[2] === rangeParts[2];
            }
        }

        return version === range || version === '*';
    };

})();

},{"./Common":14}],21:[function(_dereq_,module,exports){
/**
* The `Matter.Runner` module is an optional utility which provides a game loop, 
* that handles continuously updating a `Matter.Engine` for you within a browser.
* It is intended for development and debugging purposes, but may also be suitable for simple games.
* If you are using your own game loop instead, then you do not need the `Matter.Runner` module.
* Instead just call `Engine.update(engine, delta)` in your own loop.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Runner
*/

var Runner = {};

module.exports = Runner;

var Events = _dereq_('./Events');
var Engine = _dereq_('./Engine');
var Common = _dereq_('./Common');

(function() {

    var _requestAnimationFrame,
        _cancelAnimationFrame;

    if (typeof window !== 'undefined') {
        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame
                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame;
   
        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame 
                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;
    }

    if (!_requestAnimationFrame) {
        var _frameTimeout;

        _requestAnimationFrame = function(callback){ 
            _frameTimeout = setTimeout(function() { 
                callback(Common.now()); 
            }, 1000 / 60);
        };

        _cancelAnimationFrame = function() {
            clearTimeout(_frameTimeout);
        };
    }

    /**
     * Creates a new Runner. The options parameter is an object that specifies any properties you wish to override the defaults.
     * @method create
     * @param {} options
     */
    Runner.create = function(options) {
        var defaults = {
            fps: 60,
            correction: 1,
            deltaSampleSize: 60,
            counterTimestamp: 0,
            frameCounter: 0,
            deltaHistory: [],
            timePrev: null,
            timeScalePrev: 1,
            frameRequestId: null,
            isFixed: false,
            enabled: true
        };

        var runner = Common.extend(defaults, options);

        runner.delta = runner.delta || 1000 / runner.fps;
        runner.deltaMin = runner.deltaMin || 1000 / runner.fps;
        runner.deltaMax = runner.deltaMax || 1000 / (runner.fps * 0.5);
        runner.fps = 1000 / runner.delta;

        return runner;
    };

    /**
     * Continuously ticks a `Matter.Engine` by calling `Runner.tick` on the `requestAnimationFrame` event.
     * @method run
     * @param {engine} engine
     */
    Runner.run = function(runner, engine) {
        // create runner if engine is first argument
        if (typeof runner.positionIterations !== 'undefined') {
            engine = runner;
            runner = Runner.create();
        }

        (function render(time){
            runner.frameRequestId = _requestAnimationFrame(render);

            if (time && runner.enabled) {
                Runner.tick(runner, engine, time);
            }
        })();

        return runner;
    };

    /**
     * A game loop utility that updates the engine and renderer by one step (a 'tick').
     * Features delta smoothing, time correction and fixed or dynamic timing.
     * Triggers `beforeTick`, `tick` and `afterTick` events on the engine.
     * Consider just `Engine.update(engine, delta)` if you're using your own loop.
     * @method tick
     * @param {runner} runner
     * @param {engine} engine
     * @param {number} time
     */
    Runner.tick = function(runner, engine, time) {
        var timing = engine.timing,
            correction = 1,
            delta;

        // create an event object
        var event = {
            timestamp: timing.timestamp
        };

        Events.trigger(runner, 'beforeTick', event);
        Events.trigger(engine, 'beforeTick', event); // @deprecated

        if (runner.isFixed) {
            // fixed timestep
            delta = runner.delta;
        } else {
            // dynamic timestep based on wall clock between calls
            delta = (time - runner.timePrev) || runner.delta;
            runner.timePrev = time;

            // optimistically filter delta over a few frames, to improve stability
            runner.deltaHistory.push(delta);
            runner.deltaHistory = runner.deltaHistory.slice(-runner.deltaSampleSize);
            delta = Math.min.apply(null, runner.deltaHistory);
            
            // limit delta
            delta = delta < runner.deltaMin ? runner.deltaMin : delta;
            delta = delta > runner.deltaMax ? runner.deltaMax : delta;

            // correction for delta
            correction = delta / runner.delta;

            // update engine timing object
            runner.delta = delta;
        }

        // time correction for time scaling
        if (runner.timeScalePrev !== 0)
            correction *= timing.timeScale / runner.timeScalePrev;

        if (timing.timeScale === 0)
            correction = 0;

        runner.timeScalePrev = timing.timeScale;
        runner.correction = correction;

        // fps counter
        runner.frameCounter += 1;
        if (time - runner.counterTimestamp >= 1000) {
            runner.fps = runner.frameCounter * ((time - runner.counterTimestamp) / 1000);
            runner.counterTimestamp = time;
            runner.frameCounter = 0;
        }

        Events.trigger(runner, 'tick', event);
        Events.trigger(engine, 'tick', event); // @deprecated

        // if world has been modified, clear the render scene graph
        if (engine.world.isModified 
            && engine.render
            && engine.render.controller
            && engine.render.controller.clear) {
            engine.render.controller.clear(engine.render); // @deprecated
        }

        // update
        Events.trigger(runner, 'beforeUpdate', event);
        Engine.update(engine, delta, correction);
        Events.trigger(runner, 'afterUpdate', event);

        // render
        // @deprecated
        if (engine.render && engine.render.controller) {
            Events.trigger(runner, 'beforeRender', event);
            Events.trigger(engine, 'beforeRender', event); // @deprecated

            engine.render.controller.world(engine.render);

            Events.trigger(runner, 'afterRender', event);
            Events.trigger(engine, 'afterRender', event); // @deprecated
        }

        Events.trigger(runner, 'afterTick', event);
        Events.trigger(engine, 'afterTick', event); // @deprecated
    };

    /**
     * Ends execution of `Runner.run` on the given `runner`, by canceling the animation frame request event loop.
     * If you wish to only temporarily pause the engine, see `engine.enabled` instead.
     * @method stop
     * @param {runner} runner
     */
    Runner.stop = function(runner) {
        _cancelAnimationFrame(runner.frameRequestId);
    };

    /**
     * Alias for `Runner.run`.
     * @method start
     * @param {runner} runner
     * @param {engine} engine
     */
    Runner.start = function(runner, engine) {
        Runner.run(runner, engine);
    };

    /*
    *
    *  Events Documentation
    *
    */

    /**
    * Fired at the start of a tick, before any updates to the engine or timing
    *
    * @event beforeTick
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired after engine timing updated, but just before update
    *
    * @event tick
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired at the end of a tick, after engine update and after rendering
    *
    * @event afterTick
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired before update
    *
    * @event beforeUpdate
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired after update
    *
    * @event afterUpdate
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired before rendering
    *
    * @event beforeRender
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    * @deprecated
    */

    /**
    * Fired after rendering
    *
    * @event afterRender
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    * @deprecated
    */

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * A flag that specifies whether the runner is running or not.
     *
     * @property enabled
     * @type boolean
     * @default true
     */

    /**
     * A `Boolean` that specifies if the runner should use a fixed timestep (otherwise it is variable).
     * If timing is fixed, then the apparent simulation speed will change depending on the frame rate (but behaviour will be deterministic).
     * If the timing is variable, then the apparent simulation speed will be constant (approximately, but at the cost of determininism).
     *
     * @property isFixed
     * @type boolean
     * @default false
     */

    /**
     * A `Number` that specifies the time step between updates in milliseconds.
     * If `engine.timing.isFixed` is set to `true`, then `delta` is fixed.
     * If it is `false`, then `delta` can dynamically change to maintain the correct apparent simulation speed.
     *
     * @property delta
     * @type number
     * @default 1000 / 60
     */

})();

},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(_dereq_,module,exports){
/**
* The `Matter.Sleeping` module contains methods to manage the sleeping state of bodies.
*
* @class Sleeping
*/

var Sleeping = {};

module.exports = Sleeping;

var Events = _dereq_('./Events');

(function() {

    Sleeping._motionWakeThreshold = 0.18;
    Sleeping._motionSleepThreshold = 0.08;
    Sleeping._minBias = 0.9;

    /**
     * Puts bodies to sleep or wakes them up depending on their motion.
     * @method update
     * @param {body[]} bodies
     * @param {number} timeScale
     */
    Sleeping.update = function(bodies, timeScale) {
        var timeFactor = timeScale * timeScale * timeScale;

        // update bodies sleeping status
        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i],
                motion = body.speed * body.speed + body.angularSpeed * body.angularSpeed;

            // wake up bodies if they have a force applied
            if (body.force.x !== 0 || body.force.y !== 0) {
                Sleeping.set(body, false);
                continue;
            }

            var minMotion = Math.min(body.motion, motion),
                maxMotion = Math.max(body.motion, motion);
        
            // biased average motion estimation between frames
            body.motion = Sleeping._minBias * minMotion + (1 - Sleeping._minBias) * maxMotion;
            
            if (body.sleepThreshold > 0 && body.motion < Sleeping._motionSleepThreshold * timeFactor) {
                body.sleepCounter += 1;
                
                if (body.sleepCounter >= body.sleepThreshold)
                    Sleeping.set(body, true);
            } else if (body.sleepCounter > 0) {
                body.sleepCounter -= 1;
            }
        }
    };

    /**
     * Given a set of colliding pairs, wakes the sleeping bodies involved.
     * @method afterCollisions
     * @param {pair[]} pairs
     * @param {number} timeScale
     */
    Sleeping.afterCollisions = function(pairs, timeScale) {
        var timeFactor = timeScale * timeScale * timeScale;

        // wake up bodies involved in collisions
        for (var i = 0; i < pairs.length; i++) {
            var pair = pairs[i];
            
            // don't wake inactive pairs
            if (!pair.isActive)
                continue;

            var collision = pair.collision,
                bodyA = collision.bodyA.parent, 
                bodyB = collision.bodyB.parent;
        
            // don't wake if at least one body is static
            if ((bodyA.isSleeping && bodyB.isSleeping) || bodyA.isStatic || bodyB.isStatic)
                continue;
        
            if (bodyA.isSleeping || bodyB.isSleeping) {
                var sleepingBody = (bodyA.isSleeping && !bodyA.isStatic) ? bodyA : bodyB,
                    movingBody = sleepingBody === bodyA ? bodyB : bodyA;

                if (!sleepingBody.isStatic && movingBody.motion > Sleeping._motionWakeThreshold * timeFactor) {
                    Sleeping.set(sleepingBody, false);
                }
            }
        }
    };
  
    /**
     * Set a body as sleeping or awake.
     * @method set
     * @param {body} body
     * @param {boolean} isSleeping
     */
    Sleeping.set = function(body, isSleeping) {
        var wasSleeping = body.isSleeping;

        if (isSleeping) {
            body.isSleeping = true;
            body.sleepCounter = body.sleepThreshold;

            body.positionImpulse.x = 0;
            body.positionImpulse.y = 0;

            body.positionPrev.x = body.position.x;
            body.positionPrev.y = body.position.y;

            body.anglePrev = body.angle;
            body.speed = 0;
            body.angularSpeed = 0;
            body.motion = 0;

            if (!wasSleeping) {
                Events.trigger(body, 'sleepStart');
            }
        } else {
            body.isSleeping = false;
            body.sleepCounter = 0;

            if (wasSleeping) {
                Events.trigger(body, 'sleepEnd');
            }
        }
    };

})();

},{"./Events":16}],23:[function(_dereq_,module,exports){
(function (global){
/**
* The `Matter.Bodies` module contains factory methods for creating rigid body models 
* with commonly used body configurations (such as rectangles, circles and other polygons).
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Bodies
*/

// TODO: true circle bodies

var Bodies = {};

module.exports = Bodies;

var Vertices = _dereq_('../geometry/Vertices');
var Common = _dereq_('../core/Common');
var Body = _dereq_('../body/Body');
var Bounds = _dereq_('../geometry/Bounds');
var Vector = _dereq_('../geometry/Vector');
var decomp = (typeof window !== "undefined" ? window['decomp'] : typeof global !== "undefined" ? global['decomp'] : null);
/* require poly-decomp.js */
decomp = decomp || require('lib/decomp');
(function() {

    /**
     * Creates a new rigid body model with a rectangle hull. 
     * The options parameter is an object that specifies any properties you wish to override the defaults.
     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.
     * @method rectangle
     * @param {number} x
     * @param {number} y
     * @param {number} width
     * @param {number} height
     * @param {object} [options]
     * @return {body} A new rectangle body
     */
    Bodies.rectangle = function(x, y, width, height, options) {
        options = options || {};

        var rectangle = { 
            label: 'Rectangle Body',
            position: { x: x, y: y },
            vertices: Vertices.fromPath('L 0 0 L ' + width + ' 0 L ' + width + ' ' + height + ' L 0 ' + height)
        };

        if (options.chamfer) {
            var chamfer = options.chamfer;
            rectangle.vertices = Vertices.chamfer(rectangle.vertices, chamfer.radius, 
                                    chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);
            delete options.chamfer;
        }

        return Body.create(Common.extend({}, rectangle, options));
    };
    
    /**
     * Creates a new rigid body model with a trapezoid hull. 
     * The options parameter is an object that specifies any properties you wish to override the defaults.
     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.
     * @method trapezoid
     * @param {number} x
     * @param {number} y
     * @param {number} width
     * @param {number} height
     * @param {number} slope
     * @param {object} [options]
     * @return {body} A new trapezoid body
     */
    Bodies.trapezoid = function(x, y, width, height, slope, options) {
        options = options || {};

        slope *= 0.5;
        var roof = (1 - (slope * 2)) * width;
        
        var x1 = width * slope,
            x2 = x1 + roof,
            x3 = x2 + x1,
            verticesPath;

        if (slope < 0.5) {
            verticesPath = 'L 0 0 L ' + x1 + ' ' + (-height) + ' L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';
        } else {
            verticesPath = 'L 0 0 L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';
        }

        var trapezoid = { 
            label: 'Trapezoid Body',
            position: { x: x, y: y },
            vertices: Vertices.fromPath(verticesPath)
        };

        if (options.chamfer) {
            var chamfer = options.chamfer;
            trapezoid.vertices = Vertices.chamfer(trapezoid.vertices, chamfer.radius, 
                                    chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);
            delete options.chamfer;
        }

        return Body.create(Common.extend({}, trapezoid, options));
    };

    /**
     * Creates a new rigid body model with a circle hull. 
     * The options parameter is an object that specifies any properties you wish to override the defaults.
     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.
     * @method circle
     * @param {number} x
     * @param {number} y
     * @param {number} radius
     * @param {object} [options]
     * @param {number} [maxSides]
     * @return {body} A new circle body
     */
    Bodies.circle = function(x, y, radius, options, maxSides) {
        options = options || {};

        var circle = {
            label: 'Circle Body',
            circleRadius: radius
        };
        
        // approximate circles with polygons until true circles implemented in SAT
        maxSides = maxSides || 25;
        var sides = Math.ceil(Math.max(10, Math.min(maxSides, radius)));

        // optimisation: always use even number of sides (half the number of unique axes)
        if (sides % 2 === 1)
            sides += 1;

        return Bodies.polygon(x, y, sides, radius, Common.extend({}, circle, options));
    };

    /**
     * Creates a new rigid body model with a regular polygon hull with the given number of sides. 
     * The options parameter is an object that specifies any properties you wish to override the defaults.
     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.
     * @method polygon
     * @param {number} x
     * @param {number} y
     * @param {number} sides
     * @param {number} radius
     * @param {object} [options]
     * @return {body} A new regular polygon body
     */
    Bodies.polygon = function(x, y, sides, radius, options) {
        options = options || {};

        if (sides < 3)
            return Bodies.circle(x, y, radius, options);

        var theta = 2 * Math.PI / sides,
            path = '',
            offset = theta * 0.5;

        for (var i = 0; i < sides; i += 1) {
            var angle = offset + (i * theta),
                xx = Math.cos(angle) * radius,
                yy = Math.sin(angle) * radius;

            path += 'L ' + xx.toFixed(3) + ' ' + yy.toFixed(3) + ' ';
        }

        var polygon = { 
            label: 'Polygon Body',
            position: { x: x, y: y },
            vertices: Vertices.fromPath(path)
        };

        if (options.chamfer) {
            var chamfer = options.chamfer;
            polygon.vertices = Vertices.chamfer(polygon.vertices, chamfer.radius, 
                                    chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);
            delete options.chamfer;
        }

        return Body.create(Common.extend({}, polygon, options));
    };

    /**
     * Creates a body using the supplied vertices (or an array containing multiple sets of vertices).
     * If the vertices are convex, they will pass through as supplied.
     * Otherwise if the vertices are concave, they will be decomposed if [poly-decomp.js](https://github.com/schteppe/poly-decomp.js) is available.
     * Note that this process is not guaranteed to support complex sets of vertices (e.g. those with holes may fail).
     * By default the decomposition will discard collinear edges (to improve performance).
     * It can also optionally discard any parts that have an area less than `minimumArea`.
     * If the vertices can not be decomposed, the result will fall back to using the convex hull.
     * The options parameter is an object that specifies any `Matter.Body` properties you wish to override the defaults.
     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.
     * @method fromVertices
     * @param {number} x
     * @param {number} y
     * @param [[vector]] vertexSets
     * @param {object} [options]
     * @param {bool} [flagInternal=false]
     * @param {number} [removeCollinear=0.01]
     * @param {number} [minimumArea=10]
     * @return {body}
     */
    Bodies.fromVertices = function(x, y, vertexSets, options, flagInternal, removeCollinear, minimumArea) {
        var body,
            parts,
            isConvex,
            vertices,
            i,
            j,
            k,
            v,
            z;

        options = options || {};
        parts = [];

        flagInternal = typeof flagInternal !== 'undefined' ? flagInternal : false;
        removeCollinear = typeof removeCollinear !== 'undefined' ? removeCollinear : 0.01;
        minimumArea = typeof minimumArea !== 'undefined' ? minimumArea : 10;

        if (!decomp) {
            Common.warn('Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.');
        }

        // ensure vertexSets is an array of arrays
        if (!Common.isArray(vertexSets[0])) {
            vertexSets = [vertexSets];
        }

        for (v = 0; v < vertexSets.length; v += 1) {
            vertices = vertexSets[v];
            isConvex = Vertices.isConvex(vertices);

            if (isConvex || !decomp) {
                if (isConvex) {
                    vertices = Vertices.clockwiseSort(vertices);
                } else {
                    // fallback to convex hull when decomposition is not possible
                    vertices = Vertices.hull(vertices);
                }

                parts.push({
                    position: { x: x, y: y },
                    vertices: vertices
                });
            } else {
                // initialise a decomposition
                var concave = vertices.map(function(vertex) {
                    return [vertex.x, vertex.y];
                });

                // vertices are concave and simple, we can decompose into parts
                decomp.makeCCW(concave);
                if (removeCollinear !== false)
                    decomp.removeCollinearPoints(concave, removeCollinear);

                // use the quick decomposition algorithm (Bayazit)
                var decomposed = decomp.quickDecomp(concave);

                // for each decomposed chunk
                for (i = 0; i < decomposed.length; i++) {
                    var chunk = decomposed[i];

                    // convert vertices into the correct structure
                    var chunkVertices = chunk.map(function(vertices) {
                        return {
                            x: vertices[0],
                            y: vertices[1]
                        };
                    });

                    // skip small chunks
                    if (minimumArea > 0 && Vertices.area(chunkVertices) < minimumArea)
                        continue;

                    // create a compound part
                    parts.push({
                        position: Vertices.centre(chunkVertices),
                        vertices: chunkVertices
                    });
                }
            }
        }

        // create body parts
        for (i = 0; i < parts.length; i++) {
            parts[i] = Body.create(Common.extend(parts[i], options));
        }

        // flag internal edges (coincident part edges)
        if (flagInternal) {
            var coincident_max_dist = 5;

            for (i = 0; i < parts.length; i++) {
                var partA = parts[i];

                for (j = i + 1; j < parts.length; j++) {
                    var partB = parts[j];

                    if (Bounds.overlaps(partA.bounds, partB.bounds)) {
                        var pav = partA.vertices,
                            pbv = partB.vertices;

                        // iterate vertices of both parts
                        for (k = 0; k < partA.vertices.length; k++) {
                            for (z = 0; z < partB.vertices.length; z++) {
                                // find distances between the vertices
                                var da = Vector.magnitudeSquared(Vector.sub(pav[(k + 1) % pav.length], pbv[z])),
                                    db = Vector.magnitudeSquared(Vector.sub(pav[k], pbv[(z + 1) % pbv.length]));

                                // if both vertices are very close, consider the edge concident (internal)
                                if (da < coincident_max_dist && db < coincident_max_dist) {
                                    pav[k].isInternal = true;
                                    pbv[z].isInternal = true;
                                }
                            }
                        }

                    }
                }
            }
        }

        if (parts.length > 1) {
            // create the parent body to be returned, that contains generated compound parts
            body = Body.create(Common.extend({ parts: parts.slice(0) }, options));
            Body.setPosition(body, { x: x, y: y });

            return body;
        } else {
            return parts[0];
        }
    };

})();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(_dereq_,module,exports){
/**
* The `Matter.Composites` module contains factory methods for creating composite bodies
* with commonly used configurations (such as stacks and chains).
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Composites
*/

var Composites = {};

module.exports = Composites;

var Composite = _dereq_('../body/Composite');
var Constraint = _dereq_('../constraint/Constraint');
var Common = _dereq_('../core/Common');
var Body = _dereq_('../body/Body');
var Bodies = _dereq_('./Bodies');

(function() {

    /**
     * Create a new composite containing bodies created in the callback in a grid arrangement.
     * This function uses the body's bounds to prevent overlaps.
     * @method stack
     * @param {number} xx
     * @param {number} yy
     * @param {number} columns
     * @param {number} rows
     * @param {number} columnGap
     * @param {number} rowGap
     * @param {function} callback
     * @return {composite} A new composite containing objects created in the callback
     */
    Composites.stack = function(xx, yy, columns, rows, columnGap, rowGap, callback) {
        var stack = Composite.create({ label: 'Stack' }),
            x = xx,
            y = yy,
            lastBody,
            i = 0;

        for (var row = 0; row < rows; row++) {
            var maxHeight = 0;
            
            for (var column = 0; column < columns; column++) {
                var body = callback(x, y, column, row, lastBody, i);
                    
                if (body) {
                    var bodyHeight = body.bounds.max.y - body.bounds.min.y,
                        bodyWidth = body.bounds.max.x - body.bounds.min.x; 

                    if (bodyHeight > maxHeight)
                        maxHeight = bodyHeight;
                    
                    Body.translate(body, { x: bodyWidth * 0.5, y: bodyHeight * 0.5 });

                    x = body.bounds.max.x + columnGap;

                    Composite.addBody(stack, body);
                    
                    lastBody = body;
                    i += 1;
                } else {
                    x += columnGap;
                }
            }
            
            y += maxHeight + rowGap;
            x = xx;
        }

        return stack;
    };
    
    /**
     * Chains all bodies in the given composite together using constraints.
     * @method chain
     * @param {composite} composite
     * @param {number} xOffsetA
     * @param {number} yOffsetA
     * @param {number} xOffsetB
     * @param {number} yOffsetB
     * @param {object} options
     * @return {composite} A new composite containing objects chained together with constraints
     */
    Composites.chain = function(composite, xOffsetA, yOffsetA, xOffsetB, yOffsetB, options) {
        var bodies = composite.bodies;
        
        for (var i = 1; i < bodies.length; i++) {
            var bodyA = bodies[i - 1],
                bodyB = bodies[i],
                bodyAHeight = bodyA.bounds.max.y - bodyA.bounds.min.y,
                bodyAWidth = bodyA.bounds.max.x - bodyA.bounds.min.x, 
                bodyBHeight = bodyB.bounds.max.y - bodyB.bounds.min.y,
                bodyBWidth = bodyB.bounds.max.x - bodyB.bounds.min.x;
        
            var defaults = {
                bodyA: bodyA,
                pointA: { x: bodyAWidth * xOffsetA, y: bodyAHeight * yOffsetA },
                bodyB: bodyB,
                pointB: { x: bodyBWidth * xOffsetB, y: bodyBHeight * yOffsetB }
            };
            
            var constraint = Common.extend(defaults, options);
        
            Composite.addConstraint(composite, Constraint.create(constraint));
        }

        composite.label += ' Chain';
        
        return composite;
    };

    /**
     * Connects bodies in the composite with constraints in a grid pattern, with optional cross braces.
     * @method mesh
     * @param {composite} composite
     * @param {number} columns
     * @param {number} rows
     * @param {boolean} crossBrace
     * @param {object} options
     * @return {composite} The composite containing objects meshed together with constraints
     */
    Composites.mesh = function(composite, columns, rows, crossBrace, options) {
        var bodies = composite.bodies,
            row,
            col,
            bodyA,
            bodyB,
            bodyC;
        
        for (row = 0; row < rows; row++) {
            for (col = 1; col < columns; col++) {
                bodyA = bodies[(col - 1) + (row * columns)];
                bodyB = bodies[col + (row * columns)];
                Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));
            }

            if (row > 0) {
                for (col = 0; col < columns; col++) {
                    bodyA = bodies[col + ((row - 1) * columns)];
                    bodyB = bodies[col + (row * columns)];
                    Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));

                    if (crossBrace && col > 0) {
                        bodyC = bodies[(col - 1) + ((row - 1) * columns)];
                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));
                    }

                    if (crossBrace && col < columns - 1) {
                        bodyC = bodies[(col + 1) + ((row - 1) * columns)];
                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));
                    }
                }
            }
        }

        composite.label += ' Mesh';
        
        return composite;
    };
    
    /**
     * Create a new composite containing bodies created in the callback in a pyramid arrangement.
     * This function uses the body's bounds to prevent overlaps.
     * @method pyramid
     * @param {number} xx
     * @param {number} yy
     * @param {number} columns
     * @param {number} rows
     * @param {number} columnGap
     * @param {number} rowGap
     * @param {function} callback
     * @return {composite} A new composite containing objects created in the callback
     */
    Composites.pyramid = function(xx, yy, columns, rows, columnGap, rowGap, callback) {
        return Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y, column, row, lastBody, i) {
            var actualRows = Math.min(rows, Math.ceil(columns / 2)),
                lastBodyWidth = lastBody ? lastBody.bounds.max.x - lastBody.bounds.min.x : 0;
            
            if (row > actualRows)
                return;
            
            // reverse row order
            row = actualRows - row;
            
            var start = row,
                end = columns - 1 - row;

            if (column < start || column > end)
                return;
            
            // retroactively fix the first body's position, since width was unknown
            if (i === 1) {
                Body.translate(lastBody, { x: (column + (columns % 2 === 1 ? 1 : -1)) * lastBodyWidth, y: 0 });
            }

            var xOffset = lastBody ? column * lastBodyWidth : 0;
            
            return callback(xx + xOffset + column * columnGap, y, column, row, lastBody, i);
        });
    };

    /**
     * Creates a composite with a Newton's Cradle setup of bodies and constraints.
     * @method newtonsCradle
     * @param {number} xx
     * @param {number} yy
     * @param {number} number
     * @param {number} size
     * @param {number} length
     * @return {composite} A new composite newtonsCradle body
     */
    Composites.newtonsCradle = function(xx, yy, number, size, length) {
        var newtonsCradle = Composite.create({ label: 'Newtons Cradle' });

        for (var i = 0; i < number; i++) {
            var separation = 1.9,
                circle = Bodies.circle(xx + i * (size * separation), yy + length, size, 
                            { inertia: Infinity, restitution: 1, friction: 0, frictionAir: 0.0001, slop: 1 }),
                constraint = Constraint.create({ pointA: { x: xx + i * (size * separation), y: yy }, bodyB: circle });

            Composite.addBody(newtonsCradle, circle);
            Composite.addConstraint(newtonsCradle, constraint);
        }

        return newtonsCradle;
    };
    
    /**
     * Creates a composite with simple car setup of bodies and constraints.
     * @method car
     * @param {number} xx
     * @param {number} yy
     * @param {number} width
     * @param {number} height
     * @param {number} wheelSize
     * @return {composite} A new composite car body
     */
    Composites.car = function(xx, yy, width, height, wheelSize) {
        var group = Body.nextGroup(true),
            wheelBase = -20,
            wheelAOffset = -width * 0.5 + wheelBase,
            wheelBOffset = width * 0.5 - wheelBase,
            wheelYOffset = 0;
    
        var car = Composite.create({ label: 'Car' }),
            body = Bodies.trapezoid(xx, yy, width, height, 0.3, { 
                collisionFilter: {
                    group: group
                },
                friction: 0.01,
                chamfer: {
                    radius: 10
                }
            });
    
        var wheelA = Bodies.circle(xx + wheelAOffset, yy + wheelYOffset, wheelSize, { 
            collisionFilter: {
                group: group
            },
            friction: 0.8,
            density: 0.01
        });
                    
        var wheelB = Bodies.circle(xx + wheelBOffset, yy + wheelYOffset, wheelSize, { 
            collisionFilter: {
                group: group
            },
            friction: 0.8,
            density: 0.01
        });
                    
        var axelA = Constraint.create({
            bodyA: body,
            pointA: { x: wheelAOffset, y: wheelYOffset },
            bodyB: wheelA,
            stiffness: 0.2,
            render: {
                lineWidth: 0
            }
        });
                        
        var axelB = Constraint.create({
            bodyA: body,
            pointA: { x: wheelBOffset, y: wheelYOffset },
            bodyB: wheelB,
            stiffness: 0.2,
            render: {
                lineWidth: 0
            }
        });
        
        Composite.addBody(car, body);
        Composite.addBody(car, wheelA);
        Composite.addBody(car, wheelB);
        Composite.addConstraint(car, axelA);
        Composite.addConstraint(car, axelB);

        return car;
    };

    /**
     * Creates a simple soft body like object.
     * @method softBody
     * @param {number} xx
     * @param {number} yy
     * @param {number} columns
     * @param {number} rows
     * @param {number} columnGap
     * @param {number} rowGap
     * @param {boolean} crossBrace
     * @param {number} particleRadius
     * @param {} particleOptions
     * @param {} constraintOptions
     * @return {composite} A new composite softBody
     */
    Composites.softBody = function(xx, yy, columns, rows, columnGap, rowGap, crossBrace, particleRadius, particleOptions, constraintOptions) {
        particleOptions = Common.extend({ inertia: Infinity }, particleOptions);
        constraintOptions = Common.extend({ stiffness: 0.4 }, constraintOptions);

        var softBody = Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y) {
            return Bodies.circle(x, y, particleRadius, particleOptions);
        });

        Composites.mesh(softBody, columns, rows, crossBrace, constraintOptions);

        softBody.label = 'Soft Body';

        return softBody;
    };

})();

},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(_dereq_,module,exports){
/**
* The `Matter.Axes` module contains methods for creating and manipulating sets of axes.
*
* @class Axes
*/

var Axes = {};

module.exports = Axes;

var Vector = _dereq_('../geometry/Vector');
var Common = _dereq_('../core/Common');

(function() {

    /**
     * Creates a new set of axes from the given vertices.
     * @method fromVertices
     * @param {vertices} vertices
     * @return {axes} A new axes from the given vertices
     */
    Axes.fromVertices = function(vertices) {
        var axes = {};

        // find the unique axes, using edge normal gradients
        for (var i = 0; i < vertices.length; i++) {
            var j = (i + 1) % vertices.length, 
                normal = Vector.normalise({ 
                    x: vertices[j].y - vertices[i].y, 
                    y: vertices[i].x - vertices[j].x
                }),
                gradient = (normal.y === 0) ? Infinity : (normal.x / normal.y);
            
            // limit precision
            gradient = gradient.toFixed(3).toString();
            axes[gradient] = normal;
        }

        return Common.values(axes);
    };

    /**
     * Rotates a set of axes by the given angle.
     * @method rotate
     * @param {axes} axes
     * @param {number} angle
     */
    Axes.rotate = function(axes, angle) {
        if (angle === 0)
            return;
        
        var cos = Math.cos(angle),
            sin = Math.sin(angle);

        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i],
                xx;
            xx = axis.x * cos - axis.y * sin;
            axis.y = axis.x * sin + axis.y * cos;
            axis.x = xx;
        }
    };

})();

},{"../core/Common":14,"../geometry/Vector":28}],26:[function(_dereq_,module,exports){
/**
* The `Matter.Bounds` module contains methods for creating and manipulating axis-aligned bounding boxes (AABB).
*
* @class Bounds
*/

var Bounds = {};

module.exports = Bounds;

(function() {

    /**
     * Creates a new axis-aligned bounding box (AABB) for the given vertices.
     * @method create
     * @param {vertices} vertices
     * @return {bounds} A new bounds object
     */
    Bounds.create = function(vertices) {
        var bounds = { 
            min: { x: 0, y: 0 }, 
            max: { x: 0, y: 0 }
        };

        if (vertices)
            Bounds.update(bounds, vertices);
        
        return bounds;
    };

    /**
     * Updates bounds using the given vertices and extends the bounds given a velocity.
     * @method update
     * @param {bounds} bounds
     * @param {vertices} vertices
     * @param {vector} velocity
     */
    Bounds.update = function(bounds, vertices, velocity) {
        bounds.min.x = Infinity;
        bounds.max.x = -Infinity;
        bounds.min.y = Infinity;
        bounds.max.y = -Infinity;

        for (var i = 0; i < vertices.length; i++) {
            var vertex = vertices[i];
            if (vertex.x > bounds.max.x) bounds.max.x = vertex.x;
            if (vertex.x < bounds.min.x) bounds.min.x = vertex.x;
            if (vertex.y > bounds.max.y) bounds.max.y = vertex.y;
            if (vertex.y < bounds.min.y) bounds.min.y = vertex.y;
        }
        
        if (velocity) {
            if (velocity.x > 0) {
                bounds.max.x += velocity.x;
            } else {
                bounds.min.x += velocity.x;
            }
            
            if (velocity.y > 0) {
                bounds.max.y += velocity.y;
            } else {
                bounds.min.y += velocity.y;
            }
        }
    };

    /**
     * Returns true if the bounds contains the given point.
     * @method contains
     * @param {bounds} bounds
     * @param {vector} point
     * @return {boolean} True if the bounds contain the point, otherwise false
     */
    Bounds.contains = function(bounds, point) {
        return point.x >= bounds.min.x && point.x <= bounds.max.x 
               && point.y >= bounds.min.y && point.y <= bounds.max.y;
    };

    /**
     * Returns true if the two bounds intersect.
     * @method overlaps
     * @param {bounds} boundsA
     * @param {bounds} boundsB
     * @return {boolean} True if the bounds overlap, otherwise false
     */
    Bounds.overlaps = function(boundsA, boundsB) {
        return (boundsA.min.x <= boundsB.max.x && boundsA.max.x >= boundsB.min.x
                && boundsA.max.y >= boundsB.min.y && boundsA.min.y <= boundsB.max.y);
    };

    /**
     * Translates the bounds by the given vector.
     * @method translate
     * @param {bounds} bounds
     * @param {vector} vector
     */
    Bounds.translate = function(bounds, vector) {
        bounds.min.x += vector.x;
        bounds.max.x += vector.x;
        bounds.min.y += vector.y;
        bounds.max.y += vector.y;
    };

    /**
     * Shifts the bounds to the given position.
     * @method shift
     * @param {bounds} bounds
     * @param {vector} position
     */
    Bounds.shift = function(bounds, position) {
        var deltaX = bounds.max.x - bounds.min.x,
            deltaY = bounds.max.y - bounds.min.y;
            
        bounds.min.x = position.x;
        bounds.max.x = position.x + deltaX;
        bounds.min.y = position.y;
        bounds.max.y = position.y + deltaY;
    };
    
})();

},{}],27:[function(_dereq_,module,exports){
/**
* The `Matter.Svg` module contains methods for converting SVG images into an array of vector points.
*
* To use this module you also need the SVGPathSeg polyfill: https://github.com/progers/pathseg
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Svg
*/

var Svg = {};

module.exports = Svg;

var Bounds = _dereq_('../geometry/Bounds');

(function() {

    /**
     * Converts an SVG path into an array of vector points.
     * If the input path forms a concave shape, you must decompose the result into convex parts before use.
     * See `Bodies.fromVertices` which provides support for this.
     * Note that this function is not guaranteed to support complex paths (such as those with holes).
     * @method pathToVertices
     * @param {SVGPathElement} path
     * @param {Number} [sampleLength=15]
     * @return {Vector[]} points
     */
    Svg.pathToVertices = function(path, sampleLength) {
        // https://github.com/wout/svg.topoly.js/blob/master/svg.topoly.js
        var i, il, total, point, segment, segments, 
            segmentsQueue, lastSegment, 
            lastPoint, segmentIndex, points = [],
            lx, ly, length = 0, x = 0, y = 0;

        sampleLength = sampleLength || 15;

        var addPoint = function(px, py, pathSegType) {
            // all odd-numbered path types are relative except PATHSEG_CLOSEPATH (1)
            var isRelative = pathSegType % 2 === 1 && pathSegType > 1;

            // when the last point doesn't equal the current point add the current point
            if (!lastPoint || px != lastPoint.x || py != lastPoint.y) {
                if (lastPoint && isRelative) {
                    lx = lastPoint.x;
                    ly = lastPoint.y;
                } else {
                    lx = 0;
                    ly = 0;
                }

                var point = {
                    x: lx + px,
                    y: ly + py
                };

                // set last point
                if (isRelative || !lastPoint) {
                    lastPoint = point;
                }

                points.push(point);

                x = lx + px;
                y = ly + py;
            }
        };

        var addSegmentPoint = function(segment) {
            var segType = segment.pathSegTypeAsLetter.toUpperCase();

            // skip path ends
            if (segType === 'Z') 
                return;

            // map segment to x and y
            switch (segType) {

            case 'M':
            case 'L':
            case 'T':
            case 'C':
            case 'S':
            case 'Q':
                x = segment.x;
                y = segment.y;
                break;
            case 'H':
                x = segment.x;
                break;
            case 'V':
                y = segment.y;
                break;
            }

            addPoint(x, y, segment.pathSegType);
        };

        // ensure path is absolute
        _svgPathToAbsolute(path);

        // get total length
        total = path.getTotalLength();

        // queue segments
        segments = [];
        for (i = 0; i < path.pathSegList.numberOfItems; i += 1)
            segments.push(path.pathSegList.getItem(i));

        segmentsQueue = segments.concat();

        // sample through path
        while (length < total) {
            // get segment at position
            segmentIndex = path.getPathSegAtLength(length);
            segment = segments[segmentIndex];

            // new segment
            if (segment != lastSegment) {
                while (segmentsQueue.length && segmentsQueue[0] != segment)
                    addSegmentPoint(segmentsQueue.shift());

                lastSegment = segment;
            }

            // add points in between when curving
            // TODO: adaptive sampling
            switch (segment.pathSegTypeAsLetter.toUpperCase()) {

            case 'C':
            case 'T':
            case 'S':
            case 'Q':
            case 'A':
                point = path.getPointAtLength(length);
                addPoint(point.x, point.y, 0);
                break;

            }

            // increment by sample value
            length += sampleLength;
        }

        // add remaining segments not passed by sampling
        for (i = 0, il = segmentsQueue.length; i < il; ++i)
            addSegmentPoint(segmentsQueue[i]);

        return points;
    };

    var _svgPathToAbsolute = function(path) {
        // http://phrogz.net/convert-svg-path-to-all-absolute-commands
        var x0, y0, x1, y1, x2, y2, segs = path.pathSegList,
            x = 0, y = 0, len = segs.numberOfItems;

        for (var i = 0; i < len; ++i) {
            var seg = segs.getItem(i),
                segType = seg.pathSegTypeAsLetter;

            if (/[MLHVCSQTA]/.test(segType)) {
                if ('x' in seg) x = seg.x;
                if ('y' in seg) y = seg.y;
            } else {
                if ('x1' in seg) x1 = x + seg.x1;
                if ('x2' in seg) x2 = x + seg.x2;
                if ('y1' in seg) y1 = y + seg.y1;
                if ('y2' in seg) y2 = y + seg.y2;
                if ('x' in seg) x += seg.x;
                if ('y' in seg) y += seg.y;

                switch (segType) {

                case 'm':
                    segs.replaceItem(path.createSVGPathSegMovetoAbs(x, y), i);
                    break;
                case 'l':
                    segs.replaceItem(path.createSVGPathSegLinetoAbs(x, y), i);
                    break;
                case 'h':
                    segs.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(x), i);
                    break;
                case 'v':
                    segs.replaceItem(path.createSVGPathSegLinetoVerticalAbs(y), i);
                    break;
                case 'c':
                    segs.replaceItem(path.createSVGPathSegCurvetoCubicAbs(x, y, x1, y1, x2, y2), i);
                    break;
                case 's':
                    segs.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(x, y, x2, y2), i);
                    break;
                case 'q':
                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(x, y, x1, y1), i);
                    break;
                case 't':
                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(x, y), i);
                    break;
                case 'a':
                    segs.replaceItem(path.createSVGPathSegArcAbs(x, y, seg.r1, seg.r2, seg.angle, seg.largeArcFlag, seg.sweepFlag), i);
                    break;
                case 'z':
                case 'Z':
                    x = x0;
                    y = y0;
                    break;

                }
            }

            if (segType == 'M' || segType == 'm') {
                x0 = x;
                y0 = y;
            }
        }
    };

})();
},{"../geometry/Bounds":26}],28:[function(_dereq_,module,exports){
/**
* The `Matter.Vector` module contains methods for creating and manipulating vectors.
* Vectors are the basis of all the geometry related operations in the engine.
* A `Matter.Vector` object is of the form `{ x: 0, y: 0 }`.
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Vector
*/

// TODO: consider params for reusing vector objects

var Vector = {};

module.exports = Vector;

(function() {

    /**
     * Creates a new vector.
     * @method create
     * @param {number} x
     * @param {number} y
     * @return {vector} A new vector
     */
    Vector.create = function(x, y) {
        return { x: x || 0, y: y || 0 };
    };

    /**
     * Returns a new vector with `x` and `y` copied from the given `vector`.
     * @method clone
     * @param {vector} vector
     * @return {vector} A new cloned vector
     */
    Vector.clone = function(vector) {
        return { x: vector.x, y: vector.y };
    };

    /**
     * Returns the magnitude (length) of a vector.
     * @method magnitude
     * @param {vector} vector
     * @return {number} The magnitude of the vector
     */
    Vector.magnitude = function(vector) {
        return Math.sqrt((vector.x * vector.x) + (vector.y * vector.y));
    };

    /**
     * Returns the magnitude (length) of a vector (therefore saving a `sqrt` operation).
     * @method magnitudeSquared
     * @param {vector} vector
     * @return {number} The squared magnitude of the vector
     */
    Vector.magnitudeSquared = function(vector) {
        return (vector.x * vector.x) + (vector.y * vector.y);
    };

    /**
     * Rotates the vector about (0, 0) by specified angle.
     * @method rotate
     * @param {vector} vector
     * @param {number} angle
     * @return {vector} A new vector rotated about (0, 0)
     */
    Vector.rotate = function(vector, angle) {
        var cos = Math.cos(angle), sin = Math.sin(angle);
        return {
            x: vector.x * cos - vector.y * sin,
            y: vector.x * sin + vector.y * cos
        };
    };

    /**
     * Rotates the vector about a specified point by specified angle.
     * @method rotateAbout
     * @param {vector} vector
     * @param {number} angle
     * @param {vector} point
     * @param {vector} [output]
     * @return {vector} A new vector rotated about the point
     */
    Vector.rotateAbout = function(vector, angle, point, output) {
        var cos = Math.cos(angle), sin = Math.sin(angle);
        if (!output) output = {};
        var x = point.x + ((vector.x - point.x) * cos - (vector.y - point.y) * sin);
        output.y = point.y + ((vector.x - point.x) * sin + (vector.y - point.y) * cos);
        output.x = x;
        return output;
    };

    /**
     * Normalises a vector (such that its magnitude is `1`).
     * @method normalise
     * @param {vector} vector
     * @return {vector} A new vector normalised
     */
    Vector.normalise = function(vector) {
        var magnitude = Vector.magnitude(vector);
        if (magnitude === 0)
            return { x: 0, y: 0 };
        return { x: vector.x / magnitude, y: vector.y / magnitude };
    };

    /**
     * Returns the dot-product of two vectors.
     * @method dot
     * @param {vector} vectorA
     * @param {vector} vectorB
     * @return {number} The dot product of the two vectors
     */
    Vector.dot = function(vectorA, vectorB) {
        return (vectorA.x * vectorB.x) + (vectorA.y * vectorB.y);
    };

    /**
     * Returns the cross-product of two vectors.
     * @method cross
     * @param {vector} vectorA
     * @param {vector} vectorB
     * @return {number} The cross product of the two vectors
     */
    Vector.cross = function(vectorA, vectorB) {
        return (vectorA.x * vectorB.y) - (vectorA.y * vectorB.x);
    };

    /**
     * Returns the cross-product of three vectors.
     * @method cross3
     * @param {vector} vectorA
     * @param {vector} vectorB
     * @param {vector} vectorC
     * @return {number} The cross product of the three vectors
     */
    Vector.cross3 = function(vectorA, vectorB, vectorC) {
        return (vectorB.x - vectorA.x) * (vectorC.y - vectorA.y) - (vectorB.y - vectorA.y) * (vectorC.x - vectorA.x);
    };

    /**
     * Adds the two vectors.
     * @method add
     * @param {vector} vectorA
     * @param {vector} vectorB
     * @param {vector} [output]
     * @return {vector} A new vector of vectorA and vectorB added
     */
    Vector.add = function(vectorA, vectorB, output) {
        if (!output) output = {};
        output.x = vectorA.x + vectorB.x;
        output.y = vectorA.y + vectorB.y;
        return output;
    };

    /**
     * Subtracts the two vectors.
     * @method sub
     * @param {vector} vectorA
     * @param {vector} vectorB
     * @param {vector} [output]
     * @return {vector} A new vector of vectorA and vectorB subtracted
     */
    Vector.sub = function(vectorA, vectorB, output) {
        if (!output) output = {};
        output.x = vectorA.x - vectorB.x;
        output.y = vectorA.y - vectorB.y;
        return output;
    };

    /**
     * Multiplies a vector and a scalar.
     * @method mult
     * @param {vector} vector
     * @param {number} scalar
     * @return {vector} A new vector multiplied by scalar
     */
    Vector.mult = function(vector, scalar) {
        return { x: vector.x * scalar, y: vector.y * scalar };
    };

    /**
     * Divides a vector and a scalar.
     * @method div
     * @param {vector} vector
     * @param {number} scalar
     * @return {vector} A new vector divided by scalar
     */
    Vector.div = function(vector, scalar) {
        return { x: vector.x / scalar, y: vector.y / scalar };
    };

    /**
     * Returns the perpendicular vector. Set `negate` to true for the perpendicular in the opposite direction.
     * @method perp
     * @param {vector} vector
     * @param {bool} [negate=false]
     * @return {vector} The perpendicular vector
     */
    Vector.perp = function(vector, negate) {
        negate = negate === true ? -1 : 1;
        return { x: negate * -vector.y, y: negate * vector.x };
    };

    /**
     * Negates both components of a vector such that it points in the opposite direction.
     * @method neg
     * @param {vector} vector
     * @return {vector} The negated vector
     */
    Vector.neg = function(vector) {
        return { x: -vector.x, y: -vector.y };
    };

    /**
     * Returns the angle in radians between the two vectors relative to the x-axis.
     * @method angle
     * @param {vector} vectorA
     * @param {vector} vectorB
     * @return {number} The angle in radians
     */
    Vector.angle = function(vectorA, vectorB) {
        return Math.atan2(vectorB.y - vectorA.y, vectorB.x - vectorA.x);
    };

    /**
     * Temporary vector pool (not thread-safe).
     * @property _temp
     * @type {vector[]}
     * @private
     */
    Vector._temp = [Vector.create(), Vector.create(), 
                    Vector.create(), Vector.create(), 
                    Vector.create(), Vector.create()];

})();
},{}],29:[function(_dereq_,module,exports){
/**
* The `Matter.Vertices` module contains methods for creating and manipulating sets of vertices.
* A set of vertices is an array of `Matter.Vector` with additional indexing properties inserted by `Vertices.create`.
* A `Matter.Body` maintains a set of vertices to represent the shape of the object (its convex hull).
*
* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).
*
* @class Vertices
*/

var Vertices = {};

module.exports = Vertices;

var Vector = _dereq_('../geometry/Vector');
var Common = _dereq_('../core/Common');

(function() {

    /**
     * Creates a new set of `Matter.Body` compatible vertices.
     * The `points` argument accepts an array of `Matter.Vector` points orientated around the origin `(0, 0)`, for example:
     *
     *     [{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]
     *
     * The `Vertices.create` method returns a new array of vertices, which are similar to Matter.Vector objects,
     * but with some additional references required for efficient collision detection routines.
     *
     * Vertices must be specified in clockwise order.
     *
     * Note that the `body` argument is not optional, a `Matter.Body` reference must be provided.
     *
     * @method create
     * @param {vector[]} points
     * @param {body} body
     */
    Vertices.create = function(points, body) {
        var vertices = [];

        for (var i = 0; i < points.length; i++) {
            var point = points[i],
                vertex = {
                    x: point.x,
                    y: point.y,
                    index: i,
                    body: body,
                    isInternal: false
                };

            vertices.push(vertex);
        }

        return vertices;
    };

    /**
     * Parses a string containing ordered x y pairs separated by spaces (and optionally commas), 
     * into a `Matter.Vertices` object for the given `Matter.Body`.
     * For parsing SVG paths, see `Svg.pathToVertices`.
     * @method fromPath
     * @param {string} path
     * @param {body} body
     * @return {vertices} vertices
     */
    Vertices.fromPath = function(path, body) {
        var pathPattern = /L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/ig,
            points = [];

        path.replace(pathPattern, function(match, x, y) {
            points.push({ x: parseFloat(x), y: parseFloat(y) });
        });

        return Vertices.create(points, body);
    };

    /**
     * Returns the centre (centroid) of the set of vertices.
     * @method centre
     * @param {vertices} vertices
     * @return {vector} The centre point
     */
    Vertices.centre = function(vertices) {
        var area = Vertices.area(vertices, true),
            centre = { x: 0, y: 0 },
            cross,
            temp,
            j;

        for (var i = 0; i < vertices.length; i++) {
            j = (i + 1) % vertices.length;
            cross = Vector.cross(vertices[i], vertices[j]);
            temp = Vector.mult(Vector.add(vertices[i], vertices[j]), cross);
            centre = Vector.add(centre, temp);
        }

        return Vector.div(centre, 6 * area);
    };

    /**
     * Returns the average (mean) of the set of vertices.
     * @method mean
     * @param {vertices} vertices
     * @return {vector} The average point
     */
    Vertices.mean = function(vertices) {
        var average = { x: 0, y: 0 };

        for (var i = 0; i < vertices.length; i++) {
            average.x += vertices[i].x;
            average.y += vertices[i].y;
        }

        return Vector.div(average, vertices.length);
    };

    /**
     * Returns the area of the set of vertices.
     * @method area
     * @param {vertices} vertices
     * @param {bool} signed
     * @return {number} The area
     */
    Vertices.area = function(vertices, signed) {
        var area = 0,
            j = vertices.length - 1;

        for (var i = 0; i < vertices.length; i++) {
            area += (vertices[j].x - vertices[i].x) * (vertices[j].y + vertices[i].y);
            j = i;
        }

        if (signed)
            return area / 2;

        return Math.abs(area) / 2;
    };

    /**
     * Returns the moment of inertia (second moment of area) of the set of vertices given the total mass.
     * @method inertia
     * @param {vertices} vertices
     * @param {number} mass
     * @return {number} The polygon's moment of inertia
     */
    Vertices.inertia = function(vertices, mass) {
        var numerator = 0,
            denominator = 0,
            v = vertices,
            cross,
            j;

        // find the polygon's moment of inertia, using second moment of area
        // http://www.physicsforums.com/showthread.php?t=25293
        for (var n = 0; n < v.length; n++) {
            j = (n + 1) % v.length;
            cross = Math.abs(Vector.cross(v[j], v[n]));
            numerator += cross * (Vector.dot(v[j], v[j]) + Vector.dot(v[j], v[n]) + Vector.dot(v[n], v[n]));
            denominator += cross;
        }

        return (mass / 6) * (numerator / denominator);
    };

    /**
     * Translates the set of vertices in-place.
     * @method translate
     * @param {vertices} vertices
     * @param {vector} vector
     * @param {number} scalar
     */
    Vertices.translate = function(vertices, vector, scalar) {
        var i;
        if (scalar) {
            for (i = 0; i < vertices.length; i++) {
                vertices[i].x += vector.x * scalar;
                vertices[i].y += vector.y * scalar;
            }
        } else {
            for (i = 0; i < vertices.length; i++) {
                vertices[i].x += vector.x;
                vertices[i].y += vector.y;
            }
        }

        return vertices;
    };

    /**
     * Rotates the set of vertices in-place.
     * @method rotate
     * @param {vertices} vertices
     * @param {number} angle
     * @param {vector} point
     */
    Vertices.rotate = function(vertices, angle, point) {
        if (angle === 0)
            return;

        var cos = Math.cos(angle),
            sin = Math.sin(angle);

        for (var i = 0; i < vertices.length; i++) {
            var vertice = vertices[i],
                dx = vertice.x - point.x,
                dy = vertice.y - point.y;
                
            vertice.x = point.x + (dx * cos - dy * sin);
            vertice.y = point.y + (dx * sin + dy * cos);
        }

        return vertices;
    };

    /**
     * Returns `true` if the `point` is inside the set of `vertices`.
     * @method contains
     * @param {vertices} vertices
     * @param {vector} point
     * @return {boolean} True if the vertices contains point, otherwise false
     */
    Vertices.contains = function(vertices, point) {
        for (var i = 0; i < vertices.length; i++) {
            var vertice = vertices[i],
                nextVertice = vertices[(i + 1) % vertices.length];
            if ((point.x - vertice.x) * (nextVertice.y - vertice.y) + (point.y - vertice.y) * (vertice.x - nextVertice.x) > 0) {
                return false;
            }
        }

        return true;
    };

    /**
     * Scales the vertices from a point (default is centre) in-place.
     * @method scale
     * @param {vertices} vertices
     * @param {number} scaleX
     * @param {number} scaleY
     * @param {vector} point
     */
    Vertices.scale = function(vertices, scaleX, scaleY, point) {
        if (scaleX === 1 && scaleY === 1)
            return vertices;

        point = point || Vertices.centre(vertices);

        var vertex,
            delta;

        for (var i = 0; i < vertices.length; i++) {
            vertex = vertices[i];
            delta = Vector.sub(vertex, point);
            vertices[i].x = point.x + delta.x * scaleX;
            vertices[i].y = point.y + delta.y * scaleY;
        }

        return vertices;
    };

    /**
     * Chamfers a set of vertices by giving them rounded corners, returns a new set of vertices.
     * The radius parameter is a single number or an array to specify the radius for each vertex.
     * @method chamfer
     * @param {vertices} vertices
     * @param {number[]} radius
     * @param {number} quality
     * @param {number} qualityMin
     * @param {number} qualityMax
     */
    Vertices.chamfer = function(vertices, radius, quality, qualityMin, qualityMax) {
        radius = radius || [8];

        if (!radius.length)
            radius = [radius];

        // quality defaults to -1, which is auto
        quality = (typeof quality !== 'undefined') ? quality : -1;
        qualityMin = qualityMin || 2;
        qualityMax = qualityMax || 14;

        var newVertices = [];

        for (var i = 0; i < vertices.length; i++) {
            var prevVertex = vertices[i - 1 >= 0 ? i - 1 : vertices.length - 1],
                vertex = vertices[i],
                nextVertex = vertices[(i + 1) % vertices.length],
                currentRadius = radius[i < radius.length ? i : radius.length - 1];

            if (currentRadius === 0) {
                newVertices.push(vertex);
                continue;
            }

            var prevNormal = Vector.normalise({ 
                x: vertex.y - prevVertex.y, 
                y: prevVertex.x - vertex.x
            });

            var nextNormal = Vector.normalise({ 
                x: nextVertex.y - vertex.y, 
                y: vertex.x - nextVertex.x
            });

            var diagonalRadius = Math.sqrt(2 * Math.pow(currentRadius, 2)),
                radiusVector = Vector.mult(Common.clone(prevNormal), currentRadius),
                midNormal = Vector.normalise(Vector.mult(Vector.add(prevNormal, nextNormal), 0.5)),
                scaledVertex = Vector.sub(vertex, Vector.mult(midNormal, diagonalRadius));

            var precision = quality;

            if (quality === -1) {
                // automatically decide precision
                precision = Math.pow(currentRadius, 0.32) * 1.75;
            }

            precision = Common.clamp(precision, qualityMin, qualityMax);

            // use an even value for precision, more likely to reduce axes by using symmetry
            if (precision % 2 === 1)
                precision += 1;

            var alpha = Math.acos(Vector.dot(prevNormal, nextNormal)),
                theta = alpha / precision;

            for (var j = 0; j < precision; j++) {
                newVertices.push(Vector.add(Vector.rotate(radiusVector, theta * j), scaledVertex));
            }
        }

        return newVertices;
    };

    /**
     * Sorts the input vertices into clockwise order in place.
     * @method clockwiseSort
     * @param {vertices} vertices
     * @return {vertices} vertices
     */
    Vertices.clockwiseSort = function(vertices) {
        var centre = Vertices.mean(vertices);

        vertices.sort(function(vertexA, vertexB) {
            return Vector.angle(centre, vertexA) - Vector.angle(centre, vertexB);
        });

        return vertices;
    };

    /**
     * Returns true if the vertices form a convex shape (vertices must be in clockwise order).
     * @method isConvex
     * @param {vertices} vertices
     * @return {bool} `true` if the `vertices` are convex, `false` if not (or `null` if not computable).
     */
    Vertices.isConvex = function(vertices) {
        // http://paulbourke.net/geometry/polygonmesh/

        var flag = 0,
            n = vertices.length,
            i,
            j,
            k,
            z;

        if (n < 3)
            return null;

        for (i = 0; i < n; i++) {
            j = (i + 1) % n;
            k = (i + 2) % n;
            z = (vertices[j].x - vertices[i].x) * (vertices[k].y - vertices[j].y);
            z -= (vertices[j].y - vertices[i].y) * (vertices[k].x - vertices[j].x);

            if (z < 0) {
                flag |= 1;
            } else if (z > 0) {
                flag |= 2;
            }

            if (flag === 3) {
                return false;
            }
        }

        if (flag !== 0){
            return true;
        } else {
            return null;
        }
    };

    /**
     * Returns the convex hull of the input vertices as a new array of points.
     * @method hull
     * @param {vertices} vertices
     * @return [vertex] vertices
     */
    Vertices.hull = function(vertices) {
        // http://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain

        var upper = [],
            lower = [], 
            vertex,
            i;

        // sort vertices on x-axis (y-axis for ties)
        vertices = vertices.slice(0);
        vertices.sort(function(vertexA, vertexB) {
            var dx = vertexA.x - vertexB.x;
            return dx !== 0 ? dx : vertexA.y - vertexB.y;
        });

        // build lower hull
        for (i = 0; i < vertices.length; i++) {
            vertex = vertices[i];

            while (lower.length >= 2 
                   && Vector.cross3(lower[lower.length - 2], lower[lower.length - 1], vertex) <= 0) {
                lower.pop();
            }

            lower.push(vertex);
        }

        // build upper hull
        for (i = vertices.length - 1; i >= 0; i--) {
            vertex = vertices[i];

            while (upper.length >= 2 
                   && Vector.cross3(upper[upper.length - 2], upper[upper.length - 1], vertex) <= 0) {
                upper.pop();
            }

            upper.push(vertex);
        }

        // concatenation of the lower and upper hulls gives the convex hull
        // omit last points because they are repeated at the beginning of the other list
        upper.pop();
        lower.pop();

        return upper.concat(lower);
    };

})();

},{"../core/Common":14,"../geometry/Vector":28}],30:[function(_dereq_,module,exports){
var Matter = module.exports = _dereq_('../core/Matter');

Matter.Body = _dereq_('../body/Body');
Matter.Composite = _dereq_('../body/Composite');
Matter.World = _dereq_('../body/World');

Matter.Contact = _dereq_('../collision/Contact');
Matter.Detector = _dereq_('../collision/Detector');
Matter.Grid = _dereq_('../collision/Grid');
Matter.Pairs = _dereq_('../collision/Pairs');
Matter.Pair = _dereq_('../collision/Pair');
Matter.Query = _dereq_('../collision/Query');
Matter.Resolver = _dereq_('../collision/Resolver');
Matter.SAT = _dereq_('../collision/SAT');

Matter.Constraint = _dereq_('../constraint/Constraint');
Matter.MouseConstraint = _dereq_('../constraint/MouseConstraint');

Matter.Common = _dereq_('../core/Common');
Matter.Engine = _dereq_('../core/Engine');
Matter.Events = _dereq_('../core/Events');
Matter.Mouse = _dereq_('../core/Mouse');
Matter.Runner = _dereq_('../core/Runner');
Matter.Sleeping = _dereq_('../core/Sleeping');
Matter.Plugin = _dereq_('../core/Plugin');


Matter.Bodies = _dereq_('../factory/Bodies');
Matter.Composites = _dereq_('../factory/Composites');

Matter.Axes = _dereq_('../geometry/Axes');
Matter.Bounds = _dereq_('../geometry/Bounds');
Matter.Svg = _dereq_('../geometry/Svg');
Matter.Vector = _dereq_('../geometry/Vector');
Matter.Vertices = _dereq_('../geometry/Vertices');

Matter.Render = _dereq_('../render/Render');
Matter.RenderPixi = _dereq_('../render/RenderPixi');

// aliases

Matter.World.add = Matter.Composite.add;
Matter.World.remove = Matter.Composite.remove;
Matter.World.addComposite = Matter.Composite.addComposite;
Matter.World.addBody = Matter.Composite.addBody;
Matter.World.addConstraint = Matter.Composite.addConstraint;
Matter.World.clear = Matter.Composite.clear;
Matter.Engine.run = Matter.Runner.run;

},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(_dereq_,module,exports){
/**
* The `Matter.Render` module is a simple HTML5 canvas based renderer for visualising instances of `Matter.Engine`.
* It is intended for development and debugging purposes, but may also be suitable for simple games.
* It includes a number of drawing options including wireframe, vector with support for sprites and viewports.
*
* @class Render
*/

var Render = {};

module.exports = Render;

var Common = _dereq_('../core/Common');
var Composite = _dereq_('../body/Composite');
var Bounds = _dereq_('../geometry/Bounds');
var Events = _dereq_('../core/Events');
var Grid = _dereq_('../collision/Grid');
var Vector = _dereq_('../geometry/Vector');
var Mouse = _dereq_('../core/Mouse');

(function() {
    
    var _requestAnimationFrame,
        _cancelAnimationFrame;

    if (typeof window !== 'undefined') {
        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame
                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame 
                                      || function(callback){ window.setTimeout(function() { callback(Common.now()); }, 1000 / 60); };
   
        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame 
                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;
    }

    /**
     * Creates a new renderer. The options parameter is an object that specifies any properties you wish to override the defaults.
     * All properties have default values, and many are pre-calculated automatically based on other properties.
     * See the properties section below for detailed information on what you can pass via the `options` object.
     * @method create
     * @param {object} [options]
     * @return {render} A new renderer
     */
    Render.create = function(options) {
        var defaults = {
            controller: Render,
            engine: null,
            element: null,
            canvas: null,
            mouse: null,
            frameRequestId: null,
            options: {
                width: 800,
                height: 600,
                pixelRatio: 1,
                background: '#18181d',
                wireframeBackground: '#0f0f13',
                hasBounds: !!options.bounds,
                enabled: true,
                wireframes: true,
                showSleeping: true,
                showDebug: false,
                showBroadphase: false,
                showBounds: false,
                showVelocity: false,
                showCollisions: false,
                showSeparations: false,
                showAxes: false,
                showPositions: false,
                showAngleIndicator: false,
                showIds: false,
                showShadows: false,
                showVertexNumbers: false,
                showConvexHulls: false,
                showInternalEdges: false,
                showMousePosition: false
            }
        };

        var render = Common.extend(defaults, options);

        if (render.canvas) {
            render.canvas.width = render.options.width || render.canvas.width;
            render.canvas.height = render.options.height || render.canvas.height;
        }

        render.mouse = options.mouse;
        render.engine = options.engine;
        render.canvas = render.canvas || _createCanvas(render.options.width, render.options.height);
        render.context = render.canvas.getContext('2d');
        render.textures = {};

        render.bounds = render.bounds || { 
            min: { 
                x: 0,
                y: 0
            }, 
            max: { 
                x: render.canvas.width,
                y: render.canvas.height
            }
        };

        if (render.options.pixelRatio !== 1) {
            Render.setPixelRatio(render, render.options.pixelRatio);
        }

        if (Common.isElement(render.element)) {
            render.element.appendChild(render.canvas);
        } else {
            Common.log('Render.create: options.element was undefined, render.canvas was created but not appended', 'warn');
        }

        return render;
    };

    /**
     * Continuously updates the render canvas on the `requestAnimationFrame` event.
     * @method run
     * @param {render} render
     */
    Render.run = function(render) {
        (function loop(time){
            render.frameRequestId = _requestAnimationFrame(loop);
            Render.world(render);
        })();
    };

    /**
     * Ends execution of `Render.run` on the given `render`, by canceling the animation frame request event loop.
     * @method stop
     * @param {render} render
     */
    Render.stop = function(render) {
        _cancelAnimationFrame(render.frameRequestId);
    };

    /**
     * Sets the pixel ratio of the renderer and updates the canvas.
     * To automatically detect the correct ratio, pass the string `'auto'` for `pixelRatio`.
     * @method setPixelRatio
     * @param {render} render
     * @param {number} pixelRatio
     */
    Render.setPixelRatio = function(render, pixelRatio) {
        var options = render.options,
            canvas = render.canvas;

        if (pixelRatio === 'auto') {
            pixelRatio = _getPixelRatio(canvas);
        }

        options.pixelRatio = pixelRatio;
        canvas.setAttribute('data-pixel-ratio', pixelRatio);
        canvas.width = options.width * pixelRatio;
        canvas.height = options.height * pixelRatio;
        canvas.style.width = options.width + 'px';
        canvas.style.height = options.height + 'px';
        render.context.scale(pixelRatio, pixelRatio);
    };

    /**
     * Positions and sizes the viewport around the given object bounds.
     * Objects must have at least one of the following properties:
     * - `object.bounds`
     * - `object.position`
     * - `object.min` and `object.max`
     * - `object.x` and `object.y`
     * @method lookAt
     * @param {render} render
     * @param {object[]} objects
     * @param {vector} [padding]
     * @param {bool} [center=true]
     */
    Render.lookAt = function(render, objects, padding, center) {
        center = typeof center !== 'undefined' ? center : true;
        objects = Common.isArray(objects) ? objects : [objects];
        padding = padding || {
            x: 0,
            y: 0
        };

        // find bounds of all objects
        var bounds = {
            min: { x: Infinity, y: Infinity },
            max: { x: -Infinity, y: -Infinity }
        };

        for (var i = 0; i < objects.length; i += 1) {
            var object = objects[i],
                min = object.bounds ? object.bounds.min : (object.min || object.position || object),
                max = object.bounds ? object.bounds.max : (object.max || object.position || object); 

            if (min && max) { 
                if (min.x < bounds.min.x) 
                    bounds.min.x = min.x;
                    
                if (max.x > bounds.max.x) 
                    bounds.max.x = max.x;

                if (min.y < bounds.min.y) 
                    bounds.min.y = min.y;

                if (max.y > bounds.max.y) 
                    bounds.max.y = max.y;
            }
        }

        // find ratios
        var width = (bounds.max.x - bounds.min.x) + 2 * padding.x,
            height = (bounds.max.y - bounds.min.y) + 2 * padding.y,
            viewHeight = render.canvas.height,
            viewWidth = render.canvas.width,
            outerRatio = viewWidth / viewHeight,
            innerRatio = width / height,
            scaleX = 1,
            scaleY = 1;

        // find scale factor
        if (innerRatio > outerRatio) {
            scaleY = innerRatio / outerRatio;
        } else {
            scaleX = outerRatio / innerRatio;
        }

        // enable bounds
        render.options.hasBounds = true;

        // position and size
        render.bounds.min.x = bounds.min.x;
        render.bounds.max.x = bounds.min.x + width * scaleX;
        render.bounds.min.y = bounds.min.y;
        render.bounds.max.y = bounds.min.y + height * scaleY;

        // center
        if (center) {
            render.bounds.min.x += width * 0.5 - (width * scaleX) * 0.5;
            render.bounds.max.x += width * 0.5 - (width * scaleX) * 0.5;
            render.bounds.min.y += height * 0.5 - (height * scaleY) * 0.5;
            render.bounds.max.y += height * 0.5 - (height * scaleY) * 0.5;
        }

        // padding
        render.bounds.min.x -= padding.x;
        render.bounds.max.x -= padding.x;
        render.bounds.min.y -= padding.y;
        render.bounds.max.y -= padding.y;

        // update mouse
        if (render.mouse) {
            Mouse.setScale(render.mouse, {
                x: (render.bounds.max.x - render.bounds.min.x) / render.canvas.width,
                y: (render.bounds.max.y - render.bounds.min.y) / render.canvas.height
            });

            Mouse.setOffset(render.mouse, render.bounds.min);
        }
    };

    /**
     * Applies viewport transforms based on `render.bounds` to a render context.
     * @method startViewTransform
     * @param {render} render
     */
    Render.startViewTransform = function(render) {
        var boundsWidth = render.bounds.max.x - render.bounds.min.x,
            boundsHeight = render.bounds.max.y - render.bounds.min.y,
            boundsScaleX = boundsWidth / render.options.width,
            boundsScaleY = boundsHeight / render.options.height;

        render.context.scale(1 / boundsScaleX, 1 / boundsScaleY);
        render.context.translate(-render.bounds.min.x, -render.bounds.min.y);
    };

    /**
     * Resets all transforms on the render context.
     * @method endViewTransform
     * @param {render} render
     */
    Render.endViewTransform = function(render) {
        render.context.setTransform(render.options.pixelRatio, 0, 0, render.options.pixelRatio, 0, 0);
    };

    /**
     * Renders the given `engine`'s `Matter.World` object.
     * This is the entry point for all rendering and should be called every time the scene changes.
     * @method world
     * @param {render} render
     */
    Render.world = function(render) {
        var engine = render.engine,
            world = engine.world,
            canvas = render.canvas,
            context = render.context,
            options = render.options,
            allBodies = Composite.allBodies(world),
            allConstraints = Composite.allConstraints(world),
            background = options.wireframes ? options.wireframeBackground : options.background,
            bodies = [],
            constraints = [],
            i;

        var event = {
            timestamp: engine.timing.timestamp
        };

        Events.trigger(render, 'beforeRender', event);

        // apply background if it has changed
        if (render.currentBackground !== background)
            _applyBackground(render, background);

        // clear the canvas with a transparent fill, to allow the canvas background to show
        context.globalCompositeOperation = 'source-in';
        context.fillStyle = "transparent";
        context.fillRect(0, 0, canvas.width, canvas.height);
        context.globalCompositeOperation = 'source-over';

        // handle bounds
        if (options.hasBounds) {
            // filter out bodies that are not in view
            for (i = 0; i < allBodies.length; i++) {
                var body = allBodies[i];
                if (Bounds.overlaps(body.bounds, render.bounds))
                    bodies.push(body);
            }

            // filter out constraints that are not in view
            for (i = 0; i < allConstraints.length; i++) {
                var constraint = allConstraints[i],
                    bodyA = constraint.bodyA,
                    bodyB = constraint.bodyB,
                    pointAWorld = constraint.pointA,
                    pointBWorld = constraint.pointB;

                if (bodyA) pointAWorld = Vector.add(bodyA.position, constraint.pointA);
                if (bodyB) pointBWorld = Vector.add(bodyB.position, constraint.pointB);

                if (!pointAWorld || !pointBWorld)
                    continue;

                if (Bounds.contains(render.bounds, pointAWorld) || Bounds.contains(render.bounds, pointBWorld))
                    constraints.push(constraint);
            }

            // transform the view
            Render.startViewTransform(render);

            // update mouse
            if (render.mouse) {
                Mouse.setScale(render.mouse, {
                    x: (render.bounds.max.x - render.bounds.min.x) / render.canvas.width,
                    y: (render.bounds.max.y - render.bounds.min.y) / render.canvas.height
                });

                Mouse.setOffset(render.mouse, render.bounds.min);
            }
        } else {
            constraints = allConstraints;
            bodies = allBodies;
        }

        if (!options.wireframes || (engine.enableSleeping && options.showSleeping)) {
            // fully featured rendering of bodies
            Render.bodies(render, bodies, context);
        } else {
            if (options.showConvexHulls)
                Render.bodyConvexHulls(render, bodies, context);

            // optimised method for wireframes only
            Render.bodyWireframes(render, bodies, context);
        }

        if (options.showBounds)
            Render.bodyBounds(render, bodies, context);

        if (options.showAxes || options.showAngleIndicator)
            Render.bodyAxes(render, bodies, context);
        
        if (options.showPositions)
            Render.bodyPositions(render, bodies, context);

        if (options.showVelocity)
            Render.bodyVelocity(render, bodies, context);

        if (options.showIds)
            Render.bodyIds(render, bodies, context);

        if (options.showSeparations)
            Render.separations(render, engine.pairs.list, context);

        if (options.showCollisions)
            Render.collisions(render, engine.pairs.list, context);

        if (options.showVertexNumbers)
            Render.vertexNumbers(render, bodies, context);

        if (options.showMousePosition)
            Render.mousePosition(render, render.mouse, context);

        Render.constraints(constraints, context);

        if (options.showBroadphase && engine.broadphase.controller === Grid)
            Render.grid(render, engine.broadphase, context);

        if (options.showDebug)
            Render.debug(render, context);

        if (options.hasBounds) {
            // revert view transforms
            Render.endViewTransform(render);
        }

        Events.trigger(render, 'afterRender', event);
    };

    /**
     * Description
     * @private
     * @method debug
     * @param {render} render
     * @param {RenderingContext} context
     */
    Render.debug = function(render, context) {
        var c = context,
            engine = render.engine,
            world = engine.world,
            metrics = engine.metrics,
            options = render.options,
            bodies = Composite.allBodies(world),
            space = "    ";

        if (engine.timing.timestamp - (render.debugTimestamp || 0) >= 500) {
            var text = "";

            if (metrics.timing) {
                text += "fps: " + Math.round(metrics.timing.fps) + space;
            }


            render.debugString = text;
            render.debugTimestamp = engine.timing.timestamp;
        }

        if (render.debugString) {
            c.font = "12px Arial";

            if (options.wireframes) {
                c.fillStyle = 'rgba(255,255,255,0.5)';
            } else {
                c.fillStyle = 'rgba(0,0,0,0.5)';
            }

            var split = render.debugString.split('\n');

            for (var i = 0; i < split.length; i++) {
                c.fillText(split[i], 50, 50 + i * 18);
            }
        }
    };

    /**
     * Description
     * @private
     * @method constraints
     * @param {constraint[]} constraints
     * @param {RenderingContext} context
     */
    Render.constraints = function(constraints, context) {
        var c = context;

        for (var i = 0; i < constraints.length; i++) {
            var constraint = constraints[i];

            if (!constraint.render.visible || !constraint.pointA || !constraint.pointB)
                continue;

            var bodyA = constraint.bodyA,
                bodyB = constraint.bodyB;

            if (bodyA) {
                c.beginPath();
                c.moveTo(bodyA.position.x + constraint.pointA.x, bodyA.position.y + constraint.pointA.y);
            } else {
                c.beginPath();
                c.moveTo(constraint.pointA.x, constraint.pointA.y);
            }

            if (bodyB) {
                c.lineTo(bodyB.position.x + constraint.pointB.x, bodyB.position.y + constraint.pointB.y);
            } else {
                c.lineTo(constraint.pointB.x, constraint.pointB.y);
            }

            if (constraint.render.lineWidth) {
                c.lineWidth = constraint.render.lineWidth;
                c.strokeStyle = constraint.render.strokeStyle;
                c.stroke();
            }
        }
    };
    
    /**
     * Description
     * @private
     * @method bodyShadows
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyShadows = function(render, bodies, context) {
        var c = context,
            engine = render.engine;

        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            if (!body.render.visible)
                continue;

            if (body.circleRadius) {
                c.beginPath();
                c.arc(body.position.x, body.position.y, body.circleRadius, 0, 2 * Math.PI);
                c.closePath();
            } else {
                c.beginPath();
                c.moveTo(body.vertices[0].x, body.vertices[0].y);
                for (var j = 1; j < body.vertices.length; j++) {
                    c.lineTo(body.vertices[j].x, body.vertices[j].y);
                }
                c.closePath();
            }

            var distanceX = body.position.x - render.options.width * 0.5,
                distanceY = body.position.y - render.options.height * 0.2,
                distance = Math.abs(distanceX) + Math.abs(distanceY);

            c.shadowColor = 'rgba(0,0,0,0.15)';
            c.shadowOffsetX = 0.05 * distanceX;
            c.shadowOffsetY = 0.05 * distanceY;
            c.shadowBlur = 1 + 12 * Math.min(1, distance / 1000);

            c.fill();

            c.shadowColor = null;
            c.shadowOffsetX = null;
            c.shadowOffsetY = null;
            c.shadowBlur = null;
        }
    };

    /**
     * Description
     * @private
     * @method bodies
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodies = function(render, bodies, context) {
        var c = context,
            engine = render.engine,
            options = render.options,
            showInternalEdges = options.showInternalEdges || !options.wireframes,
            body,
            part,
            i,
            k;

        for (i = 0; i < bodies.length; i++) {
            body = bodies[i];

            if (!body.render.visible)
                continue;

            // handle compound parts
            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {
                part = body.parts[k];

                if (!part.render.visible)
                    continue;

                if (options.showSleeping && body.isSleeping) {
                    c.globalAlpha = 0.5 * part.render.opacity;
                } else if (part.render.opacity !== 1) {
                    c.globalAlpha = part.render.opacity;
                }

                if (part.render.sprite && part.render.sprite.texture && !options.wireframes) {
                    // part sprite
                    var sprite = part.render.sprite,
                        texture = _getTexture(render, sprite.texture);

                    c.translate(part.position.x, part.position.y); 
                    c.rotate(part.angle);

                    c.drawImage(
                        texture,
                        texture.width * -sprite.xOffset * sprite.xScale, 
                        texture.height * -sprite.yOffset * sprite.yScale, 
                        texture.width * sprite.xScale, 
                        texture.height * sprite.yScale
                    );

                    // revert translation, hopefully faster than save / restore
                    c.rotate(-part.angle);
                    c.translate(-part.position.x, -part.position.y); 
                } else {
                    // part polygon
                    if (part.circleRadius) {
                        c.beginPath();
                        c.arc(part.position.x, part.position.y, part.circleRadius, 0, 2 * Math.PI);
                    } else {
                        c.beginPath();
                        c.moveTo(part.vertices[0].x, part.vertices[0].y);

                        for (var j = 1; j < part.vertices.length; j++) {
                            if (!part.vertices[j - 1].isInternal || showInternalEdges) {
                                c.lineTo(part.vertices[j].x, part.vertices[j].y);
                            } else {
                                c.moveTo(part.vertices[j].x, part.vertices[j].y);
                            }

                            if (part.vertices[j].isInternal && !showInternalEdges) {
                                c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);
                            }
                        }
                        
                        c.lineTo(part.vertices[0].x, part.vertices[0].y);
                        c.closePath();
                    }

                    if (!options.wireframes) {
                        c.fillStyle = part.render.fillStyle;

                        if (part.render.lineWidth) {
                            c.lineWidth = part.render.lineWidth;
                            c.strokeStyle = part.render.strokeStyle;
                            c.stroke();
                        }

                        c.fill();
                    } else {
                        c.lineWidth = 1;
                        c.strokeStyle = '#bbb';
                        c.stroke();
                    }
                }

                c.globalAlpha = 1;
            }
        }
    };

    /**
     * Optimised method for drawing body wireframes in one pass
     * @private
     * @method bodyWireframes
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyWireframes = function(render, bodies, context) {
        var c = context,
            showInternalEdges = render.options.showInternalEdges,
            body,
            part,
            i,
            j,
            k;

        c.beginPath();

        // render all bodies
        for (i = 0; i < bodies.length; i++) {
            body = bodies[i];

            if (!body.render.visible)
                continue;

            // handle compound parts
            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {
                part = body.parts[k];

                c.moveTo(part.vertices[0].x, part.vertices[0].y);

                for (j = 1; j < part.vertices.length; j++) {
                    if (!part.vertices[j - 1].isInternal || showInternalEdges) {
                        c.lineTo(part.vertices[j].x, part.vertices[j].y);
                    } else {
                        c.moveTo(part.vertices[j].x, part.vertices[j].y);
                    }

                    if (part.vertices[j].isInternal && !showInternalEdges) {
                        c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);
                    }
                }
                
                c.lineTo(part.vertices[0].x, part.vertices[0].y);
            }
        }

        c.lineWidth = 1;
        c.strokeStyle = '#bbb';
        c.stroke();
    };

    /**
     * Optimised method for drawing body convex hull wireframes in one pass
     * @private
     * @method bodyConvexHulls
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyConvexHulls = function(render, bodies, context) {
        var c = context,
            body,
            part,
            i,
            j,
            k;

        c.beginPath();

        // render convex hulls
        for (i = 0; i < bodies.length; i++) {
            body = bodies[i];

            if (!body.render.visible || body.parts.length === 1)
                continue;

            c.moveTo(body.vertices[0].x, body.vertices[0].y);

            for (j = 1; j < body.vertices.length; j++) {
                c.lineTo(body.vertices[j].x, body.vertices[j].y);
            }
            
            c.lineTo(body.vertices[0].x, body.vertices[0].y);
        }

        c.lineWidth = 1;
        c.strokeStyle = 'rgba(255,255,255,0.2)';
        c.stroke();
    };

    /**
     * Renders body vertex numbers.
     * @private
     * @method vertexNumbers
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.vertexNumbers = function(render, bodies, context) {
        var c = context,
            i,
            j,
            k;

        for (i = 0; i < bodies.length; i++) {
            var parts = bodies[i].parts;
            for (k = parts.length > 1 ? 1 : 0; k < parts.length; k++) {
                var part = parts[k];
                for (j = 0; j < part.vertices.length; j++) {
                    c.fillStyle = 'rgba(255,255,255,0.2)';
                    c.fillText(i + '_' + j, part.position.x + (part.vertices[j].x - part.position.x) * 0.8, part.position.y + (part.vertices[j].y - part.position.y) * 0.8);
                }
            }
        }
    };

    /**
     * Renders mouse position.
     * @private
     * @method mousePosition
     * @param {render} render
     * @param {mouse} mouse
     * @param {RenderingContext} context
     */
    Render.mousePosition = function(render, mouse, context) {
        var c = context;
        c.fillStyle = 'rgba(255,255,255,0.8)';
        c.fillText(mouse.position.x + '  ' + mouse.position.y, mouse.position.x + 5, mouse.position.y - 5);
    };

    /**
     * Draws body bounds
     * @private
     * @method bodyBounds
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyBounds = function(render, bodies, context) {
        var c = context,
            engine = render.engine,
            options = render.options;

        c.beginPath();

        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            if (body.render.visible) {
                var parts = bodies[i].parts;
                for (var j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {
                    var part = parts[j];
                    c.rect(part.bounds.min.x, part.bounds.min.y, part.bounds.max.x - part.bounds.min.x, part.bounds.max.y - part.bounds.min.y);
                }
            }
        }

        if (options.wireframes) {
            c.strokeStyle = 'rgba(255,255,255,0.08)';
        } else {
            c.strokeStyle = 'rgba(0,0,0,0.1)';
        }

        c.lineWidth = 1;
        c.stroke();
    };

    /**
     * Draws body angle indicators and axes
     * @private
     * @method bodyAxes
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyAxes = function(render, bodies, context) {
        var c = context,
            engine = render.engine,
            options = render.options,
            part,
            i,
            j,
            k;

        c.beginPath();

        for (i = 0; i < bodies.length; i++) {
            var body = bodies[i],
                parts = body.parts;

            if (!body.render.visible)
                continue;

            if (options.showAxes) {
                // render all axes
                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {
                    part = parts[j];
                    for (k = 0; k < part.axes.length; k++) {
                        var axis = part.axes[k];
                        c.moveTo(part.position.x, part.position.y);
                        c.lineTo(part.position.x + axis.x * 20, part.position.y + axis.y * 20);
                    }
                }
            } else {
                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {
                    part = parts[j];
                    for (k = 0; k < part.axes.length; k++) {
                        // render a single axis indicator
                        c.moveTo(part.position.x, part.position.y);
                        c.lineTo((part.vertices[0].x + part.vertices[part.vertices.length-1].x) / 2, 
                                 (part.vertices[0].y + part.vertices[part.vertices.length-1].y) / 2);
                    }
                }
            }
        }

        if (options.wireframes) {
            c.strokeStyle = 'indianred';
            c.lineWidth = 1;
        } else {
            c.strokeStyle = 'rgba(255, 255, 255, 0.4)';
            c.globalCompositeOperation = 'overlay';
            c.lineWidth = 2;
        }

        c.stroke();
        c.globalCompositeOperation = 'source-over';
    };

    /**
     * Draws body positions
     * @private
     * @method bodyPositions
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyPositions = function(render, bodies, context) {
        var c = context,
            engine = render.engine,
            options = render.options,
            body,
            part,
            i,
            k;

        c.beginPath();

        // render current positions
        for (i = 0; i < bodies.length; i++) {
            body = bodies[i];

            if (!body.render.visible)
                continue;

            // handle compound parts
            for (k = 0; k < body.parts.length; k++) {
                part = body.parts[k];
                c.arc(part.position.x, part.position.y, 3, 0, 2 * Math.PI, false);
                c.closePath();
            }
        }

        if (options.wireframes) {
            c.fillStyle = 'indianred';
        } else {
            c.fillStyle = 'rgba(0,0,0,0.5)';
        }
        c.fill();

        c.beginPath();

        // render previous positions
        for (i = 0; i < bodies.length; i++) {
            body = bodies[i];
            if (body.render.visible) {
                c.arc(body.positionPrev.x, body.positionPrev.y, 2, 0, 2 * Math.PI, false);
                c.closePath();
            }
        }

        c.fillStyle = 'rgba(255,165,0,0.8)';
        c.fill();
    };

    /**
     * Draws body velocity
     * @private
     * @method bodyVelocity
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyVelocity = function(render, bodies, context) {
        var c = context;

        c.beginPath();

        for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];

            if (!body.render.visible)
                continue;

            c.moveTo(body.position.x, body.position.y);
            c.lineTo(body.position.x + (body.position.x - body.positionPrev.x) * 2, body.position.y + (body.position.y - body.positionPrev.y) * 2);
        }

        c.lineWidth = 3;
        c.strokeStyle = 'cornflowerblue';
        c.stroke();
    };

    /**
     * Draws body ids
     * @private
     * @method bodyIds
     * @param {render} render
     * @param {body[]} bodies
     * @param {RenderingContext} context
     */
    Render.bodyIds = function(render, bodies, context) {
        var c = context,
            i,
            j;

        for (i = 0; i < bodies.length; i++) {
            if (!bodies[i].render.visible)
                continue;

            var parts = bodies[i].parts;
            for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {
                var part = parts[j];
                c.font = "12px Arial";
                c.fillStyle = 'rgba(255,255,255,0.5)';
                c.fillText(part.id, part.position.x + 10, part.position.y - 10);
            }
        }
    };

    /**
     * Description
     * @private
     * @method collisions
     * @param {render} render
     * @param {pair[]} pairs
     * @param {RenderingContext} context
     */
    Render.collisions = function(render, pairs, context) {
        var c = context,
            options = render.options,
            pair,
            collision,
            corrected,
            bodyA,
            bodyB,
            i,
            j;

        c.beginPath();

        // render collision positions
        for (i = 0; i < pairs.length; i++) {
            pair = pairs[i];

            if (!pair.isActive)
                continue;

            collision = pair.collision;
            for (j = 0; j < pair.activeContacts.length; j++) {
                var contact = pair.activeContacts[j],
                    vertex = contact.vertex;
                c.rect(vertex.x - 1.5, vertex.y - 1.5, 3.5, 3.5);
            }
        }

        if (options.wireframes) {
            c.fillStyle = 'rgba(255,255,255,0.7)';
        } else {
            c.fillStyle = 'orange';
        }
        c.fill();

        c.beginPath();
            
        // render collision normals
        for (i = 0; i < pairs.length; i++) {
            pair = pairs[i];

            if (!pair.isActive)
                continue;

            collision = pair.collision;

            if (pair.activeContacts.length > 0) {
                var normalPosX = pair.activeContacts[0].vertex.x,
                    normalPosY = pair.activeContacts[0].vertex.y;

                if (pair.activeContacts.length === 2) {
                    normalPosX = (pair.activeContacts[0].vertex.x + pair.activeContacts[1].vertex.x) / 2;
                    normalPosY = (pair.activeContacts[0].vertex.y + pair.activeContacts[1].vertex.y) / 2;
                }
                
                if (collision.bodyB === collision.supports[0].body || collision.bodyA.isStatic === true) {
                    c.moveTo(normalPosX - collision.normal.x * 8, normalPosY - collision.normal.y * 8);
                } else {
                    c.moveTo(normalPosX + collision.normal.x * 8, normalPosY + collision.normal.y * 8);
                }

                c.lineTo(normalPosX, normalPosY);
            }
        }

        if (options.wireframes) {
            c.strokeStyle = 'rgba(255,165,0,0.7)';
        } else {
            c.strokeStyle = 'orange';
        }

        c.lineWidth = 1;
        c.stroke();
    };

    /**
     * Description
     * @private
     * @method separations
     * @param {render} render
     * @param {pair[]} pairs
     * @param {RenderingContext} context
     */
    Render.separations = function(render, pairs, context) {
        var c = context,
            options = render.options,
            pair,
            collision,
            corrected,
            bodyA,
            bodyB,
            i,
            j;

        c.beginPath();

        // render separations
        for (i = 0; i < pairs.length; i++) {
            pair = pairs[i];

            if (!pair.isActive)
                continue;

            collision = pair.collision;
            bodyA = collision.bodyA;
            bodyB = collision.bodyB;

            var k = 1;

            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;
            if (bodyB.isStatic) k = 0;

            c.moveTo(bodyB.position.x, bodyB.position.y);
            c.lineTo(bodyB.position.x - collision.penetration.x * k, bodyB.position.y - collision.penetration.y * k);

            k = 1;

            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;
            if (bodyA.isStatic) k = 0;

            c.moveTo(bodyA.position.x, bodyA.position.y);
            c.lineTo(bodyA.position.x + collision.penetration.x * k, bodyA.position.y + collision.penetration.y * k);
        }

        if (options.wireframes) {
            c.strokeStyle = 'rgba(255,165,0,0.5)';
        } else {
            c.strokeStyle = 'orange';
        }
        c.stroke();
    };

    /**
     * Description
     * @private
     * @method grid
     * @param {render} render
     * @param {grid} grid
     * @param {RenderingContext} context
     */
    Render.grid = function(render, grid, context) {
        var c = context,
            options = render.options;

        if (options.wireframes) {
            c.strokeStyle = 'rgba(255,180,0,0.1)';
        } else {
            c.strokeStyle = 'rgba(255,180,0,0.5)';
        }

        c.beginPath();

        var bucketKeys = Common.keys(grid.buckets);

        for (var i = 0; i < bucketKeys.length; i++) {
            var bucketId = bucketKeys[i];

            if (grid.buckets[bucketId].length < 2)
                continue;

            var region = bucketId.split(/C|R/);
            c.rect(0.5 + parseInt(region[1], 10) * grid.bucketWidth, 
                    0.5 + parseInt(region[2], 10) * grid.bucketHeight, 
                    grid.bucketWidth, 
                    grid.bucketHeight);
        }

        c.lineWidth = 1;
        c.stroke();
    };

    /**
     * Description
     * @private
     * @method inspector
     * @param {inspector} inspector
     * @param {RenderingContext} context
     */
    Render.inspector = function(inspector, context) {
        var engine = inspector.engine,
            selected = inspector.selected,
            render = inspector.render,
            options = render.options,
            bounds;

        if (options.hasBounds) {
            var boundsWidth = render.bounds.max.x - render.bounds.min.x,
                boundsHeight = render.bounds.max.y - render.bounds.min.y,
                boundsScaleX = boundsWidth / render.options.width,
                boundsScaleY = boundsHeight / render.options.height;
            
            context.scale(1 / boundsScaleX, 1 / boundsScaleY);
            context.translate(-render.bounds.min.x, -render.bounds.min.y);
        }

        for (var i = 0; i < selected.length; i++) {
            var item = selected[i].data;

            context.translate(0.5, 0.5);
            context.lineWidth = 1;
            context.strokeStyle = 'rgba(255,165,0,0.9)';
            context.setLineDash([1,2]);

            switch (item.type) {

            case 'body':

                // render body selections
                bounds = item.bounds;
                context.beginPath();
                context.rect(Math.floor(bounds.min.x - 3), Math.floor(bounds.min.y - 3), 
                             Math.floor(bounds.max.x - bounds.min.x + 6), Math.floor(bounds.max.y - bounds.min.y + 6));
                context.closePath();
                context.stroke();

                break;

            case 'constraint':

                // render constraint selections
                var point = item.pointA;
                if (item.bodyA)
                    point = item.pointB;
                context.beginPath();
                context.arc(point.x, point.y, 10, 0, 2 * Math.PI);
                context.closePath();
                context.stroke();

                break;

            }

            context.setLineDash([]);
            context.translate(-0.5, -0.5);
        }

        // render selection region
        if (inspector.selectStart !== null) {
            context.translate(0.5, 0.5);
            context.lineWidth = 1;
            context.strokeStyle = 'rgba(255,165,0,0.6)';
            context.fillStyle = 'rgba(255,165,0,0.1)';
            bounds = inspector.selectBounds;
            context.beginPath();
            context.rect(Math.floor(bounds.min.x), Math.floor(bounds.min.y), 
                         Math.floor(bounds.max.x - bounds.min.x), Math.floor(bounds.max.y - bounds.min.y));
            context.closePath();
            context.stroke();
            context.fill();
            context.translate(-0.5, -0.5);
        }

        if (options.hasBounds)
            context.setTransform(1, 0, 0, 1, 0, 0);
    };

    /**
     * Description
     * @method _createCanvas
     * @private
     * @param {} width
     * @param {} height
     * @return canvas
     */
    var _createCanvas = function(width, height) {
        var canvas = document.createElement('canvas');
        canvas.width = width;
        canvas.height = height;
        canvas.oncontextmenu = function() { return false; };
        canvas.onselectstart = function() { return false; };
        return canvas;
    };

    /**
     * Gets the pixel ratio of the canvas.
     * @method _getPixelRatio
     * @private
     * @param {HTMLElement} canvas
     * @return {Number} pixel ratio
     */
    var _getPixelRatio = function(canvas) {
        var context = canvas.getContext('2d'),
            devicePixelRatio = window.devicePixelRatio || 1,
            backingStorePixelRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio
                                      || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio
                                      || context.backingStorePixelRatio || 1;

        return devicePixelRatio / backingStorePixelRatio;
    };

    /**
     * Gets the requested texture (an Image) via its path
     * @method _getTexture
     * @private
     * @param {render} render
     * @param {string} imagePath
     * @return {Image} texture
     */
    var _getTexture = function(render, imagePath) {
        var image = render.textures[imagePath];

        if (image)
            return image;

        image = render.textures[imagePath] = new Image();
        image.src = imagePath;

        return image;
    };

    /**
     * Applies the background to the canvas using CSS.
     * @method applyBackground
     * @private
     * @param {render} render
     * @param {string} background
     */
    var _applyBackground = function(render, background) {
        var cssBackground = background;

        if (/(jpg|gif|png)$/.test(background))
            cssBackground = 'url(' + background + ')';

        render.canvas.style.background = cssBackground;
        render.canvas.style.backgroundSize = "contain";
        render.currentBackground = background;
    };

    /*
    *
    *  Events Documentation
    *
    */

    /**
    * Fired before rendering
    *
    * @event beforeRender
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /**
    * Fired after rendering
    *
    * @event afterRender
    * @param {} event An event object
    * @param {number} event.timestamp The engine.timing.timestamp of the event
    * @param {} event.source The source object of the event
    * @param {} event.name The name of the event
    */

    /*
    *
    *  Properties Documentation
    *
    */

    /**
     * A back-reference to the `Matter.Render` module.
     *
     * @property controller
     * @type render
     */

    /**
     * A reference to the `Matter.Engine` instance to be used.
     *
     * @property engine
     * @type engine
     */

    /**
     * A reference to the element where the canvas is to be inserted (if `render.canvas` has not been specified)
     *
     * @property element
     * @type HTMLElement
     * @default null
     */

    /**
     * The canvas element to render to. If not specified, one will be created if `render.element` has been specified.
     *
     * @property canvas
     * @type HTMLCanvasElement
     * @default null
     */

    /**
     * The configuration options of the renderer.
     *
     * @property options
     * @type {}
     */

    /**
     * The target width in pixels of the `render.canvas` to be created.
     *
     * @property options.width
     * @type number
     * @default 800
     */

    /**
     * The target height in pixels of the `render.canvas` to be created.
     *
     * @property options.height
     * @type number
     * @default 600
     */

    /**
     * A flag that specifies if `render.bounds` should be used when rendering.
     *
     * @property options.hasBounds
     * @type boolean
     * @default false
     */

    /**
     * A `Bounds` object that specifies the drawing view region. 
     * Rendering will be automatically transformed and scaled to fit within the canvas size (`render.options.width` and `render.options.height`).
     * This allows for creating views that can pan or zoom around the scene.
     * You must also set `render.options.hasBounds` to `true` to enable bounded rendering.
     *
     * @property bounds
     * @type bounds
     */

    /**
     * The 2d rendering context from the `render.canvas` element.
     *
     * @property context
     * @type CanvasRenderingContext2D
     */

    /**
     * The sprite texture cache.
     *
     * @property textures
     * @type {}
     */

})();

},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(_dereq_,module,exports){
/**
* The `Matter.RenderPixi` module is an example renderer using pixi.js.
* See also `Matter.Render` for a canvas based renderer.
*
* @class RenderPixi
* @deprecated the Matter.RenderPixi module will soon be removed from the Matter.js core.
* It will likely be moved to its own repository (but maintenance will be limited).
*/

var RenderPixi = {};

module.exports = RenderPixi;

var Bounds = _dereq_('../geometry/Bounds');
var Composite = _dereq_('../body/Composite');
var Common = _dereq_('../core/Common');
var Events = _dereq_('../core/Events');
var Vector = _dereq_('../geometry/Vector');

(function() {

    var _requestAnimationFrame,
        _cancelAnimationFrame;

    if (typeof window !== 'undefined') {
        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame
                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame 
                                      || function(callback){ window.setTimeout(function() { callback(Common.now()); }, 1000 / 60); };
   
        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame 
                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;
    }
    
    /**
     * Creates a new Pixi.js WebGL renderer
     * @method create
     * @param {object} options
     * @return {RenderPixi} A new renderer
     * @deprecated
     */
    RenderPixi.create = function(options) {
        Common.warn('RenderPixi.create: Matter.RenderPixi is deprecated (see docs)');

        var defaults = {
            controller: RenderPixi,
            engine: null,
            element: null,
            frameRequestId: null,
            canvas: null,
            renderer: null,
            container: null,
            spriteContainer: null,
            pixiOptions: null,
            options: {
                width: 800,
                height: 600,
                background: '#fafafa',
                wireframeBackground: '#222',
                hasBounds: false,
                enabled: true,
                wireframes: true,
                showSleeping: true,
                showDebug: false,
                showBroadphase: false,
                showBounds: false,
                showVelocity: false,
                showCollisions: false,
                showAxes: false,
                showPositions: false,
                showAngleIndicator: false,
                showIds: false,
                showShadows: false
            }
        };

        var render = Common.extend(defaults, options),
            transparent = !render.options.wireframes && render.options.background === 'transparent';

        // init pixi
        render.pixiOptions = render.pixiOptions || {
            view: render.canvas,
            transparent: transparent,
            antialias: true,
            backgroundColor: options.background
        };

        render.mouse = options.mouse;
        render.engine = options.engine;
        render.renderer = render.renderer || new PIXI.WebGLRenderer(render.options.width, render.options.height, render.pixiOptions);
        render.container = render.container || new PIXI.Container();
        render.spriteContainer = render.spriteContainer || new PIXI.Container();
        render.canvas = render.canvas || render.renderer.view;
        render.bounds = render.bounds || { 
            min: {
                x: 0,
                y: 0
            }, 
            max: { 
                x: render.options.width,
                y: render.options.height
            }
        };

        // event listeners
        Events.on(render.engine, 'beforeUpdate', function() {
            RenderPixi.clear(render);
        });

        // caches
        render.textures = {};
        render.sprites = {};
        render.primitives = {};

        // use a sprite batch for performance
        render.container.addChild(render.spriteContainer);

        // insert canvas
        if (Common.isElement(render.element)) {
            render.element.appendChild(render.canvas);
        } else {
            Common.warn('No "render.element" passed, "render.canvas" was not inserted into document.');
        }

        // prevent menus on canvas
        render.canvas.oncontextmenu = function() { return false; };
        render.canvas.onselectstart = function() { return false; };

        return render;
    };

    /**
     * Continuously updates the render canvas on the `requestAnimationFrame` event.
     * @method run
     * @param {render} render
     * @deprecated
     */
    RenderPixi.run = function(render) {
        (function loop(time){
            render.frameRequestId = _requestAnimationFrame(loop);
            RenderPixi.world(render);
        })();
    };

    /**
     * Ends execution of `Render.run` on the given `render`, by canceling the animation frame request event loop.
     * @method stop
     * @param {render} render
     * @deprecated
     */
    RenderPixi.stop = function(render) {
        _cancelAnimationFrame(render.frameRequestId);
    };

    /**
     * Clears the scene graph
     * @method clear
     * @param {RenderPixi} render
     * @deprecated
     */
    RenderPixi.clear = function(render) {
        var container = render.container,
            spriteContainer = render.spriteContainer;

        // clear stage container
        while (container.children[0]) { 
            container.removeChild(container.children[0]); 
        }

        // clear sprite batch
        while (spriteContainer.children[0]) { 
            spriteContainer.removeChild(spriteContainer.children[0]); 
        }

        var bgSprite = render.sprites['bg-0'];

        // clear caches
        render.textures = {};
        render.sprites = {};
        render.primitives = {};

        // set background sprite
        render.sprites['bg-0'] = bgSprite;
        if (bgSprite)
            container.addChildAt(bgSprite, 0);

        // add sprite batch back into container
        render.container.addChild(render.spriteContainer);

        // reset background state
        render.currentBackground = null;

        // reset bounds transforms
        container.scale.set(1, 1);
        container.position.set(0, 0);
    };

    /**
     * Sets the background of the canvas 
     * @method setBackground
     * @param {RenderPixi} render
     * @param {string} background
     * @deprecated
     */
    RenderPixi.setBackground = function(render, background) {
        if (render.currentBackground !== background) {
            var isColor = background.indexOf && background.indexOf('#') !== -1,
                bgSprite = render.sprites['bg-0'];

            if (isColor) {
                // if solid background color
                var color = Common.colorToNumber(background);
                render.renderer.backgroundColor = color;

                // remove background sprite if existing
                if (bgSprite)
                    render.container.removeChild(bgSprite); 
            } else {
                // initialise background sprite if needed
                if (!bgSprite) {
                    var texture = _getTexture(render, background);

                    bgSprite = render.sprites['bg-0'] = new PIXI.Sprite(texture);
                    bgSprite.position.x = 0;
                    bgSprite.position.y = 0;
                    render.container.addChildAt(bgSprite, 0);
                }
            }

            render.currentBackground = background;
        }
    };

    /**
     * Description
     * @method world
     * @param {engine} engine
     * @deprecated
     */
    RenderPixi.world = function(render) {
        var engine = render.engine,
            world = engine.world,
            renderer = render.renderer,
            container = render.container,
            options = render.options,
            bodies = Composite.allBodies(world),
            allConstraints = Composite.allConstraints(world),
            constraints = [],
            i;

        if (options.wireframes) {
            RenderPixi.setBackground(render, options.wireframeBackground);
        } else {
            RenderPixi.setBackground(render, options.background);
        }

        // handle bounds
        var boundsWidth = render.bounds.max.x - render.bounds.min.x,
            boundsHeight = render.bounds.max.y - render.bounds.min.y,
            boundsScaleX = boundsWidth / render.options.width,
            boundsScaleY = boundsHeight / render.options.height;

        if (options.hasBounds) {
            // Hide bodies that are not in view
            for (i = 0; i < bodies.length; i++) {
                var body = bodies[i];
                body.render.sprite.visible = Bounds.overlaps(body.bounds, render.bounds);
            }

            // filter out constraints that are not in view
            for (i = 0; i < allConstraints.length; i++) {
                var constraint = allConstraints[i],
                    bodyA = constraint.bodyA,
                    bodyB = constraint.bodyB,
                    pointAWorld = constraint.pointA,
                    pointBWorld = constraint.pointB;

                if (bodyA) pointAWorld = Vector.add(bodyA.position, constraint.pointA);
                if (bodyB) pointBWorld = Vector.add(bodyB.position, constraint.pointB);

                if (!pointAWorld || !pointBWorld)
                    continue;

                if (Bounds.contains(render.bounds, pointAWorld) || Bounds.contains(render.bounds, pointBWorld))
                    constraints.push(constraint);
            }

            // transform the view
            container.scale.set(1 / boundsScaleX, 1 / boundsScaleY);
            container.position.set(-render.bounds.min.x * (1 / boundsScaleX), -render.bounds.min.y * (1 / boundsScaleY));
        } else {
            constraints = allConstraints;
        }

        for (i = 0; i < bodies.length; i++)
            RenderPixi.body(render, bodies[i]);

        for (i = 0; i < constraints.length; i++)
            RenderPixi.constraint(render, constraints[i]);

        renderer.render(container);
    };


    /**
     * Description
     * @method constraint
     * @param {engine} engine
     * @param {constraint} constraint
     * @deprecated
     */
    RenderPixi.constraint = function(render, constraint) {
        var engine = render.engine,
            bodyA = constraint.bodyA,
            bodyB = constraint.bodyB,
            pointA = constraint.pointA,
            pointB = constraint.pointB,
            container = render.container,
            constraintRender = constraint.render,
            primitiveId = 'c-' + constraint.id,
            primitive = render.primitives[primitiveId];

        // initialise constraint primitive if not existing
        if (!primitive)
            primitive = render.primitives[primitiveId] = new PIXI.Graphics();

        // don't render if constraint does not have two end points
        if (!constraintRender.visible || !constraint.pointA || !constraint.pointB) {
            primitive.clear();
            return;
        }

        // add to scene graph if not already there
        if (Common.indexOf(container.children, primitive) === -1)
            container.addChild(primitive);

        // render the constraint on every update, since they can change dynamically
        primitive.clear();
        primitive.beginFill(0, 0);
        primitive.lineStyle(constraintRender.lineWidth, Common.colorToNumber(constraintRender.strokeStyle), 1);
        
        if (bodyA) {
            primitive.moveTo(bodyA.position.x + pointA.x, bodyA.position.y + pointA.y);
        } else {
            primitive.moveTo(pointA.x, pointA.y);
        }

        if (bodyB) {
            primitive.lineTo(bodyB.position.x + pointB.x, bodyB.position.y + pointB.y);
        } else {
            primitive.lineTo(pointB.x, pointB.y);
        }

        primitive.endFill();
    };
    
    /**
     * Description
     * @method body
     * @param {engine} engine
     * @param {body} body
     * @deprecated
     */
    RenderPixi.body = function(render, body) {
        var engine = render.engine,
            bodyRender = body.render;

        if (!bodyRender.visible)
            return;

        if (bodyRender.sprite && bodyRender.sprite.texture) {
            var spriteId = 'b-' + body.id,
                sprite = render.sprites[spriteId],
                spriteContainer = render.spriteContainer;

            // initialise body sprite if not existing
            if (!sprite)
                sprite = render.sprites[spriteId] = _createBodySprite(render, body);

            // add to scene graph if not already there
            if (Common.indexOf(spriteContainer.children, sprite) === -1)
                spriteContainer.addChild(sprite);

            // update body sprite
            sprite.position.x = body.position.x;
            sprite.position.y = body.position.y;
            sprite.rotation = body.angle;
            sprite.scale.x = bodyRender.sprite.xScale || 1;
            sprite.scale.y = bodyRender.sprite.yScale || 1;
        } else {
            var primitiveId = 'b-' + body.id,
                primitive = render.primitives[primitiveId],
                container = render.container;

            // initialise body primitive if not existing
            if (!primitive) {
                primitive = render.primitives[primitiveId] = _createBodyPrimitive(render, body);
                primitive.initialAngle = body.angle;
            }

            // add to scene graph if not already there
            if (Common.indexOf(container.children, primitive) === -1)
                container.addChild(primitive);

            // update body primitive
            primitive.position.x = body.position.x;
            primitive.position.y = body.position.y;
            primitive.rotation = body.angle - primitive.initialAngle;
        }
    };

    /**
     * Creates a body sprite
     * @method _createBodySprite
     * @private
     * @param {RenderPixi} render
     * @param {body} body
     * @return {PIXI.Sprite} sprite
     * @deprecated
     */
    var _createBodySprite = function(render, body) {
        var bodyRender = body.render,
            texturePath = bodyRender.sprite.texture,
            texture = _getTexture(render, texturePath),
            sprite = new PIXI.Sprite(texture);

        sprite.anchor.x = body.render.sprite.xOffset;
        sprite.anchor.y = body.render.sprite.yOffset;

        return sprite;
    };

    /**
     * Creates a body primitive
     * @method _createBodyPrimitive
     * @private
     * @param {RenderPixi} render
     * @param {body} body
     * @return {PIXI.Graphics} graphics
     * @deprecated
     */
    var _createBodyPrimitive = function(render, body) {
        var bodyRender = body.render,
            options = render.options,
            primitive = new PIXI.Graphics(),
            fillStyle = Common.colorToNumber(bodyRender.fillStyle),
            strokeStyle = Common.colorToNumber(bodyRender.strokeStyle),
            strokeStyleIndicator = Common.colorToNumber(bodyRender.strokeStyle),
            strokeStyleWireframe = Common.colorToNumber('#bbb'),
            strokeStyleWireframeIndicator = Common.colorToNumber('#CD5C5C'),
            part;

        primitive.clear();

        // handle compound parts
        for (var k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {
            part = body.parts[k];

            if (!options.wireframes) {
                primitive.beginFill(fillStyle, 1);
                primitive.lineStyle(bodyRender.lineWidth, strokeStyle, 1);
            } else {
                primitive.beginFill(0, 0);
                primitive.lineStyle(1, strokeStyleWireframe, 1);
            }

            primitive.moveTo(part.vertices[0].x - body.position.x, part.vertices[0].y - body.position.y);

            for (var j = 1; j < part.vertices.length; j++) {
                primitive.lineTo(part.vertices[j].x - body.position.x, part.vertices[j].y - body.position.y);
            }

            primitive.lineTo(part.vertices[0].x - body.position.x, part.vertices[0].y - body.position.y);

            primitive.endFill();

            // angle indicator
            if (options.showAngleIndicator || options.showAxes) {
                primitive.beginFill(0, 0);

                if (options.wireframes) {
                    primitive.lineStyle(1, strokeStyleWireframeIndicator, 1);
                } else {
                    primitive.lineStyle(1, strokeStyleIndicator);
                }

                primitive.moveTo(part.position.x - body.position.x, part.position.y - body.position.y);
                primitive.lineTo(((part.vertices[0].x + part.vertices[part.vertices.length-1].x) / 2 - body.position.x), 
                                 ((part.vertices[0].y + part.vertices[part.vertices.length-1].y) / 2 - body.position.y));

                primitive.endFill();
            }
        }

        return primitive;
    };

    /**
     * Gets the requested texture (a PIXI.Texture) via its path
     * @method _getTexture
     * @private
     * @param {RenderPixi} render
     * @param {string} imagePath
     * @return {PIXI.Texture} texture
     * @deprecated
     */
    var _getTexture = function(render, imagePath) {
        var texture = render.textures[imagePath];

        if (!texture)
            texture = render.textures[imagePath] = PIXI.Texture.fromImage(imagePath);

        return texture;
    };

})();

},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)
});
--></script>
<script
  class="download_content"
  name="mixed/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486429103461"
  
  
  type="hack"
><!--
# „Éü„ÉÉ„ÇØ„Çπ

„Åì„ÅÆ„Çµ„É≥„Éó„É´„Åß„ÅØ„ÄÅÂõõËßí„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å®„ÄÅÂ§öËßíÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å®„ÄÅ  
„Åù„Çå„Çâ„ÅÆËßí„Åå‰∏∏„Åè„Å™„Å£„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå„Éü„ÉÉ„ÇØ„Çπ„Åï„Çå„Å¶„ÅÑ„Çã„Çà

`Common.random` „Çí‰Ωø„ÅÜ„Å®„ÄÅ  
„É©„É≥„ÉÄ„É†„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çì„Å†


## ![ÊîπÈÄ†„Åô„Çã](mixed/main.js)


### Common.random(`min`, `max`)
`min` „Åã„Çâ `max` „Åæ„Åß„ÅÆÊï∞Â≠ó„ÅÆ„ÅÜ„Å°„ÄÅ„É©„É≥„ÉÄ„É†„Å´„Å≤„Å®„Å§„ÅÆÊï∞Â≠ó„ÇíËøî„Åô


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="mixed/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Éü„ÉÉ„ÇØ„Çπ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="mixed/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="mixed/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;085871e233d504085fb5ae0105e9f2ef&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(20, 20, 10, 5, 0, 0, (x, y) => {
	const _sides = Math.round(Common.random(1, 8));

	// 3 „Å†„Å®ËâØ„Åè„Å™„ÅÑ„ÅÆ„Åß„ÄÅ‰ª£„Çè„Çä„Å´ 4 „Å´„Åô„Çã
	const sides = (_sides === 3) ? 4 : _sides;

	// „Åü„Åæ„Å´Ëßí„Çí‰∏∏„Åè„Åô„Çã
	const chamfer = sides > 2 && Common.random() > 0.7 ? {
		radius: 10
	} : null;

	// „É©„É≥„ÉÄ„É†„ÅÆÁ¢∫Áéá
	const rate = Common.random(0, 1);
	if (rate < 0.1) {
		// 10% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(25, 30), {
			chamfer: chamfer
		});
	} else if (rate < 0.5) {
		// „ÅÆ„Åì„Çä 40% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(25, 50), Common.random(25, 50), {
			chamfer: chamfer
		});
	} else {
		// „ÅÆ„Åì„Çä„ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.polygon(x, y, sides, Common.random(25, 50), {
			chamfer: chamfer
		});
	}

});

World.add(world, stack);

World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('mixed/README.md');

--></script>
<script
  class="download_content"
  name="newtonsCradle/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486628635324"
  
  
  type="hack"
><!--
# „Éã„É•„Éº„Éà„É≥„ÅÆ„ÇÜ„Çä„Åã„Åî

[„Éã„É•„Éº„Éà„É≥„ÅÆ„ÇÜ„Çä„Åã„Åî](https://ja.wikipedia.org/wiki/%E3%83%8B%E3%83%A5%E3%83%BC%E3%83%88%E3%83%B3%E3%81%AE%E3%82%86%E3%82%8A%E3%81%8B%E3%81%94)
‰Ωú„Å£„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](newtonsCradle/main.js)

**Composites.newtonsCradle(`1`, `2`, `3`, `4`, `5`)**
| | ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | Â∑¶„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
2 | ‰∏ä„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 600 
3 | ÂÜÜ„ÅÆÊï∞ | 0 ~
4 | ÂÜÜ„ÅÆÂçäÂæÑ | 0 ~  
5 | „Å≤„ÇÇ„ÅÆÈï∑„Åï | 0 ~  

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](newtonsCradle/setting.js)


--></script>
<script
  class="download_content"
  name="newtonsCradle/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Éã„É•„Éº„Éà„É≥„ÅÆ„ÇÜ„Çä„Åã„Åî</title>
		<link rel="stylesheet" href="style.css" />
		<script src="newtonsCradle/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="newtonsCradle/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;b88ed9fe63343a7173cd0c841628e852&quot;}]"
  data-last-modified="1486628805113"
  
  
  type="hack"
><!--
import {
	Body,
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';

// „Éã„É•„Éº„Éà„É≥„ÅÆ„ÇÜ„Çä„Åã„Åî„Çí„Å§„Åè„Çã
const cradle1 = Composites.newtonsCradle(280, 200, 5, 30, 200);

World.add(world, [
	// „Éã„É•„Éº„Éà„É≥„ÅÆ„ÇÜ„Çä„Åã„Åî
	cradle1,
	
]);

// ‰∏ÄÁï™Â∑¶„ÅÆÂÜÜ„Å†„Åë„ÇíÂ∑¶‰∏ä„Å´Âãï„Åã„Åô
Body.translate(cradle1.bodies[0], {
	x: -180,
	y: -100,
});



--></script>
<script
  class="download_content"
  name="newtonsCradle/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486628590430"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Body,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showVelocity = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('newtonsCradle/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="newtonsCradle/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486628621928"
  is-trashed
  
  type="hack"
><!--































--></script>
<script
  class="download_content"
  name="plugins/attractorsPlugin.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830832,&quot;hash&quot;:&quot;33794a3cfb029448386d06d263e2cb14&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
// NOTE: this plugin will be moved to its own repo

import {
	Plugin,
	Composite,
	Common,
	Body,
} from 'matter';


const MatterAttractors = {
	name: 'matter-attractors',

	version: '0.1.0',

	for: 'matter-js@^0.10.0',

	install: function(base) {
		base.after('Body.create', function() {
			MatterAttractors.Body.init(this);
		});

		base.after('Engine.update', function() {
			MatterAttractors.Engine.update(this);
		});
	},

	Body: {
		init: function(body) {
			body.attractors = body.attractors || [];
		}
	},

	Engine: {
		update: function(engine) {
			var world = engine.world,
				bodies = Composite.allBodies(world);

			for (var i = 0; i < bodies.length; i += 1) {
				var bodyA = bodies[i],
					attractors = bodyA.attractors;

				if (attractors && attractors.length > 0) {
					for (var j = i + 1; j < bodies.length; j += 1) {
						var bodyB = bodies[j];

						for (var k = 0; k < attractors.length; k += 1) {
							var attractor = attractors[k],
								forceVector = attractor;

							if (Common.isFunction(attractor)) {
								forceVector = attractor(bodyA, bodyB);
							}

							if (forceVector) {
								Body.applyForce(bodyB, bodyB.position, forceVector);
							}
						}
					}
				}
			}
		}
	}
};

Plugin.register(MatterAttractors);

window.MatterAttractors = MatterAttractors;

--></script>
<script
  class="download_content"
  name="plugins/gravityPlugin.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830832,&quot;hash&quot;:&quot;bb64f313672a06eb3e51e215fed1c903&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
// NOTE: this plugin will be moved to its own repo

import {
	Plugin,
	Vector,
	Body,
} from 'matter';


const MatterGravity = {
	name: 'matter-gravity',

	version: '0.1.0',

	for: 'matter-js@^0.10.0',

	uses: [
		'matter-attractors@^0.1.0'
	],

	install: function(base) {
		base.after('Body.create', function() {
			MatterGravity.Body.init(this);
		});
	},

	Body: {
		init: function(body) {
			if (body.plugin.gravity) {
				body.attractors.push(MatterGravity.Body.applyGravity);
			}
		},

		applyGravity: function(bodyA, bodyB) {
			var bToA = Vector.sub(bodyB.position, bodyA.position),
				distanceSq = Vector.magnitudeSquared(bToA) || 0.0001,
				normal = Vector.normalise(bToA),
				magnitude = -bodyA.plugin.gravity * (bodyA.mass * bodyB.mass / distanceSq),
				force = Vector.mult(normal, magnitude);

			Body.applyForce(bodyA, bodyA.position, Vector.neg(force));
			Body.applyForce(bodyB, bodyB.position, force);
		}
	}
};

Plugin.register(MatterGravity);

window.MatterGravity = MatterGravity;

--></script>
<script
  class="download_content"
  name="plugins/wrapPlugin.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830832,&quot;hash&quot;:&quot;f6cb68af6699fe76b67bec10b5c0f75d&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
// NOTE: this plugin will be moved to its own repo

import {
	Plugin,
	Composite,
	Body,
} from 'matter';


const MatterWrap = {
	name: 'matter-wrap',

	version: '0.1.0',

	for: 'matter-js@^0.10.0',

	install: function(base) {
		base.after('Engine.update', function() {
			MatterWrap.Engine.update(this);
		});
	},

	Engine: {
		update: function(engine) {
			var world = engine.world,
				bodies = Composite.allBodies(world);

			for (var i = 0; i < bodies.length; i += 1) {
				var body = bodies[i];
				body.plugin = body.plugin || {};

				if (body.plugin.wrap) {
					MatterWrap.Body.wrap(body, body.plugin.wrap);
				}
			}
		}
	},

	Body: {
		wrap: function(body, bounds) {
			var x = null,
				y = null;

			if (typeof bounds.min.x !== 'undefined' && typeof bounds.max.x !== 'undefined') {
				if (body.bounds.min.x > bounds.max.x) {
					x = bounds.min.x - (body.bounds.max.x - body.position.x);
				} else if (body.bounds.max.x < bounds.min.x) {
					x = bounds.max.x - (body.bounds.min.x - body.position.x);
				}
			}

			if (typeof bounds.min.y !== 'undefined' && typeof bounds.max.y !== 'undefined') {
				if (body.bounds.min.y > bounds.max.y) {
					y = bounds.min.y - (body.bounds.max.y - body.position.y);
				} else if (body.bounds.max.y < bounds.min.y) {
					y = bounds.max.y - (body.bounds.min.y - body.position.y);
				}
			}

			if (x !== null || y !== null) {
				Body.setPosition(body, {
					x: x || body.position.x,
					y: y || body.position.y
				});
			}
		}
	}
};

Plugin.register(MatterWrap);

window.MatterWrap = MatterWrap;

--></script>
<script
  class="download_content"
  name="pyramid/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486632403579"
  
  
  type="hack"
><!--
# „Éî„É©„Éü„ÉÉ„Éâ

„Éî„É©„Éü„ÉÉ„ÉâÂª∫„Å¶„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)

## ÊîπÈÄ†„Åó„Å¶„Åø„Çã
![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](pyramid/main.js)

**Composites.pyramid(`1`, `2`, `3`, `4`, `5`, `6`, (x, y) => {  
„ÄÄ„ÄÄreturn Bodies.rectangle(x, y, `7`, `8`, {  
„ÄÄ„ÄÄ„ÄÄ„ÄÄrender: {  
„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄfillStyle: `9`,  
„ÄÄ„ÄÄ„ÄÄ„ÄÄ},  
„ÄÄ„ÄÄ});  
});**

| | ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- | --- | ---
1 | „Éî„É©„Éü„ÉÉ„Éâ„ÅÆ‰ΩçÁΩÆÔºàÊ®™Ôºâ | 0 ~ 800
2 | „Éî„É©„Éü„ÉÉ„Éâ„ÅÆ‰ΩçÁΩÆÔºàÁ∏¶Ôºâ | 0 ~ 600 
3 | ‰∏ÄÁï™‰∏ã„ÅÆÂàó„ÅÆÊï∞ÔºàÊ®™Ôºâ | 0 ~ 
4 | ‰∏≠Â§Æ„ÅÆÊÆµ„ÅÆÊï∞Ôºà„Çø„ÉÜÔºâ | 0 ~ 
5 | Ê®™ÊñπÂêë„ÅÆÈñì„Åã„Åè | 0 ~ 
6 | „Çø„ÉÜÊñπÂêë„ÅÆÈñì„Åã„Åè | 0 ~ 
7 | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÊ®™ÂπÖ | 0 ~ 
8 | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÈ´ò„Åï | 0 ~ 

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](pyramid/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](pyramid/stage.js)


- - -

## ÂøúÁî®‰æã

[„Çπ„É™„É≥„Ç∞„Ç∑„Éß„ÉÉ„Éà](slingshot/index.html)

--></script>
<script
  class="download_content"
  name="pyramid/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Éî„É©„Éü„ÉÉ„Éâ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="pyramid/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="pyramid/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;b2da7da0f34f6fd4a8d3656161d2cce1&quot;}]"
  data-last-modified="1486627632799"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// „Éî„É©„Éü„ÉÉ„Éâ
	Composites.pyramid(100, 258, 15, 10, 0, 0, (x, y) => {
		return Bodies.rectangle(x, y, 40, 40, {
			// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆËâ≤
			render: {
				fillStyle: "#F0C000",
			},
			
		});
	}),
	
]);



import './stage';

--></script>
<script
  class="download_content"
  name="pyramid/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486627029039"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('pyramid/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="pyramid/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486627083647"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 605, 800, 50, {
		isStatic: true,
	}),
	
]);
--></script>
<script
  class="download_content"
  name="raycasting/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486430921388"
  
  
  type="hack"
><!--
# Á∑öÂàÜ„Å®„ÅÆ„Åó„Çá„ÅÜÁ™Å


ÁîªÈù¢„ÅÆ‰∏ä„Åã„Çâ„Éû„Ç¶„Çπ„Åæ„Åß„ÅÆÁ∑ö„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅåÈáç„Å™„Å£„Åü„Å®„Åç„ÄÅ  
„Åù„Åì„Å´ÂõõËßíÂΩ¢„ÇíÊèèÁîª„Åô„Çã„Çà


## ![ÊîπÈÄ†„Åô„Çã](raycasting/main.js)


## context „ÅÆ„É°„É≥„Éê„Éº
„É°„É≥„Éê„ÉºÂêç | ÊÑèÂë≥ | 1 | 2 | 3 | 4                                             
--- | --- | --- | --- | --- | ---
beginPath(`1`, `2`) | Êñ∞„Åó„ÅÑ„Éë„Çπ„Çí‰Ωú„Çã | ÂßãÁÇπ(Ê®™) | ÂßãÁÇπ(Á∏¶) | | 
moveTo(`1`, `2`) | ‰Ωï„ÇÇ„Åõ„Åö„Éë„Çπ„ÇíÁßªÂãï„Åô„Çã | ÁßªÂãïÈáè(Ê®™) | ÁßªÂãïÈáè(Á∏¶) | | 
lineTo(`1`, `2`) | Á∑ö„ÇíÂºï„ÅÑ„Å¶„Éë„Çπ„ÇíÁßªÂãï„Åô„Çã | ÁßªÂãïÈáè(Ê®™) | ÁßªÂãïÈáè(Á∏¶) | | 
rect(`1`, `2`, `3`, `4`) | ÂõõËßíÂΩ¢„ÅÆ„Éë„Çπ„ÇíÂºï„Åè | Â∑¶Á´Ø | ‰∏äÁ´Ø | ÂπÖ | È´ò„Åï
strokeStyle = `1` | Á∑ö„ÅÆËâ≤ | Ëâ≤„ÅÆÊñáÂ≠óÂàó | | |
fillStyle = `1` | Â°ó„Çä„Å§„Å∂„Åó„ÅÆËâ≤ | Ëâ≤„ÅÆÊñáÂ≠óÂàó | | |
lineWidth = `1` | Á∑ö„ÅÆÂ§™„Åï | Â§™„Åï„ÅÆÊï∞ÂÄ§ | | |
stroke() | „Éë„Çπ‰∏ä„ÅÆÁ∑ö„ÇíÊèèÁîª„Åô„Çã | | | |
fill() | „Éë„Çπ‰∏ä„ÅÆÈù¢„ÇíÂ°ó„Çä„Å§„Å∂„Åô | | | |


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="raycasting/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Á∑öÂàÜ„Å®„ÅÆ„Åó„Çá„ÅÜÁ™Å</title>
		<link rel="stylesheet" href="style.css" />
		<script src="raycasting/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="raycasting/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;2782cf306a1afdb8800841fa9d48f1e9&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composite,
	Composites,
	Common,
	Query,
	MouseConstraint,
	Mouse,
	Events,
	World,
	Vertices,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(20, 20, 12, 4, 0, 0, (x, y) => {
	// „É©„É≥„ÉÄ„É†„ÅÆÁ¢∫Áéá
	const rate = Common.random(0, 1);
	if (rate < 0.1) {
		// 10% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30));

	} else if (rate < 0.5) {
		// „ÅÆ„Åì„Çä 40% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(20, 50), Common.random(20, 50));

	} else {
		// „ÅÆ„Åì„Çä„ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		const _sides = Math.round(Common.random(1, 8));
		const sides = (_sides === 3) ? 4 : _sides;
		return Bodies.polygon(x, y, sides, Common.random(20, 50));

	}
});

// Êòü„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const star = Vertices.fromPath('50 0 63 38 100 38 69 59 82 100 50 75 18 100 31 59 0 38 37 38');
const concave = Bodies.fromVertices(200, 200, star);

World.add(world, [
	stack,
	concave,
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

Events.on(render, 'afterRender', () => {
	// ÂÆüË°å‰∏≠„ÅØÂ∏∏„Å´ÁîªÈù¢„ÅÆÊèèÁîª„ÅåÁµÇ„Çè„Å£„Åü„Çâ„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

	const mouse = mouseConstraint.mouse;
	const context = render.context;
	const bodies = Composite.allBodies(engine.world);
	// Á∑öÂàÜ„ÅÆ„Çπ„Çø„Éº„ÉàÂú∞ÁÇπ
	const startPoint = {
		x: 400,
		y: 100
	};
	// Á∑öÂàÜ„ÅÆ„Ç®„É≥„ÉâÂú∞ÁÇπ
	const endPoint = mouse.position;

	// Á∑öÂàÜ„ÅÆ„Åó„Çá„ÅÜÁ™ÅÂà§ÂÆö
	const collisions = Query.ray(bodies, startPoint, endPoint);

	Render.startViewTransform(render);

	// Á∑öÂàÜ„ÇíÁîªÈù¢„Å´ÊèèÁîª„Åô„Çã
	context.beginPath();
	context.moveTo(startPoint.x, startPoint.y);
	context.lineTo(endPoint.x, endPoint.y);
	if (collisions.length > 0) {
		context.strokeStyle = '#fff';
	} else {
		context.strokeStyle = '#555';
	}
	context.lineWidth = 0.5;
	context.stroke();

	// Á∑öÂàÜ„Å®„Åó„Çá„ÅÜÁ™Å„Åó„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„ÅÇ„Çã‰ΩçÁΩÆ„Å´„ÄÅÂõõËßíÂΩ¢„ÇíÊèèÁîª„Åô„Çã
	for (const collision of collisions) {
		context.rect(collision.bodyA.position.x - 4.5, collision.bodyA.position.y - 4.5, 8, 8);
	}

	context.fillStyle = 'rgba(255,165,0,0.7)';
	context.fill();

	Render.endViewTransform(render);

});

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('raycasting/README.md');

--></script>
<script
  class="download_content"
  name="rectangle/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486542611510"
  
  
  type="hack"
><!--
# ‰ΩçÁΩÆ„ÉªÂ§ß„Åç„Åï

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„ÇãÊôÇ„ÅÆ **‰ΩçÁΩÆ„Å®Â§ß„Åç„Åï** „ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](rectangle/main.js)

### Bodies.rectangle(`1`, `2`, `3`, `4`);
|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ 
--- | --- | --- 
1 | Â∑¶„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
2 | ‰∏ä„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
3 | Ê®™ÊñπÂêë„ÅÆÈï∑„Åï | 0 ~ 
4 | „Çø„ÉÜÊñπÂêë„ÅÆÈï∑„Åï | 0 ~ 

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](rectangle/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](rectangle/stage.js)

--></script>
<script
  class="download_content"
  name="rectangle/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486516494432"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>‰ΩçÁΩÆ„ÉªÂ§ß„Åç„Åï</title>
		<link rel="stylesheet" href="style.css" />
		<script src="rectangle/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="rectangle/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486542300748"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('rectangle/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="rectangle/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486536527913"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

--></script>
<script
  class="download_content"
  name="render/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486556901456"
  
  
  type="hack"
><!--
# Ëâ≤

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆËâ≤„ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](render/main.js)

|| ÊÑèÂë≥ 
--- | --- 
fillStyle | „Å¨„Çä„Å§„Å∂„Åó„ÅÆËâ≤ 
strokeStyle | Á∑ö„ÅÆËâ≤ 
lineWidth | Á∑ö„ÅÆÂ§™„Åï 

### Ëâ≤„ÅÆ‰Ωú„ÇäÊñπ

`'#FF0000'` „ÅÆ„Çà„ÅÜ„Å™ÊñáÂ≠óÂàó„Åå„ÄÅËâ≤„ÇíË°®„Åó„Å¶„ÅÑ„Åæ„Åô  
Ëâ≤„ÇíË¶ã„Å§„Åë„Çã„Å´„ÅØ [CSSËâ≤Ë¶ãÊú¨](https://hogehoge.tk/webdev/color/)
„Åå‰æøÂà©„Åß„Åô

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](render/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](render/stage.js)

- - -

## ÂøúÁî®‰æã

--></script>
<script
  class="download_content"
  name="render/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486555555933"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ëâ≤</title>
		<link rel="stylesheet" href="style.css" />
		<script src="render/main.js"></script>
	</head>
	<body>
	</body>
</html>

--></script>
<script
  class="download_content"
  name="render/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486556874950"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting.js';

World.add(world, [

	// Ëµ§Ëâ≤„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 100, 100, 100, {
		render: {
			// „Å¨„Çä„Å§„Å∂„Åó„ÅÆËâ≤
			fillStyle: '#FF0000',
		},

	}),

	// ÈªÑËâ≤„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 100, 100, 100, {
		render: {
			// „Å¨„Çä„Å§„Å∂„Åó„ÅÆËâ≤
			fillStyle: '#FFFF00',
			// Á∑ö„ÅÆËâ≤
			strokeStyle: '#000000',
			// Á∑ö„ÅÆÂ§™„Åï
			lineWidth: 1,
		},

	}),

	// Á∑ëËâ≤„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(600, 100, 100, 100, {
		render: {
			// „Å¨„Çä„Å§„Å∂„Åó„ÅÆËâ≤
			fillStyle: '#00FF00',
			// Á∑ö„ÅÆËâ≤
			strokeStyle: '#FFFFFF',
			// Á∑ö„ÅÆÂ§™„Åï
			lineWidth: 20,
		},

	}),

]);


import './stage.js';

--></script>
<script
  class="download_content"
  name="render/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486556977830"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);
render.options.background = '#575757';

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('render/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="render/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486556239842"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	}),
]);

--></script>
<script
  class="download_content"
  name="renderConfigs.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486460089838"
  is-trashed
  
  type="hack"
><!--































--></script>
<script
  class="download_content"
  name="restitution/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486554898416"
  
  
  type="hack"
><!--
# „ÅØ„Å≠Ëøî„Çä

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ [„ÅØ„Å≠Ëøî„Çä](https://ja.wikipedia.org/wiki/%E5%8F%8D%E7%99%BA%E4%BF%82%E6%95%B0)
„ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](restitution/main.js)

|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
restitution | „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï | 0 ~ 1.0

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](restitution/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](restitution/stage.js)

- - -

## ÂøúÁî®‰æã

--></script>
<script
  class="download_content"
  name="restitution/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ë∑≥„Å≠Ëøî„Çä</title>
		<link rel="stylesheet" href="style.css" />
		<script src="restitution/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="restitution/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;62d7d51232a107633925e05d28dcc219&quot;}]"
  data-last-modified="1486554562080"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// ‰∏ÄÁï™Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(100, 150, 50, 50, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 0.9,
		// „Åã„Åü„ÇÄ„Åç
		angle: 0,
		
	}),
	// Â∑¶„Åã„Çâ‰∫åÁï™ÁõÆ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(220, 150, 50, 50, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 0.9,
		// „Åã„Åü„ÇÄ„Åç
		angle: -0.471,
		
	}),
	// Â∑¶„Åã„Çâ‰∏âÁï™ÁõÆ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(340, 150, 50, 50, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 0.9,
		// „Åã„Åü„ÇÄ„Åç
		angle: -0.785,
		
	}),
	// Â∑¶„Åã„ÇâÂõõÁï™ÁõÆ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.circle(460, 150, 25, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 0.9,
		// „Åã„Åü„ÇÄ„Åç
		angle: 0,
		
	}),
	// ‰∏ÄÁï™Âè≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(100 + space * 5, 150, 180, 20, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 0.9,
		// „Åã„Åü„ÇÄ„Åç
		angle: -1.57,
		
	}),
	
]);


import './setting';

--></script>
<script
  class="download_content"
  name="restitution/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486553826494"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
render.options.showCollisions = true;
render.options.showVelocity = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('restitution/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="restitution/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486554546659"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// „Åã„Åπ
World.add(world, [

	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	}),

]);

--></script>
<script
  class="download_content"
  name="rounded/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486558137849"
  
  
  type="hack"
><!--
# Ëßí‰∏∏ 2

Ëßí„Åî„Å®„Å´‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï„ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](rounded/main.js)

### radius: [`1`, `2`, `3`, `4`]

|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | Â∑¶‰∏ä„ÅÆ‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï | 0 ~ 
2 | Âè≥‰∏ä„ÅÆ‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï | 0 ~ 
3 | Âè≥‰∏ã„ÅÆ‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï | 0 ~ 
4 | Â∑¶‰∏ã„ÅÆ‰∏∏„Åø„ÅÆÂ§ß„Åç„Åï | 0 ~ 


„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](rounded/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](rounded/stage.js)

- - -

## ÂøúÁî®‰æã




--></script>
<script
  class="download_content"
  name="rounded/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486470775947"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ëßí‰∏∏ 2</title>
		<link rel="stylesheet" href="style.css" />
		<script src="rounded/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="rounded/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;8459393ea3f2aeb69ca40eb1018b95db&quot;}]"
  data-last-modified="1486471388944"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// „Åô„Åπ„Å¶„ÅÆËßí„Åå‰∏∏„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 200, 100, 100, {
		chamfer: {
			radius: 20,
		},
		
	}),

	// ÊâáÂûã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(300, 200, 100, 100, {
		chamfer: {
			radius: [90, 0, 0, 0],
		},
		
	}),

	// ‰∏∏„ÅÑÊâáÂûã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 200, 200, 200, {
		chamfer: {
			radius: [150, 20, 40, 20],
		},
		
	}),

	// „É©„Ç∞„Éì„Éº„Éú„Éº„É´Áä∂„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 200, 200, 200, {
		chamfer: {
			radius: [150, 20, 150, 20],
		},
		
	}),

	// „Å™„Å†„Çâ„Åã„Å™Â±±Áä∂„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(300, 200, 200, 50, {
		chamfer: {
			radius: [25, 25, 0, 0],
		},
		
	}),

	// ÂÖ´ËßíÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.polygon(200, 100, 8, 80, {
		chamfer: {
			radius: 30,
		},
		
	}),

	// ‰∫îËßíÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.polygon(300, 100, 5, 80, {
		chamfer: {
			radius: [10, 40, 20, 40, 10],
		},
		
	}),

	// ‰∏âËßíÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.polygon(400, 200, 3, 50, {
		chamfer: {
			radius: [20, 0, 20],
		},
		
	}),
	
]);


import './stage';

--></script>
<script
  class="download_content"
  name="rounded/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486471370498"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAxes = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('rounded/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="rounded/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486471293823"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';

World.add(world, [
	// „Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

--></script>
<script
  class="download_content"
  name="sensors/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486428928432"
  
  
  type="hack"
><!--
# „Çª„É≥„Çµ„Éº

„Åó„Çá„ÅÜÁ™Å„Åó„Å¶„ÇÇÂãï„Åã„Å™„ÅÑ„Åë„Å©„ÄÅ  
„Åó„Çá„ÅÜÁ™Å„Åó„Åü„Åã„Å©„ÅÜ„Åã„ÅØÂàÜ„Åã„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„Çã„Åì„Å®„ÇÇ„Åß„Åç„Çã„Çà  
ÔºàÂπΩÈúä„Åø„Åü„ÅÑ„Å†„Å≠Ôºâ

„Åù„ÅÜ„ÅÑ„ÅÜ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Åì„Å®„Çí„ÄÅ„Åì„Åì„Åß„ÅØ„Çª„É≥„Çµ„Éº„Å®Âëº„Å∂„Çà


## ![ÊîπÈÄ†„Åô„Çã](sensors/main.js)


## „Éë„É©„É°„Éº„Çø
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
isSensor | „Çª„É≥„Çµ„Éº„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 
isStatic | ÈùôÊ≠¢„Åó„Å¶„ÅÑ„Çã„Åã„Å©„ÅÜ„Åã | „Éï„É©„Ç∞ | false | true 
render | | | |
strokeStyle | Á∑ö„ÅÆËâ≤ | Ëâ≤ | *"#000000"* (Èªí) | *"#FFFFFF"* (ÁôΩ)
fillStyle | Â°ó„Çä„Å§„Å∂„Åó„ÅÆËâ≤ | Ëâ≤ | *"#000000"* (Èªí) | *"#FFFFFF"* (ÁôΩ)
lineWidth | Á∑ö„ÅÆÂ§™„Åï | px | 0 | Infinity


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="sensors/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Çª„É≥„Çµ„Éº</title>
		<link rel="stylesheet" href="style.css" />
		<script src="sensors/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="sensors/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;e9cbb1682b5a44e6ccf3c7c1835ab13a&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Events,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.wireframes = false;
render.options.background = '#111';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// Ëâ≤
const redColor = '#C44D58';
const greenColor = '#C7F464';

// „Çª„É≥„Çµ„Éº„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const collider = Bodies.rectangle(400, 300, 500, 50, {
	isSensor: true,
	isStatic: true,
	render: {
		strokeStyle: redColor,
		fillStyle: 'transparent',
		lineWidth: 1
	}
});

World.add(world, [
	collider,
	// Â∫ä„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 620, 800, 50, {
		isStatic: true,
		render: {
			fillStyle: 'transparent',
			lineWidth: 1
		}
	})
]);


World.add(world,
	// ÂÜÜ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.circle(400, 40, 30, {
		render: {
			strokeStyle: greenColor,
			fillStyle: 'transparent',
			lineWidth: 1
		}
	})
);

Events.on(engine, 'collisionStart', function(event) {
	// „Åó„Çá„ÅÜÁ™Å„ÅåÂßã„Åæ„Å£„Åü„Çâ„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	
	for (const pair of event.pairs) {
		if (pair.bodyA === collider) {
			pair.bodyB.render.strokeStyle = redColor;
		} else if (pair.bodyB === collider) {
			pair.bodyA.render.strokeStyle = redColor;
		}
	}
	
});

Events.on(engine, 'collisionEnd', function(event) {
	// „Åó„Çá„ÅÜÁ™Å„ÅåÂßã„Åæ„Å£„Åü„Çâ„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	
	for (const pair of event.pairs) {
		if (pair.bodyA === collider) {
			pair.bodyB.render.strokeStyle = greenColor;
		} else if (pair.bodyB === collider) {
			pair.bodyA.render.strokeStyle = greenColor;
		}
	}
	
});

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('sensors/README.md');

--></script>
<script
  class="download_content"
  name="sleeping/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486428886862"
  
  
  type="hack"
><!--
# „Çπ„É™„Éº„Éó„É¢„Éº„Éâ


Matter.js „Åß„ÅØ„ÄÅ‰ΩôË®à„Å™Ë®àÁÆóÂá¶ÁêÜ„ÇíÂ∞ë„Å™„Åè„Åô„Çã„Åü„ÇÅ„Å´„ÄÅ  
„Çπ„É™„Éº„Éó„É¢„Éº„Éâ„ÅÆÊ©üËÉΩ„Åå„ÅÇ„Çã„Çì„Å†

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅØ„ÄÅ„ÅÇ„Çã‰∏ÄÂÆö„ÅÆÈÄüÂ∫¶„Çà„Çä„ÇÇÂãï„Åç„ÅåÈÅÖ„Åè„Å™„Å£„Åü„Å®„Åç„ÄÅ  
„Çπ„É™„Éº„Éó„É¢„Éº„Éâ„Å´„Å™„Çä„ÄÅÂãï„Åã„Å™„Åè„Å™„Çã„Çà„ÄÇ  
‰ªñ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å®„Åó„Çá„ÅÜÁ™Å„Åó„Åü„Çä„Åó„Å¶„ÄÅ„Åæ„ÅüÂãï„Åç„ÅåÊó©„Åè„Å™„Å£„Åü„Å®„Åç„ÄÅ  
„Çπ„É™„Éº„Éó„É¢„Éº„Éâ„ÅØËß£Èô§„Åï„Çå„Çã„Çì„Å†


## ![ÊîπÈÄ†„Åô„Çã](sleeping/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="sleeping/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Çπ„É™„Éº„Éó„É¢„Éº„Éâ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="sleeping/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="sleeping/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;3b8654eb50fa3f8faf9c42f69426ae3b&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	Common,
	Events,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
render.options.showSleeping = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(50, 50, 12, 3, 0, 0, (x, y) => {
	// „É©„É≥„ÉÄ„É†„ÅÆÁ¢∫Áéá
	const rate = Common.random(0, 1);
	if (rate < 0.1) {
		// 10% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30));
	} else if (rate < 0.5) {
		// „ÅÆ„Åì„Çä 40% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(20, 50), Common.random(20, 50));
	} else {
		// „ÅÆ„Åì„Çä„ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.polygon(x, y, Math.round(Common.random(1, 8)), Common.random(20, 50));
	}
});

World.add(world, stack);

for (const body of stack.bodies) {
	Events.on(body, 'sleepStart sleepEnd', (event) => {
	// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åå„Çπ„É™„Éº„Éó„É¢„Éº„Éâ„Å´„Å™„Å£„Åü„Å®„Åç „Åæ„Åü„ÅØ „Åù„ÅÜ„Åß„Å™„Åè„Å™„Å£„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		
		console.log('body id', body.id, 'sleeping:', body.isSleeping);
	
	});
}

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('sleeping/README.md');


--></script>
<script
  class="download_content"
  name="slingshot/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486646249456"
  
  
  type="hack"
><!--
# „Çπ„É™„É≥„Ç∞„Ç∑„Éß„ÉÉ„Éà

„Ç≤„Éº„É†„ÅÆÊôÇÈñì„Å†ÔºÅ  
Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÔºàÂ≤©Ôºâ„ÇíÂºï„Å£Âºµ„Å£„Å¶Èõ¢„Åó„Å¶„ÄÅÂ±±„Çí„Åè„Åö„Åù„ÅÜ

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## „Å©„ÅÜ„ÇÑ„Å£„Å¶‰Ωú„Å£„Å¶„Çã„ÅÆÔºü

„Åì„Çå„Çâ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„Ç≤„Éº„É†„Å´„Åó„Å¶„ÅÑ„Çã„Çà  
> „ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„Çµ„É≥„Éó„É´„Å´ÁßªÂãï„Åó„Åæ„Åô

Èáç„Åï„ÇíÂ§â„Åà„Çã„Å´„ÅØ‚Ä¶[„Åä„ÇÇ„Åï](density/index.html)  
Â±±„Çí‰Ωú„Çã„Å´„ÅØ‚Ä¶[„Éî„É©„Éü„ÉÉ„Éâ](pyramid/index.html)  
Â≤©„ÇíÊîæ„Å§„Å´„ÅØ‚Ä¶[„Éê„Éç](constraint/index.html)„Å®
[„Ç§„Éô„É≥„Éà](events/index.html)  

## ÊîπÈÄ†„Å´ÊåëÊà¶„Åó„Å¶„Åø„Çã

![Âºï„Å£Âºµ„Çã„ÉªÊîæ„Å§](slingshot/main.js)  
![„Çπ„ÉÜ„Éº„Ç∏](slingshot/stage.js)  
![Ë®≠ÂÆö](slingshot/setting.js)

--></script>
<script
  class="download_content"
  name="slingshot/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Çπ„É™„É≥„Ç∞„Ç∑„Éß„ÉÉ„Éà</title>
		<link rel="stylesheet" href="style.css" />
		<script src="slingshot/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="slingshot/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;5d71c7748f2d5e269fcd571936ee0c2a&quot;}]"
  data-last-modified="1486631730695"
  
  
  type="hack"
><!--
import {
	Composites,
	Events,
	Constraint,
	World,
	Bodies,
} from 'matter';

import {
	engine,
	world,
	mouseConstraint,
} from './setting';


// Â≤©„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Å§„Åè„Çã
const rock = Bodies.polygon(170, 450, 8, 20, {
	// „Åä„ÇÇ„Åï
	density: 0.01,
	
});

// Â≤©„Å®„Ç¢„É≥„Ç´„ÉºÂú∞ÁÇπ„Çí„Éê„Éç„Åß„Å§„Å™„Åê
const elastic = Constraint.create({
	pointA: {
		x: 170,
		y: 450
	},
	bodyB: rock,
	stiffness: 0.08,
	
});


World.add(world, [
	// Â≤©„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	rock,
	// „Éê„Éç
	elastic,
	
]);


Events.on(engine, 'afterUpdate', () => {
	// ÊØé„Éï„É¨„Éº„É†„Åì„Åì„Å´ÂÖ•„Çã
	
	// ÁèæÂú®„ÅÆÂ≤©„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	const current = elastic.bodyB;
	
	if (mouseConstraint.mouse.button === -1 && (current.position.x > 190 || current.position.y < 430)) {
		// ÁîªÈù¢„ÅÆ‰∏≠„Åß„Éû„Ç¶„Çπ„ÅåÈõ¢„Åï„Çå„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		
		// Ê¨°„ÅÆÂ≤©„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰Ωú„Çã
		const nextRock = Bodies.polygon(170, 450, 7, 20, {
			// „Åä„ÇÇ„Åï
			density: 0.01,
			
		});
		World.add(world, nextRock);
		
		// Â≤©„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Éê„Éç„Å´„Å§„Åë„Çã
		elastic.bodyB = nextRock;
	}
	
});


import './stage';

--></script>
<script
  class="download_content"
  name="slingshot/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486631359807"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('slingshot/README.md');


export {
	engine,
	world,
	render,
	mouseConstraint,
};

--></script>
<script
  class="download_content"
  name="slingshot/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486631561347"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';


import {
	world,
} from './setting';


World.add(world, [
	// Â∫ä„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(395, 600, 815, 50, {
		isStatic: true,
	}),

	// ‰∏ä„ÅÆÂ∫ä„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(610, 250, 200, 20, {
		isStatic: true
	}),

	// ‰∏ä„ÅÆ„Éî„É©„Éü„ÉÉ„Éâ
	Composites.pyramid(550, 0, 5, 10, 0, 0, (x, y) => {
		return Bodies.rectangle(x, y, 25, 40);
	}),

	//„ÄÄ‰∏ã„ÅÆ„Éî„É©„Éü„ÉÉ„Éâ
	Composites.pyramid(500, 350, 9, 10, 0, 0, (x, y) => {
		return Bodies.rectangle(x, y, 25, 40);
	}),

]);

--></script>
<script
  class="download_content"
  name="softBody/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486626827484"
  
  
  type="hack"
><!--
# „ÇΩ„Éï„Éà„Éú„Éá„Ç£

„ÇΩ„Éï„Éà„Éú„Éá„Ç£„Çí‰Ωø„Å£„Å¶„ÄÅ„Ç¥„É†„Åø„Åü„ÅÑ„Å™„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Åã„Åü„Åæ„Çä„Çí‰Ωú„Å£„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](softBody/main.js)

**Composites.softBody(`1`, `2`, `3`, `4`, `5`, `6`, `7`, `8`, {  
„ÄÄ„ÄÄfriction: `9`,  
});**

| | ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | Â∑¶„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
2 | ‰∏ä„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 600
3 | Âè≥„Å´„ÅÑ„Åè„Å§Âá∫„Åô„Åã | 0 ~
4 | ‰∏ã„Å´„ÅÑ„Åè„Å§Âá∫„Åô„Åã | 0 ~
5 | Ê®™ÊñπÂêë„ÅÆÈñì„Åã„Åè | 0 ~ 
6 | „Çø„ÉÜÊñπÂêë„ÅÆÈñì„Åã„Åè | 0 ~ 
7 | ÂÖÉ„ÅÆÂΩ¢„Å´Êàª„Çã„Åã | `true` „Å™„ÇâÂÖÉ„Å´Êàª„Çç„ÅÜ„Å®„Åô„Çã
8 | ÂÜÜ„ÅÆÂçäÂæÑ | 0 ~ 
9 | „Åæ„Åï„Å§„ÅÆÂ§ß„Åç„Åï | 0 ~ 1.0 

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](softBody/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](softBody/stage.js)

- - -

## ÂøúÁî®‰æã

[Â∏É](cloth/index.html)

--></script>
<script
  class="download_content"
  name="softBody/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„ÇΩ„Éï„Éà„Éú„Éá„Ç£</title>
		<link rel="stylesheet" href="style.css" />
		<script src="softBody/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="softBody/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;e2087ef79cdc24ffee46757f9e30298e&quot;}]"
  data-last-modified="1486626584561"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// „ÇΩ„Éï„Éà„Éú„Éá„Ç£
	Composites.softBody(250, 100, 6, 5, 0, 0, true, 18, {
		// „Åæ„Åï„Å§„ÅÆÂ§ß„Åç„Åï
		friction: 0.1,
		
	}),
	
]);


import './stage';
--></script>
<script
  class="download_content"
  name="softBody/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486626770903"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = false;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);



// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.9,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('softBody/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="softBody/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486626278117"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="sprites/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486455713913"
  
  
  type="hack"
><!--
# „Éì„Éº„ÉÅ„Éú„Éº„É´„Å®Êú®„ÅÆÁÆ±


Â•Ω„Åç„Å™ÁîªÂÉè„Çí„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´Ë≤º„Çä‰ªò„Åë„Å¶Ë°®Á§∫„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çà


## ![ÊîπÈÄ†„Åô„Çã](sprites/main.js)


„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
density | ÂØÜÂ∫¶ | *kg m^-2* | 0 | Infinity
restitution | Ë∑≥„Å≠Ëøî„Çä | ÂÄç | 0 | 1
friction | „Åæ„Åï„Å§‰øÇÊï∞ | ÂÄç | 0 | 1
frictionAir | Á©∫Ê∞óÊäµÊäó | ÂÄç | 0 | 1
render | | | |
sprite |  | | |
texture | „ÉÜ„ÇØ„Çπ„ÉÅ„É£„ÅÆ„Éï„Ç°„Ç§„É´Âêç | „Éï„Ç°„Ç§„É´„ÅÆ„Éë„Çπ | | 


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="sprites/ball.png"
  data-type="image/png"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485781375878,&quot;hash&quot;:&quot;a1e3d62abf6f04e270091678ad0faa9f&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
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
--></script>
<script
  class="download_content"
  name="sprites/box.png"
  data-type="image/png"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485781375880,&quot;hash&quot;:&quot;6c7dc2f25b353533247675344d258697&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
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
--></script>
<script
  class="download_content"
  name="sprites/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Çπ„Éó„É©„Ç§„Éà</title>
		<link rel="stylesheet" href="style.css" />
		<script src="sprites/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="sprites/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;d12aa87af99b4a5aa7431e050fac0786&quot;}]"
  data-last-modified="1486449445113"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


// „Çπ„Éó„É©„Ç§„Éà„ÇíË™≠„ÅøËæº„ÇÄÊ∫ñÂÇô
import 'lib/interrupt.js';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.background = '#0f0f13';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


const offset = 10;
const options = {
	isStatic: true
};

// ÁîªÈù¢„Çà„Çä„ÇÇÂ§ñÂÅ¥„Å´„ÅÇ„ÇãÂ£Å(Ë¶ã„Åà„Å™„ÅÑ)
World.add(world, [
	Bodies.rectangle(400, -offset, 800.5 + 2 * offset, 50.5, options),
	Bodies.rectangle(400, 600 + offset, 800.5 + 2 * offset, 50.5, options),
	Bodies.rectangle(800 + offset, 300, 50.5, 600.5 + 2 * offset, options),
	Bodies.rectangle(-offset, 300, 50.5, 600.5 + 2 * offset, options)
]);

// „Çπ„Éó„É©„Ç§„Éà„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(20, 20, 10, 4, 0, 0, (x, y) => {
	if (Common.random() > 0.35) {
		// 35% „ÅÆÁ¢∫Áéá„Åß„Éú„ÉÉ„ÇØ„Çπ
		return Bodies.rectangle(x, y, 64, 64, {
			render: {
				strokeStyle: '#ffffff',
				sprite: {
					texture: 'sprites/box.png'
				}
			}
		});
	} else {
		// „ÅÆ„Åì„Çä„ÅÆÁ¢∫Áéá„Åß„Éú„Éº„É´
		return Bodies.circle(x, y, 46, {
			density: 0.0005,
			frictionAir: 0.06,
			restitution: 0.3,
			friction: 0.01,
			render: {
				sprite: {
					texture: 'sprites/ball.png'
				}
			}
		});
	}
});

World.add(world, stack);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('sprites/README.md');

--></script>
<script
  class="download_content"
  name="stack.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--































--></script>
<script
  class="download_content"
  name="stack/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486692977927"
  
  
  type="hack"
><!--
# „Çπ„Çø„ÉÉ„ÇØ

„Çπ„Çø„ÉÉ„ÇØ„Çí‰Ωø„Å£„Å¶„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰∏ÄÊ∞ó„Å´Âá∫„Åó„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](stack/main.js)

**Composites.stack(`1`, `2`, `3`, `4`, `5`, `6`, (x, y) => {  
„ÄÄ„ÄÄreturn Bodies.rectangle(x, y, `7`, `8`);  
});**

|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | --- 
1 | Â∑¶„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 800
2 | ‰∏ä„Åã„Çâ„ÅÆ„Ç≠„Éß„É™ | 0 ~ 600
3 | Âè≥„Å´„ÅÑ„Åè„Å§Âá∫„Åô„ÅãÔºàÊ®™Ôºâ | 0 ~ 
4 | ‰∏ã„Å´„ÅÑ„Åè„Å§Âá∫„Åô„ÅãÔºà„Çø„ÉÜÔºâ | 0 ~ 
5 | Âàó„ÅÆÈñì„Åã„ÅèÔºàÊ®™Ôºâ | 0 ~ 
6 | Ë°å„ÅÆÈñì„Åã„ÅèÔºà„Çø„ÉÜÔºâ | 0 ~ 
7 | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÊ®™ÂπÖ | 0 ~ 
8 | „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÈ´ò„Åï | 0 ~ 


„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](stack/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](stack/stage.js)

- - -

## ÂøúÁî®‰æã


[„É¢„É≥„Ç±„Éº„É≥](wreckingBall/index.html)  

--></script>
<script
  class="download_content"
  name="stack/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Çπ„Çø„ÉÉ„ÇØ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="stack/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="stack/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;490da70bc7c611a0e5e9a3a93e1242e0&quot;}]"
  data-last-modified="1486623544032"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
	Composites.stack(200, 380, 10, 5, 0, 0, (x, y) => {
		return Bodies.rectangle(x, y, 40, 40);
	}),
	
]);







import './stage';


--></script>
<script
  class="download_content"
  name="stack/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486623466875"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);



// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('stack/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="stack/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486623572004"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// Â£Å
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 606, 800, 50.5, {
		isStatic: true,
	})
]);

--></script>
<script
  class="download_content"
  name="staticFriction/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486703373275"
  
  
  type="hack"
><!--
# ÈùôÊ≠¢„Åæ„Åï„Å§Âäõ
> „Åõ„ÅÑ„Åó-„Åæ„Åï„Å§-„Çä„Çá„Åè  
ÈùôÊ≠¢Êë©Êì¶Âäõ


## „Çπ„Çø„ÉÉ„ÇØ„Å®ÈùôÊ≠¢„Åæ„Åï„Å§Âäõ„ÅÆÂøúÁî®

„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ [ÈùôÊ≠¢„Åæ„Åï„Å§Âäõ](https://ja.wikipedia.org/wiki/%E6%91%A9%E6%93%A6%E5%8A%9B)
„ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](staticFriction/main.js)

|| ÊÑèÂë≥ | „ÅØ„Çì„ÅÑ
--- | --- | ---
staticFriction | ÈùôÊ≠¢„Åæ„Åï„Å§„ÅÆÂ§ß„Åç„Åï | 0 ~ 1.0

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](staticFriction/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã](staticFriction/stage.js)

- - -

## ÂøúÁî®‰æã

--></script>
<script
  class="download_content"
  name="staticFriction/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486703389628"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÈùôÊ≠¢Êë©Êì¶Âäõ</title>
		<link rel="stylesheet" href="style.css" />
		<script src="staticFriction/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="staticFriction/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;d280cab12c7ede6071e82ccc98435edd&quot;}]"
  data-last-modified="1486470590806"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [

	// ‰∏ä„Å´‰πó„Å£„Å¶„ÅÑ„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
	Composites.stack(350, 170, 1, 6, 0, 0, (x, y) => {
		return Bodies.rectangle(x, y, 100, 50, {
			slop: 0.5,
			friction: 1,
			frictionStatic: Infinity
		});
	}),

]);


import './stage';

--></script>
<script
  class="download_content"
  name="staticFriction/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486470329700"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showVelocity = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('staticFriction/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="staticFriction/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486470565587"
  
  
  type="hack"
><!--
import {
	Body,
	Events,
	World,
	Bodies,
} from 'matter';

import {
	engine,
	world,
} from './setting';


// ÂúüÂè∞„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
const body = Bodies.rectangle(400, 500, 200, 60, {
	isStatic: true,
	chamfer: 10
});


World.add(world, [
	body,
	// Â£Å„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

Events.on(engine, 'beforeUpdate', (event) => {
	
	// Âßã„Åæ„Å£„Å¶„Åã„Çâ„ÅÆÁµåÈÅéÊôÇÈñì(Áßí)
	const time = event.timestamp / 1000;
	
	if (time < 1) {
		return;
	}

	// ÂúüÂè∞„ÇíÂ∑¶Âè≥„Å´Âãï„Åã„Åô
	const px = 400 + 100 * Math.sin(time - 1);
	Body.setVelocity(body, {
		x: px - body.position.x,
		y: 0
	});
	Body.setPosition(body, {
		x: px,
		y: body.position.y
	});
	
});

--></script>
<script
  class="download_content"
  name="stress/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486429985483"
  
  
  type="hack"
><!--
# ÂúßÂäõ 1


Âº∑„ÅÑÂäõ„ÇíÂèó„Åë„Åü„Å®„Åç„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅØÂ∞ë„Åó„Å†„ÅëÊ≤à„ÅøËæº„ÇÄ„Çì„Å†


## ![ÊîπÈÄ†„Åô„Çã](stress/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="stress/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÂúßÂäõ 1</title>
		<link rel="stylesheet" href="style.css" />
		<script src="stress/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="stress/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;052f7d6daf01d90197d45d5e5b1b077b&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(90, 50, 18, 15, 0, 0, (x, y) => {
	return Bodies.rectangle(x, y, 35, 35);
});

World.add(world, [
	stack,
	// Â£Å„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('stress/README.md');

--></script>
<script
  class="download_content"
  name="stress2/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486429995403"
  
  
  type="hack"
><!--
# ÂúßÂäõ 2


Âº∑„ÅÑÂäõ„ÇíÂèó„Åë„Åü„Å®„Åç„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅØÂ∞ë„Åó„Å†„ÅëÊ≤à„ÅøËæº„ÇÄ„Çì„Å†


## ![ÊîπÈÄ†„Åô„Çã](stress2/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="stress2/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÂúßÂäõ 2</title>
		<link rel="stylesheet" href="style.css" />
		<script src="stress2/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="stress2/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;60c194541a39957e0a85fe58c176ba3a&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(100, 120, 25, 18, 0, 0, function(x, y) {
	return Bodies.rectangle(x, y, 25, 25);
});

World.add(world, [
	stack,
	// Â£Å„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('stress2/README.md');

--></script>
<script
  class="download_content"
  name="svg/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486451150316"
  
  
  type="hack"
><!--
# „Éô„ÇØ„ÇøÁîªÂÉè

SVG „ÅØ„ÄÅ„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà‰∏ä„Åß„Çà„Åè‰Ωø„Çè„Çå„ÇãÁîªÂÉè„ÅÆÂΩ¢Âºè„Å†„Çà  
„Çπ„Ç±„Éº„É©„Éñ„É´„Éª„Éô„ÇØ„Çø„Éª„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØ„Çπ„ÅÆÁï•„Å™„Çì„Å†


## ![ÊîπÈÄ†„Åô„Çã](svg/main.js)

## „Éô„ÇØ„ÇøÁîªÂÉè

„Ç≥„É≥„Éî„É•„Éº„Çø„Éº„ÅåÊâ±„ÅÜÁîªÂÉè„ÅØ„ÄÅÂ§ß„Åç„ÅèÂàÜ„Åë„Å¶„Åµ„Åü„Å§„ÅÇ„Çã„Çì„Å†  
`JPG` „Å™„Å©„ÅÆ **„É©„Çπ„ÇøÁîªÂÉè** „Å®„ÄÅ  
`SVG` „Å™„Å©„ÅÆ **„Éô„ÇØ„ÇøÁîªÂÉè** „Å†„Çà

„É©„Çπ„ÇøÁîªÂÉè„ÅØ„ÄÅËâ≤„ÅÆ„Å§„ÅÑ„ÅüÁÇπ„Çí„Åü„Åè„Åï„Çì‰∏¶„Åπ„Çã„Çà„ÅÜ„Å´„Åó„Å¶Áµµ„ÇíË°®Áèæ„Åô„Çã„Åë„Å©„ÄÅ  
„Éô„ÇØ„ÇøÁîªÂÉè„Åß„ÅØ„ÄÅÁµµ„Çí„ÄåÂõ≥ÂΩ¢„Çí„Åü„Åè„Åï„ÇìÈáç„Å≠„Åü„ÇÇ„ÅÆ„Äç„Å®„Å®„Çâ„Åà„Å¶„ÄÅ  
„Åü„Åè„Åï„Çì„ÅÆÁ∑ö„Çí„Å§„Å™„Åí„Å¶Âõ≥ÂΩ¢„Çí„Å§„Åè„Çã„Åì„Å®„Åß„ÄÅÁµµ„ÇíË°®Áèæ„Åô„Çã„Çì„Å†

„É©„Çπ„ÇøÁîªÂÉè„Åß„ÅØÊôÆÈÄö„ÄÅ„ÄåÂõõËßí„ÅÑÁÇπ„Äç„ÇíÊ†ºÂ≠ê(„Åì„ÅÜ„Åó)Áä∂„Å´‰∏¶„Åπ„Å¶„ÅÑ„Åè„Åã„Çâ„ÄÅ  
ÂÜÜ„ÅÆÁµµ„ÇíË°®Áèæ„Åô„Çã„Å®„ÄÅ„Å©„ÅÜ„Åó„Å¶„ÇÇÂë®„Çä„Åå„ÇÆ„Ç∂„ÇÆ„Ç∂„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÜ„Çì„Å†  

„Å†„Åë„Å©„Éô„ÇØ„ÇøÁîªÂÉè„ÅÆÂ†¥Âêà„ÄÅ„Åæ„ÅöÂÜÜ„ÅÆÁµµ„Çí„ÄåÂÜÜ„ÅÆÂõ≥ÂΩ¢„Äç„Å®„Å®„Çâ„Åà„Çã„ÄÇ  
„Åù„ÅÆÂÜÜ„Çí„Å§„Åè„ÇãËº™„Å£„Åã„ÅÆÁ∑ö„ÅÆ‰ΩçÁΩÆ„ÇÑÂΩ¢„Çí„Åù„ÅÆ„Åæ„ÅæÊÆã„Åô„Åã„Çâ„ÄÅ  
„Å©„Çå„Å†„ÅëÂ§ß„Åç„Åè„Åó„Å¶„ÇÇ„ÇÆ„Ç∂„ÇÆ„Ç∂„Å´„Å™„Çâ„Å™„ÅÑÁµµ„ÇíË°®Áèæ„Åß„Åç„Çã„Çì„Å†  
„Å†„Åã„Çâ„ÄÅ„Çπ„Ç±„Éº„É©„Éñ„É´ÔºàÂ§ß„Åç„Åï„ÇíÂ§â„Åà„Çâ„Çå„ÇãÔºâ„Å®Âëº„Å∞„Çå„Å¶„ÅÑ„Çã„Çì„Å†„Çà

Êú¨ÂΩì„Å´„Çπ„Ç±„Éº„É©„Éñ„É´„Å™„ÅÆ„Åã„ÄÅÂ§ß„Åç„Åï„ÇíÂ§â„Åà„Å¶Ë©¶„Åó„Å¶„Åø„Çà„ÅÜÔºÅ


„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | ---
scale | Â§ß„Åç„Åï„ÅÆÂÄçÁéá | 0 | Infinity
sampling | Ë™≠„ÅøËæº„Åø„ÅÆ„Åä„Åä„Åñ„Å£„Å±„Åï | 0 ‰ª•‰∏ä | „Å™„Åó

`sampling` „ÅØ„ÄÅÂ∞è„Åï„Åè„Åô„Çã„Åª„Å©„ÄÅÂõ≥ÂΩ¢„ÅåÁ¥∞„Åã„ÅèË™≠„ÅøËæº„Åæ„Çå„Çã„Çà  
„Åü„Å†„Åó„Ç≥„É≥„Éî„É•„Éº„Çø„Éº„ÅÆË®àÁÆóÈáè„ÇÇÂ¢ó„Åà„Å¶„Åó„Åæ„ÅÜ„Åã„Çâ„ÄÅÊ≥®ÊÑè„Åó„Å¶„Å≠


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="svg/iconmonstr-check-mark-8-icon.svg"
  data-type="image/svg+xml"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748101,&quot;hash&quot;:&quot;a9b988abb1a72a45c43e4e6443feed96&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCgo8IS0tIFRoZSBpY29uIGNhbiBiZSB1c2VkIGZyZWVseSBpbiBib3RoIHBlcnNvbmFsIGFuZCBjb21tZXJjaWFsIHByb2plY3RzIHdpdGggbm8gYXR0cmlidXRpb24gcmVxdWlyZWQsIGJ1dCBhbHdheXMgYXBwcmVjaWF0ZWQuIApZb3UgbWF5IE5PVCBzdWItbGljZW5zZSwgcmVzZWxsLCByZW50LCByZWRpc3RyaWJ1dGUgb3Igb3RoZXJ3aXNlIHRyYW5zZmVyIHRoZSBpY29uIHdpdGhvdXQgZXhwcmVzcyB3cml0dGVuIHBlcm1pc3Npb24gZnJvbSBpY29ubW9uc3RyLmNvbSAtLT4KCgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgoKPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoKCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KCjxwYXRoIGlkPSJjaGVjay1tYXJrLTgtaWNvbiIgZD0iTTUwLDI0NS40MWwyMC4wODMtMjAuNzg3YzMzLjUsOSw5MS4yMjMsMjkuODMzLDE0Myw2MmM1NC40OTktNzIsMTY0LjQ5OS0xNjIsMjMxLTIwM2wxNy45MTcsMTguNQoKCUwyMTkuODY0LDQyOC4zNzdMNTAsMjQ1LjQxeiIvPgoKPC9zdmc+Cgo=
--></script>
<script
  class="download_content"
  name="svg/iconmonstr-direction-4-icon.svg"
  data-type="image/svg+xml"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748101,&quot;hash&quot;:&quot;a78c75b9c12636aa3d84e8966f27043f&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gTGljZW5zZSBBZ3JlZW1lbnQgYXQgaHR0cDovL2ljb25tb25zdHIuY29tL2xpY2Vuc2UvIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0iZGlyZWN0aW9uLTQtaWNvbiIgZD0iTTI1Mi4yMTYsMTAyLjY0M2MzMC4yOTYsMC4wMDQsOS42ODQsODUuNzA5LTEuNjQ3LDExMi42MjNoMTU5LjM1OGMyOS41NTMsMCwyOS4yNjgsMzkuNzM1LDAsMzkuNzM1CgloLTc2LjkzOWMtNDYuNzA1LDAtMzkuMDc4LDI3LjMyMi0yNS4xMjcsMjMuNzUzYzUuMTQ0LTEuMzE2LDE0LjI3My0zLjI4LDE0LjI3My0zLjI4Yy0yLjkxMiwxOS4xMjktNC40MDksMjkuNTc1LTE3LjM0NSwzMy40OTUKCWwtMTAuMjc5LDMuMjY4Yy00LjgxNCwxLjQ1NS03LjUzMyw2LjU0Mi02LjA4MSwxMS4zNTFjMS40NTYsNC44LDYuNTI1LDcuNTUsMTEuMzYxLDYuMDgybDEzLjI4Ni00LjUxNQoJYy0yLjI5OCwxNy4yNjctMy45ODYsMjkuNDk0LTE2LjUwNiwzMy4yODRsLTEwLjAxLDMuNjE4Yy00LjgxNywxLjQ1NC03LjUzNSw2LjU0LTYuMDc3LDExLjM1N2MxLjQ2MSw0LjgyLDYuNTUzLDcuNTMzLDExLjM1NCw2LjA3MwoJbDEwLjc0Ny0zLjc5N2MtMy4zNTQsMjMuNTgtMjMuMzUyLDMzLjY2Ny01MC4zOTcsMzMuNjY3Yy01OC4wNTMsMC03Ny40MDUtNDIuODk2LTE3Mi4xNzEtNDIuODk2YzAtMzUuMDI5LDAtMTI1Ljk5MywwLTEyNS45OTMKCWM0Ny42LDAsODIuMjU5LTE5LjE0NSwxMDYuOTMtNDMuODE0QzIzNC4wMTMsMTQ5LjU4NCwyMzAuNDM1LDEwMi42NCwyNTIuMjE2LDEwMi42NDN6IE0yNTIuMjE4LDcyLjYyNwoJYy00NS40NCwwLTQzLjk4NSw2MC41NzgtODYuMTM2LDEwMi43MjljLTE5Ljc3NywxOS43NzctNDcuNTM0LDM1LjA5Ny04Ni4wNjYsMzUuMDk3SDUwdjE4Ni4wMjRoMzAuMDE2CgljODguNDY1LDAsMTAzLjUzLDQyLjg5NiwxNzIuMTcxLDQyLjg5NmM0MS45OTgsMCw3MS4zMzUtMTguMTk2LDgwLjExNC01OS40NTZjNC4zNDEtMjAuNCwxNS41MTQtNzguOTMsMTguNjg5LTk0LjloNTguOTM3CgljMzAuNDgsMCw1Mi4wNzMtMjIuNjU4LDUyLjA3My00OS45NTVjMC0yNy4wOTYtMjEuMzY4LTQ5LjgxMS01Mi4wNzMtNDkuODExSDI5MC4yNDNDMzAyLjE5NCwxMzYuMzM0LDMwMi42NTgsNzIuNjM0LDI1Mi4yMTgsNzIuNjI3Cgl6Ii8+Cjwvc3ZnPgo=
--></script>
<script
  class="download_content"
  name="svg/iconmonstr-paperclip-2-icon.svg"
  data-type="image/svg+xml"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748102,&quot;hash&quot;:&quot;b9180f4c0d659ee7abaa3dbf08883795&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gTGljZW5zZSBBZ3JlZW1lbnQgYXQgaHR0cDovL2ljb25tb25zdHIuY29tL2xpY2Vuc2UvIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0icGFwZXJjbGlwLTItaWNvbiIgZD0iTTI4OS4wNSw4NC42M0w5OC4yMjUsMzA4LjEzNmMtNi4zNSw3LjQ0LTkuMTI2LDE3LjI5MS03LjU5NCwyNi45NTRsMTAuNTE0LDY2LjE0NAoJYzEuMzIsOC4zMTIsOC40ODQsMTQuNDQxLDE2LjkwMSwxNC40NGg2Ni45NzFjOS43ODUsMCwxOS4wNzktNC4yODMsMjUuNDM0LTExLjcyNWwyMDYuMDE1LTI0MS4yOQoJYzUuOTMtNi45NDMsNS4xMDQtMTcuMzc5LTEuODQxLTIzLjMwNWwtNDIuODMtMzYuNTdjLTYuOTQ2LTUuOTI4LTE3LjM4LTUuMTA0LTIzLjMxLDEuODM3bC0xNTIuNCwxNzguNDc3CgljLTMuMzEyLDMuODcyLTEuOTQxLDcuNTU3LTAuNzU0LDE1LjU2MmMwLjY0Nyw0LjM1OCw0LjQwOSw3LjU3Miw4LjgxNyw3LjUyOGM4LjIwMS0wLjA4MiwxMS45NTksMC42NzcsMTUuMjU0LTMuMTg2CglsMTA0Ljc0NS0xMjIuNjUzbDMwLjAzMSwyNS42NDFsLTEwOC4zOTYsMTI2LjkzYy01LjgyMyw2LjgyMS0xNC4zMDcsMTAuNzk1LTIzLjI3MiwxMC45MDRoLTQwLjYzOQoJYy0xMC4zNDksMC4xMjQtMTkuMTkxLTYuOTQzLTIwLjY5MS0xNy4xOGwtNS44OTYtNDAuMjE1Yy0xLjMwNC04Ljg3NSwxLjI5Mi0xNy44NzgsNy4xMTgtMjQuNjk3TDMyMS43NTcsNzUuMTExCgljMTguMjYxLTIxLjM5LDUwLjQwOS0yMy45MjksNzEuODAzLTUuNjY0bDUwLjU3Niw0My4xOGMyMS4zOTUsMTguMjY1LDIzLjkzMiw1MC40MTQsNS42NjYsNzEuODA2TDIzNS40NTcsNDM1LjQ3OQoJYy0xMC40NDcsMTIuMjQzLTI1LjczNSwxOS4yODQtNDEuODMsMTkuMjcxaC04OS4zMjFjLTE5LjY4OC0wLjAxMi0zNi40NDktMTQuMzgyLTM5LjU0OS0zMy44MjFsLTE0LjA3Mi04OC4yMTMKCWMtMi41My0xNS44OSwyLjAyNy0zMi4wOTcsMTIuNDc5LTQ0LjMzOUwyNTkuMDE3LDU4Ljk4OEwyODkuMDUsODQuNjN6Ii8+Cjwvc3ZnPgo=
--></script>
<script
  class="download_content"
  name="svg/iconmonstr-puzzle-icon.svg"
  data-type="image/svg+xml"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748102,&quot;hash&quot;:&quot;41d24e70fb208bdf608f6fbcd5ba3421&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gTGljZW5zZSBBZ3JlZW1lbnQgYXQgaHR0cDovL2ljb25tb25zdHIuY29tL2xpY2Vuc2UvIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9InB1enpsZS0xIiBkPSJNOTIuNTU2LDM1OWMxNi43OSwwLDIyLjQ3My05LjAwMiwyOS4zMTItMTUuODI1QzEzNS44MzMsMzI5LjE1OSwxNTMsMzM1LjEyOCwxNTMsMzU3LjcxVjQ2MmgxMDQuMjkKCWMyMi41ODIsMCwyOC41NTEtMTcuMTY3LDE0LjU0NC0zMS4xMzFjLTYuODMyLTYuODQtMTUuODM0LTEyLjUyMy0xNS44MzQtMjkuMzIxQzI1NiwzODIuODg5LDI3NS4wMjgsMzU5LDMwNy41LDM1OQoJczUxLjUsMjMuODg5LDUxLjUsNDIuNTQ4YzAsMTYuNzk4LTkuMDAyLDIyLjQ4MS0xNS44MjUsMjkuMzIxQzMyOS4xNTksNDQ0LjgzMywzMzUuMTI4LDQ2MiwzNTcuNzEsNDYySDQ2MlYzNTcuNzEKCWMwLTIyLjU4Mi0xNy4xNjctMjguNTUxLTMxLjEzMS0xNC41MzVjLTYuODQsNi44MjMtMTIuNTIzLDE1LjgyNS0yOS4zMjEsMTUuODI1QzM4Mi44ODksMzU5LDM1OSwzMzkuOTcyLDM1OSwzMDcuNQoJczIzLjg4OS01MS41LDQyLjU0OC01MS41YzE2Ljc5OCwwLDIyLjQ4MSw5LjAwMiwyOS4zMjEsMTUuODM0QzQ0NC44MzMsMjg1Ljg0MSw0NjIsMjc5Ljg3Miw0NjIsMjU3LjI5VjE1M0gzNTcuNzEKCWMtMjIuNTgyLDAtMjguNTUxLTE3LjE2Ny0xNC41MzUtMzEuMTMxYzYuODIzLTYuODQsMTUuODI1LTEyLjUyMywxNS44MjUtMjkuMzEyQzM1OSw3My44ODksMzM5Ljk3Miw1MCwzMDcuNSw1MAoJUzI1Niw3My44ODksMjU2LDkyLjU1NmMwLDE2Ljc5LDkuMDAyLDIyLjQ3MywxNS44MzQsMjkuMzEyQzI4NS44NDEsMTM1LjgzMywyNzkuODcyLDE1MywyNTcuMjksMTUzSDE1M3YxMDQuMjkKCWMwLDIyLjU4Mi0xNy4xNjcsMjguNTUxLTMxLjEzMSwxNC41NDRDMTE1LjAyOSwyNjUuMDAyLDEwOS4zNDYsMjU2LDkyLjU1NiwyNTZDNzMuODg5LDI1Niw1MCwyNzUuMDI4LDUwLDMwNy41CglTNzMuODg5LDM1OSw5Mi41NTYsMzU5eiIvPgo8L3N2Zz4K
--></script>
<script
  class="download_content"
  name="svg/iconmonstr-user-icon.svg"
  data-type="image/svg+xml"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748102,&quot;hash&quot;:&quot;c95c7b7523208ff9f93e92d36975307f&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KCjwhLS0gVGhlIGljb24gY2FuIGJlIHVzZWQgZnJlZWx5IGluIGJvdGggcGVyc29uYWwgYW5kIGNvbW1lcmNpYWwgcHJvamVjdHMgd2l0aCBubyBhdHRyaWJ1dGlvbiByZXF1aXJlZCwgYnV0IGFsd2F5cyBhcHByZWNpYXRlZC4gCllvdSBtYXkgTk9UIHN1Yi1saWNlbnNlLCByZXNlbGwsIHJlbnQsIHJlZGlzdHJpYnV0ZSBvciBvdGhlcndpc2UgdHJhbnNmZXIgdGhlIGljb24gd2l0aG91dCBleHByZXNzIHdyaXR0ZW4gcGVybWlzc2lvbiBmcm9tIGljb25tb25zdHIuY29tIC0tPgoKPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0idXNlci1pY29uIiBkPSJNNDA3LjQ0OCwzNjAuNDc0Yy01OS4wMzYtMTMuNjE3LTExMy45ODktMjUuNTQxLTg3LjM3NS03NS43MTcKCWM4MS4wMS0xNTIuNzI5LDIxLjQ3My0yMzQuNDA2LTY0LjA3Mi0yMzQuNDA2Yy04Ny4yMzEsMC0xNDUuMzAzLDg0LjgxMi02NC4wNzIsMjM0LjQwNmMyNy40MTIsNTAuNDgyLTI5LjYwOCw2Mi4zOTMtODcuMzc1LDc1LjcxNwoJYy01OS4wMTIsMTMuNjA5LTU0LjQ3Myw0NC43MjMtNTQuNDczLDEwMS4xNzZoNDExLjgzOEM0NjEuOTE5LDQwNS4xOTYsNDY2LjQ1OCwzNzQuMDgzLDQwNy40NDgsMzYwLjQ3NHoiLz4KPC9zdmc+Cg==
--></script>
<script
  class="download_content"
  name="svg/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>SVG</title>
		<link rel="stylesheet" href="style.css" />
		<script src="svg/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="svg/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;1aaae5d3f6ac7734c9a8f98ebe9cd048&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Vertices,
	Svg,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);

const svgs = [
	'iconmonstr-check-mark-8-icon',
	'iconmonstr-paperclip-2-icon',
	'iconmonstr-puzzle-icon',
	'iconmonstr-user-icon'
];

// „Éë„É©„É°„Éº„Çø
const scale = 0.8;
const sampling = 15;

for (const [i, name] of svgs.entries()) {
	feeles.fetch(`svg/${name}.svg`)
		.then((response) => response.text())
		.then((data) => {

			const color = Common.choose(['#556270', '#4ECDC4', '#C7F464', '#FF6B6B', '#C44D58']);
			const vertexSets = [];

			for (const path of getPathElements(data)) {
				const points = pathToVertices(path, sampling);
				vertexSets.push(Vertices.scale(points, scale, scale));
			}

			World.add(world, Bodies.fromVertices(100 + i * 150, 200 + i * 50, vertexSets, {
				render: {
					fillStyle: color,
					strokeStyle: color,
					lineWidth: 1
				}
			}, true));

		});
}

feeles.fetch('svg/svg.svg')
	.then((response) => response.text())
	.then((data) => {

		const color = Common.choose(['#556270', '#4ECDC4', '#C7F464', '#FF6B6B', '#C44D58']);
		const vertexSets = [];

		for (const path of getPathElements(data)) {
			const points = pathToVertices(path, sampling);
			vertexSets.push(Vertices.scale(points, scale, scale));
		}

		World.add(world, Bodies.fromVertices(400, 80, vertexSets, {
			render: {
				fillStyle: color,
				strokeStyle: color,
				lineWidth: 1
			}
		}, true));

	});

World.add(world, [
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// add mouse control
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


function getPathElements(svg) {
	const span = document.createElement('span');
	span.innerHTML = svg;
	return span.querySelectorAll('path');
}

function pathToVertices(path, sampleLength) {
	const total = path.getTotalLength();

	const points = [];
	for (let length = 0; length < total; length += sampleLength) {
		points.push(path.getPointAtLength(length));
	}

	return points;
}


feeles.openReadme('svg/README.md');

--></script>
<script
  class="download_content"
  name="svg/svg.svg"
  data-type="image/svg+xml"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485698748102,&quot;hash&quot;:&quot;33840ce11f7cf19407b1b8957943ff15&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgPGc+CiAgICA8cGF0aCBkPSJtIDkuMTcwMDE4Niw4NS42ODE3MjUgMjAuMjUwMDAwNCwtMS45Njg3NSBjIDEuMjE4NzIzLDYuNzk2OSAzLjY5MTM3NywxMS43ODkwOCA3LjQxNzk2OSwxNC45NzY1NiAzLjcyNjUyNiwzLjE4NzUyNSA4Ljc1Mzg2NCw0Ljc4MTI3NSAxNS4wODIwMzEsNC43ODEyNTUgNi43MDMwNzUsMmUtNSAxMS43NTM4NDUsLTEuNDE3OTUgMTUuMTUyMzQ1LC00LjI1MzkxNSAzLjM5ODM3LC0yLjgzNTkxIDUuMDk3NTksLTYuMTUyMzEgNS4wOTc2NiwtOS45NDkyMSAtN2UtNSwtMi40Mzc0NyAtMC43MTQ5MiwtNC41MTE2OSAtMi4xNDQ1NCwtNi4yMjI2NiAtMS40Mjk3NSwtMS43MTA5IC0zLjkyNTg0LC0zLjE5OTE4IC03LjQ4ODI4LC00LjQ2NDg0IC0yLjQzNzU1LC0wLjg0MzcxIC03Ljk5MjIzNiwtMi4zNDM3MSAtMTYuNjY0MDYsLTQuNSAtMTEuMTU2MjgxLC0yLjc2NTU4IC0xOC45ODQzOTgsLTYuMTY0MDIgLTIzLjQ4NDM3NSwtMTAuMTk1MzIgLTYuMzI4MTM3LC01LjY3MTgxIC05LjQ5MjE5NiwtMTIuNTg1ODcgLTkuNDkyMTg4LC0yMC43NDIxOCAtOGUtNiwtNS4yNDk5MiAxLjQ4ODI3MSwtMTAuMTYwMDcgNC40NjQ4NDQsLTE0LjczMDQ3IDIuOTc2NTQ2LC00LjU3MDIyIDcuMjY1NjA1LC04LjA1MDY5IDEyLjg2NzE4OCwtMTAuNDQxNDEgNS42MDE1MywtMi4zOTA1MiAxMi4zNjMyNDIsLTMuNTg1ODMgMjAuMjg1MTU2LC0zLjU4NTk0IDEyLjkzNzQ0NSwxLjFlLTQgMjIuNjc1NzE1LDIuODM2MDQgMjkuMjE0ODQ1LDguNTA3ODIgNi41Mzg5OCw1LjY3MTk2IDkuOTcyNTcsMTMuMjQyMjcgMTAuMzAwNzgsMjIuNzEwOTMgbCAtMjAuODEyNSwwLjkxNDA3IGMgLTAuODkwNjksLTUuMjk2OCAtMi44MDA4NCwtOS4xMDUzOSAtNS43MzA0NywtMTEuNDI1NzkgLTIuOTI5NzQsLTIuMzIwMjIgLTcuMzI0MjcsLTMuNDgwMzggLTEzLjE4MzU5MywtMy40ODA0NiAtNi4wNDY5MTUsOGUtNSAtMTAuNzgxMjg1LDEuMjQyMjcgLTE0LjIwMzEyNSwzLjcyNjU2IC0yLjIwMzE1NCwxLjU5MzgzIC0zLjMwNDcxNiwzLjcyNjY0IC0zLjMwNDY4Nyw2LjM5ODQ0IC0yLjllLTUsMi40Mzc1NyAxLjAzMTIyLDQuNTIzNTEgMy4wOTM3NSw2LjI1NzgxIDIuNjI0OTY1LDIuMjAzMTkgOC45OTk5NTksNC41MDAwNiAxOS4xMjUsNi44OTA2MiAxMC4xMjQ5MzUsMi4zOTA2OSAxNy42MTMyMTUsNC44NjMzNCAyMi40NjQ4NDUsNy40MTc5NyA0Ljg1MTQ4LDIuNTU0NzQgOC42NDgzNSw2LjA0NjkzIDExLjM5MDYyLDEwLjQ3NjU2IDIuNzQyMSw0LjQyOTczIDQuMTEzMiw5LjkwMjM4IDQuMTEzMjgsMTYuNDE3OTcgLThlLTUsNS45MDYyOCAtMS42NDA3MSwxMS40Mzc1MjUgLTQuOTIxODcsMTYuNTkzNzU1IC0zLjI4MTMzLDUuMTU2MjYgLTcuOTIxOTUsOC45ODgyOSAtMTMuOTIxODcsMTEuNDk2MSAtNi4wMDAwNywyLjUwNzgxIC0xMy40NzY2MiwzLjc2MTcxIC0yMi40Mjk2OTMsMy43NjE3MiAtMTMuMDMxMjg0LC0xMGUtNiAtMjMuMDM5MDg3LC0zLjAxMTcyIC0zMC4wMjM0MzcsLTkuMDM1MTYgQyAxNC43MDEyNTgsMTA1Ljk5MDM0IDEwLjUyOTM4Nyw5Ny4yMTI5OTUgOS4xNzAwMTg2LDg1LjY4MTcyNSB6IiAvPgogICAgPHBhdGggZD0ibSAxMzYuOTI3ODMsMTE5LjIyMDc5IC0zNi44NDM3NSwtMTAzLjA3ODEyNSAyMi41NzAzMSwwIDI2LjA4NTk0LDc2LjI4OTA2IDI1LjI0MjE4LC03Ni4yODkwNiAyMi4wNzgxMywwIC0zNi45MTQwNiwxMDMuMDc4MTI1IHoiIC8+CiAgICA8cGF0aCBkPSJtIDI1NC43NzE1OCw4MS4zMjIzNDUgMCwtMTcuMzY3MTggNDQuODU5MzcsMCAwLDQxLjA2MjUwNSBjIC00LjM1OTQ3LDQuMjE4NzYgLTEwLjY3NTg3LDcuOTMzNiAtMTguOTQ5MjIsMTEuMTQ0NTMgLTguMjczNTEsMy4yMTA5MyAtMTYuNjUyNDEsNC44MTY0IC0yNS4xMzY3Miw0LjgxNjQgLTEwLjc4MTI5LDAgLTIwLjE3OTcyLC0yLjI2MTcyIC0yOC4xOTUzMSwtNi43ODUxNSAtOC4wMTU2NSwtNC41MjM0MyAtMTQuMDM5MDgsLTEwLjk5MjE3IC0xOC4wNzAzMSwtMTkuNDA2MjU1IC00LjAzMTI2LC04LjQxNDAzIC02LjA0Njg4LC0xNy41NjYzNyAtNi4wNDY4OCwtMjcuNDU3MDMgMCwtMTAuNzM0MzIgMi4yNSwtMjAuMjczMzcgNi43NSwtMjguNjE3MTkgNC40OTk5OSwtOC4zNDM2NiAxMS4wODU5MiwtMTQuNzQyMDkgMTkuNzU3ODIsLTE5LjE5NTMxIDYuNjA5MzMsLTMuNDIxNzggMTQuODM1ODksLTUuMTMyNzEgMjQuNjc5NjgsLTUuMTMyODIgMTIuNzk2ODEsMS4xZS00IDIyLjc5Mjg5LDIuNjgzNyAyOS45ODgyOSw4LjA1MDc4IDcuMTk1MjEsNS4zNjcyOCAxMS44MjQxMiwxMi43ODUyNCAxMy44ODY3MSwyMi4yNTM5MSBsIC0yMC42NzE4NywzLjg2NzE5IGMgLTEuNDUzMiwtNS4wNjI0MyAtNC4xODM2NywtOS4wNTg1MiAtOC4xOTE0MSwtMTEuOTg4MjggLTQuMDA3ODgsLTIuOTI5NjEgLTkuMDExNzgsLTQuMzk0NDUgLTE1LjAxMTcyLC00LjM5NDUzIC05LjA5Mzc5LDhlLTUgLTE2LjMyNDI2LDIuODgyODkgLTIxLjY5MTQsOC42NDg0MyAtNS4zNjcyMiw1Ljc2NTcgLTguMDUwODEsMTQuMzIwMzggLTguMDUwNzgsMjUuNjY0MDcgLTNlLTUsMTIuMjM0NDEgMi43MTg3MiwyMS40MTAxOCA4LjE1NjI1LDI3LjUyNzM0IDUuNDM3NDYsNi4xMTcyMTUgMTIuNTYyNDUsOS4xNzU4MDUgMjEuMzc1LDkuMTc1Nzg1IDQuMzU5MzEsMmUtNSA4LjczMDQsLTAuODU1NDUgMTMuMTEzMjgsLTIuNTY2NDEgNC4zODI3NCwtMS43MTA5MTUgOC4xNDQ0NSwtMy43ODUxMzUgMTEuMjg1MTUsLTYuMjIyNjU1IGwgMCwtMTMuMDc4MTMgeiIgLz4KICA8L2c+Cjwvc3ZnPg==
--></script>
<script
  class="download_content"
  name="terrain/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486430021888"
  
  
  type="hack"
><!--
# Âú∞ÂΩ¢

SVG „Çí‰Ωø„Å£„Å¶„ÄÅÂú∞ÂΩ¢„Çí‰Ωú„Å£„Å¶„Åø„Åü„Çà


Ëá™ÂàÜ„Åß‰Ωú„Å£„Åü SVG ÁîªÂÉè„Çí„ÇÇ„Å®„Å´Âú∞ÂΩ¢„Çí„Å§„Åè„Çã„Å´„ÅØ„ÄÅ  
`terrain/` „Å®„ÅÑ„ÅÜ„Éï„Ç©„É´„ÉÄ„Å´ SVG ÁîªÂÉè„ÇíÂÖ•„Çå„Å¶„ÄÅ  
`feeles.fetch` „ÅÆ‰∏≠„ÅÆ„Éï„Ç°„Ç§„É´Âêç„ÇíÊõ∏„Åç„Åã„Åà„Çà„ÅÜ


Feeles „ÅÆ‰∏≠„ÅßÁîªÂÉè„Çí‰Ωú„Çã„Åì„Å®„ÅØ„Åß„Åç„Å™„ÅÑ„ÅÆ„Åß„ÄÅ  
Áµµ„ÇíÊèè„Åè„Åü„ÇÅ„ÅÆ‰ªñ„ÅÆ„ÇΩ„Éï„Éà„Çí‰Ωø„Å£„Å¶„Å≠


![ÊîπÈÄ†„Åô„Çã](terrain/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="terrain/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Âú∞ÂΩ¢</title>
		<link rel="stylesheet" href="style.css" />
		<script src="terrain/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="terrain/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;613b98078cc43a25bf78dfde352d020e&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Vertices,
	Query,
	Svg,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

// create runner
const runner = Runner.create();
Runner.run(runner, engine);

feeles.fetch('terrain/terrain.svg')
	.then((response) => response.text())
	.then((data) => {
		const vertexSets = [];

		for (const path of getPathElements(data)) {
			const points = pathToVertices(path, 30);
			vertexSets.push(Vertices.scale(points, 0.4, 0.4));
		}

		// add bodies
		const terrain = Bodies.fromVertices(400, 350, vertexSets, {
			isStatic: true,
			render: {
				fillStyle: '#2e2b44',
				strokeStyle: '#2e2b44',
				lineWidth: 1
			}
		}, true);

		World.add(world, terrain);

		const bodyOptions = {
			frictionAir: 0,
			friction: 0.0001,
			restitution: 0.6
		};

		World.add(world, Composites.stack(80, 100, 20, 20, 10, 10, (x, y) => {
			if (Query.point([terrain], {
					x,
					y
				}).length === 0) {
				return Bodies.polygon(x, y, 5, 12, bodyOptions);
			}
		}));
	});

// add mouse control
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


function getPathElements(svg) {
	const span = document.createElement('span');
	span.innerHTML = svg;
	return span.querySelectorAll('path');
}

function pathToVertices(path, sampleLength) {
	const total = path.getTotalLength();

	const points = [];
	for (let length = 0; length < total; length += sampleLength) {
		points.push(path.getPointAtLength(length));
	}

	return points;
}


feeles.openReadme('terrain/README.md');

--></script>
<script
  class="download_content"
  name="terrain/terrain.svg"
  data-type="image/svg+xml"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485747249966,&quot;hash&quot;:&quot;f5f8ed56d70909db1cb4581b8fa890ab&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB2ZXJzaW9uPSIxLjEiCiAgIHdpZHRoPSI4MDAiCiAgIGhlaWdodD0iNjAwIgogICBpZD0ic3ZnMiI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC00NTIuMzYyMTgpIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIGQ9Im0gLTEwNC44NzUsLTkyLjA5Mzc1IDAsNzY4LjE4NzUgMTA0NS40MDYyNSwwIDAsLTc2OC4xODc1IHogbSA3OTIsMTEyLjg3NSAzNC42NTYyNSwxMS45MDYyNSAyMC43ODEyNSwwLjk2ODc1IDcuOTM3NSwyNy43MTg3NSAxNC44NDM3NSwtMC45Njg3NSAxLDI3LjcxODc1IC0xOS44MTI1LDIuOTY4NzUgLTE3LjgzMzIzLDEwLjg4ODYxIC0wLjk3OTI3LDE5Ljc5ODg5IC0yMS43NjgyNiw0MS41OTYyMiAtMTYuODI2MTEsMzguNjE1NDEgLTIxLjgxMjUsLTExLjkwNjI1IC0zNC42MjUsLTMuOTM3NSAtMjQuNzgxMjUsNS45Mzc1IC03LjkwNjI1LC0yIC0yNC43NSwwIC0yNS43MzMyOSwtMC45ODM5MSAtMTUuMzEzNzgsMTMuODMyMDkgMTEuMzI4MzIsMTguODM5NjMgNDAuMTIzMjcsLTIuMjUwMjggMzIuODczMDIsMTguNTg4MTkgMTkuMTkxNzgsMjYuMjk1MzYgMjYuNjM0MDIsMjYuNjY3NDggLTMyLjM5MTk3LDcuOTI0MjIgLTI3LjAwMzE0LDguOTA1OTEgLTUxLjQ5NTY3LC0xLjk2OTY4IC0yOC43MTg3NSwtMjMuNzYzOTIgLTM4LjU5OTMxLC0yMS43NzE2NiAtMzMuNTAxOTcsMC44NDE0MSAtMTUuMDEyNTgsMTcuOTU5MDIgMjIuMDM5MDYsMTIuOTk4ODggMzEuNzI0MDUsMy4yMjA3MiAtMTIuNTk0MTUsMjAuMzE3NyAxLjQwMDk2LDIzLjg1NjI3IC0zNC42NjM4NiwyLjgzOTYzIC0zNC40ODM3MywtMTAuMDcyNDQgLTIxLjk0MDU5LDEzLjE2ODc1IC0yOS43MDIwMywtMTYuODE1ODkgLTMzLjUyNTEyLDQuNzg1MTcgLTE3Ljk1Mzg1LC0xNS42NzYyNiA2LjkyMzMsLTI0Ljc1MzQyIC02LjkzNzUsLTIyLjc4NTg4IDE4LjgyMTE3LC0zMS42NjEyIC02MC40MTA1OCwxNi44MzM4NSAtMTIuODc1LDguOTA2MjUgLTEzLjg0Mzc5LC0xMC45MDYyNSAtMi45Njg3NSwxNS44NDM3NSAtMTQuODQzNzUsNy45Mzc1IC0xMC45MDYyNSwtMiAtMTQuODQzNzUsMTUuODQzNzUgLTIyLjc4MTI1LDcuOTM3NSAtMTQuODQzNzUsNi45MDYyNSAtMTIuODc1LDE1Ljg0Mzc1IDI1Ljc1LDYuOTM3NSAyMi43NSwxMy44NzUgMCwxMC44NzUgMTQuODc1LDIgMi45Njg3NSwzMS42ODc1IDE0Ljg0Mzc1LC0xIC0yLjk2ODc1LC0xNy44MTI1IDIxLjc4MTI1LDAuOTY4NzUgMy45Njg3NSw2LjkzNzUgMC45Njg3NSwyMS43ODEyNSAtMC45Njg3NSwxNC44NDM3NSA4LjkwNjI1LDguOTA2MjUgMTguODEyNSwwIDMwLjY4NzUsLTE4LjgxMjUgMjUuNzUsNC45Njg3NSAxNC44NDM3NSwtNi45Mzc1IDIxLjc4MTI1LDguOTA2MjUgMjQuNzUsNC45Njg3NSAyMC43ODEyNSwtOC45Mzc1IDE0Ljg3NSwtMC45Njg3NSAwLjk2ODc1LDEyLjg3NSAyMS43ODEyNSwxMi44NzUgMSwtMjguNzE4NzUgOS45MDYyNSwwIDMuOTY4NzUsMTIuODc1IDE2LjgxMjUsNy45MDYyNSBjIDMzLjI3NDYzLC0xOC43MzI1MSAyNC40NzI1OCwtMTguODIwOTQgNTMuNDczNCwxNy44MjE0NyBsIDI2LjczOTQ4LC0yNC43NTU1NiAyNC43NDI1NywtMC45OTUxIDMuOTYwNzEsMjEuNzgyMTggMjIuNzcxMzUsMi45ODIzNiAxMi44ODg2MSwxOC44MDY2MiAxNi44MTcxNCwtMjAuNzkxMTUgMjEuNzczNTEsLTE1Ljg0MTU4IDE4LjgwODc5LC0yNy43MTY1OSAyMS44MTA5NSwtOS45MDkzNCAxNi44MjMzNCwtMTYuODI0NTcgMTMuODUwNTUsMTUuODUzMDMgOC45MjYwNSwyMC43ODc3NSAtMy45Njk2OCwyMS43ODY1MSAxNS44NTA1NiwxMi44Njk3NCAwLjk2ODc1LDIxLjc4MTI1IDUuOTM3NSw5LjkwNjI1IDIuOTg3LDIxLjc2NzY0IC0yMy43NTI0NywxLjk3MDkxIDE0Ljg0Nzc3LDE2Ljg0MTU5IDYuOTE3NywxOC43OTQ4NiAtMTEuODc1LDEyLjg3NSAtNDkuNSwyIC0xNy44NDM3NSwtMTAuOTA2MjUgMCwtMzEuNjg3NSAtMTMuODQzNzUsMCAtMTUuODQzNzUsMTMuODc1IC0yNy43MTg3NSw5LjkwNjI1IC00Ni41MzEyNSwyMi43NSAtNjUuMzQzNzUsMCAtMTQuODc1LC0xNi44MTI1IC0xNy44MTI1LDEgMCwyMy43NSAtMjguNzE4NzUsNi45Mzc1IC0yNi43MTg3NSwtOC45MDYyNSAzLjk1MjA0LC0yMy43NjU3OCAtMjguNzA2NjgsLTAuOTkwMSAtMjIuNzcyMjgsMTYuODI2MTIgLTM2LjYyOTMzLC0xMi44ODI3NCAtMTYuODQzNzUsLTE5Ljc4MTI1IC0xMy44NDM3NSwwIC0yMi43ODQ5NiwxMS44NjYwMyAxLjk5MTk1LDMwLjY4NDcxIC01My40NzA2LDcuOTM4NDMgLTE4LjgyNzY2LC0yMi43ODc0NCAtMzIuNjcwMTgsLTIyLjc1MzcxIC00Mi41Nzg1OSwtMTYuODMxNjggLTcuOTA2MjUsLTE0Ljg3NSAtMjIuNzgxMjUsLTkuODc1IC01LjkzNzUsLTExLjkwNjI1IC0yNi43MzAxOTUsLTQwLjU3OTUyIC0zLjk2ODc1LC0yOS43MTg3NSAtNDMuNTYyNSwtNC45Mzc1IEwgNDkuNSwzMTguODEyNSBsIC0xNC44NDM3NSwtMi45Njg3NSAwLC0xMS44NzUgMTkuODA0NzY1LC0yNi43NTI0OCAyOC43MjEyMjUsLTIuOTUyNjYgMi45NTYzNzQsLTMzLjY3Njk4IC0yMS43NzM4MjQsLTg1LjEyODQgMzkuNTkzNzUsLTE4LjgxMjUgMTQuODQzNzUsNC45Mzc1IDE4LjgxMjUsLTEwLjg3NSAxNC44NzUsMTMuODQzNzUgMTAuODc1LC0xOS44MTI1IDMwLjY4NzUsMiAxOS44MTI1LC0zLjk2ODc1IDYuOTM3NSwtMTkuODEyNSAyMC43ODEyNSwtNi45MDYyNSAzMi42ODc1LC0yMS43ODEyNSA0NS41MjA3MywxMS44NzU5MjggMjUuNzM5NDgsNDAuNTcyMDkyIDE5LjgxMjUsLTUuOTM3NSAyMy43NSw3LjkzNzUgTCA0MDAsMTE4LjgxMjUgNDMwLjY4NzUsMTEyLjg3NSA0NjUuMzQzNzUsOTcuMDMxMjUgNTAwLDc5LjIxODc1IGwgMjcuNzE4NzUsMC45Njg3NSAyMi43ODEyNSwxIDI5LjY4NzUsLTEyLjg3NSBMIDYwMSw1MS41IDYxNy44MjQ1Nyw3Ny4yMzE3NDUgNjQ1LjUzMTI1LDc4LjIxODc1IDY0OC41LDM4LjYyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0NTIuMzYyMTgpIgogICAgICAgaWQ9InBhdGgzNzgwIgogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgPC9nPgo8L3N2Zz4K
--></script>
<script
  class="download_content"
  name="timescale/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486428899571"
  
  
  type="hack"
><!--
# „Çπ„É≠„Éº„É¢„Éº„Ç∑„Éß„É≥


`engine.timing.timeScale` „Çí‰Ωø„ÅÜ„Å®„ÄÅ  
„Çπ„É≠„Éº„É¢„Éº„Ç∑„Éß„É≥„Å´„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çà


### engine.timing.timeScale = `scale`
ÊôÇÈñì„ÅÆÊµÅ„Çå„Çí `scale` ÂÄç„Å´„Åô„Çã


## ![ÊîπÈÄ†„Åô„Çã](timescale/main.js)


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)



--></script>
<script
  class="download_content"
  name="timescale/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Çπ„É≠„Éº„É¢„Éº„Ç∑„Éß„É≥</title>
		<link rel="stylesheet" href="style.css" />
		<script src="timescale/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="timescale/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;37f977fd379d042d3298bb09fd245059&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Body,
	Events,
	Composite,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


World.add(world, [
	// Â£Å„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// ÁîªÈù¢ÂÖ®‰Ωì„ÇíÁàÜÁô∫„Åï„Åõ„ÇãÔºÅ
const explosion = (engine) => {
	const bodies = Composite.allBodies(engine.world);

	for (const body of bodies) {
		if (!body.isStatic && body.position.y >= 500) {
			const forceMagnitude = 0.05 * body.mass;

			Body.applyForce(body, body.position, {
				x: (forceMagnitude + Common.random() * forceMagnitude) * Common.choose([1, -1]),
				y: -forceMagnitude + Common.random() * -forceMagnitude
			});
		}
	}
};

// ÈñãÂßã„Åó„Å¶„Åã„Çâ„ÄÅ„Å§„Å≠„Å´ 1 „Åö„Å§Â¢ó„Åà„Å¶„ÅÑ„ÅèÂ§âÊï∞
let counter = 0;

Events.on(engine, 'afterUpdate', (event) => {

	// ÈñãÂßã„Åó„Å¶„Åã„Çâ„ÄÅ„Å§„Å≠„Å´ 1 „Åö„Å§Â¢ó„Åà„Å¶„ÅÑ„ÅèÂ§âÊï∞
	counter += 1;

	if (counter % 100 === 0) {
		// 100 „Éï„É¨„Éº„É†„Å´‰∏ÄÂ∫¶„ÄÅÁàÜÁô∫„Çí„Åä„Åì„Åô
		explosion(engine);

	}

	// counter „Åå 0~99 „Å™„ÇâÈÄöÂ∏∏„Çπ„Éî„Éº„Éâ,
	// 100~199 „Å™„Çâ„Çπ„É≠„Éº„É¢„Éº„Ç∑„Éß„É≥... „ÇíÁπ∞„ÇäËøî„Åô
	const timeScaleTarget = counter % 200 < 100 ? 1 : 0.05;

	// Âæê„ÄÖ„Å´ timeScaleTarget „Å´Ëøë„Å•„Åë„Å¶„ÅÑ„Åè
	engine.timing.timeScale += (timeScaleTarget - engine.timing.timeScale) * 0.05;

});

const bodyOptions = {
	frictionAir: 0,
	friction: 0.0001,
	restitution: 0.8
};

// ÂÜÜ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
World.add(world, Composites.stack(20, 100, 15, 3, 20, 40, (x, y) => {
	return Bodies.circle(x, y, Common.random(10, 20), bodyOptions);
}));

// „Åù„ÅÆ‰ªñ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
World.add(world, Composites.stack(50, 50, 8, 3, 0, 0, (x, y) => {
	// „É©„É≥„ÉÄ„É†„ÅÆÁ¢∫Áéá
	const rate = Common.random(0, 1);
	if (rate < 0.1) {
		// 10% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30), bodyOptions);

	} else if (rate < 0.5) {
		// „ÅÆ„Åì„Çä 40% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(20, 50), Common.random(20, 50), bodyOptions);

	} else {
		// „ÅÆ„Åì„Çä„ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.polygon(x, y, Math.round(Common.random(4, 8)), Common.random(20, 50), bodyOptions);

	}

}));

// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('timescale/README.md');

--></script>
<script
  class="download_content"
  name="timescaleSimple/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486602818781"
  
  
  type="hack"
><!--
# ÊôÇÈñì„ÅÆÊó©„Åï

ÊôÇÈñì„ÅÆÈÄ≤„ÇÄÊó©„Åï„ÇíÂ§â„Åà„Å¶„Åø„Åü

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ÊîπÈÄ†„Åó„Å¶„Åø„Çã

![„Åì„Åì„Åã„ÇâÂßã„ÇÅ„Çã](timescaleSimple/main.js)

„ÇÇ„Å£„Å®ÊîπÈÄ†
![Ë®≠ÂÆö](timescaleSimple/setting.js)
![„Åã„Åπ„Éª„ÇÜ„Åã „Å™„Å©](timescaleSimple/stage.js)

- - -

## ÂøúÁî®‰æã

--></script>
<script
  class="download_content"
  name="timescaleSimple/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486558242533"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ÊôÇÈñì„ÅÆÊó©„Åï</title>
		<link rel="stylesheet" href="style.css" />
		<script src="timescaleSimple/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="timescaleSimple/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486602764796"
  
  
  type="hack"
><!--
import {
	World,
	
} from 'matter';

import {
	engine,
	world,
	render,
} from './setting.js';

// „Çø„Ç§„Éû„Éº 1
setTimeout(() => {
	// 2Áßí„Åü„Å£„Åü„Çâ„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	
	// ÊôÇÈñì„ÅÆÊó©„Åï„Çí 1/10 „Å´
	engine.timing.timeScale = 0.1;
	
	// ËÉåÊôØ„ÇíÈªí„Å´
	render.options.background = '#000000';
	
	
}, 2000);

// „Çø„Ç§„Éû„Éº 2
setTimeout(() => {
	// 5Áßí„Åü„Å£„Åü„Çâ„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
	
	// ÊôÇÈñì„ÅÆÊó©„Åï„Çí 2 ÂÄç„Å´
	engine.timing.timeScale = 2;
	
	// ËÉåÊôØ„ÇíÁôΩ„Å´
	render.options.background = '#ffffff';
	
	
}, 5000);




import './stage.js';

--></script>
<script
  class="download_content"
  name="timescaleSimple/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486602842436"
  
  
  type="hack"
><!--
import {
	Render,
	World,
	Runner,
	Mouse,
	MouseConstraint,
} from 'matter';

import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('timescaleSimple/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="timescaleSimple/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486602582654"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';
import {
	world,
} from './setting';


// Â£Å
World.add(world, [
	
	// Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 100, 60, 60, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 0.01,
		
	}),
	
	// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 100, 60, 60, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 0.5,
		
	}),
	
	// Âè≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(600, 100, 60, 60, {
		// „ÅØ„Å≠Ëøî„Çä„ÅÆÂ§ß„Åç„Åï
		restitution: 1,
		
	}),
	
	// Â§©‰∫ï„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
		
	}),
	// „ÇÜ„Åã„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
		angle: 0.1,
		
	}),
	// Âè≥„ÅÆ„Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
		
	}),
	// Â∑¶„ÅÆ„Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
		
	}),
]);

--></script>
<script
  class="download_content"
  name="views/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486428913086"
  
  
  type="hack"
><!--
# „Ç∫„Éº„É†„Å®„Çπ„ÇØ„É≠„Éº„É´


„Ç≤„Éº„É†„Åß„Çà„Åè„ÅÇ„Çã„ÄÅÁîªÈù¢„ÅÆ„Çπ„ÇØ„É≠„Éº„É´„Çí‰Ωú„Å£„Å¶„Åø„Åü„Çà  
`Bounds.translate` „Çí‰Ωø„ÅÜ„Å®„ÄÅÈ†òÂüü(„Çä„Çá„ÅÜ„ÅÑ„Åç)„ÇíÁßªÂãï„Åï„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çì„Å†

„Åì„Åì„Åß„ÅÑ„ÅÜÈ†òÂüü„Å®„ÅØ„ÄÅÁ´Ø„ÅåÂõõ„Å§„ÅÇ„Çã„ÇÇ„ÅÆ„ÅÆ„Åì„Å®„Å†„Çà„ÄÇ  
Ë¶ã„ÅüÁõÆ„ÅÆÁîªÈù¢„ÇÑ„ÄÅ„ÉØ„Éº„É´„Éâ„ÅÆÁîªÈù¢„Å™„Å©„ÇÇ„ÄÅÈ†òÂüü„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„Çì„Å†


## ![ÊîπÈÄ†„Åô„Çã](views/main.js)


### Bounds.translate(`bounds`, { x: `x`, y: `y` });
„Éë„É©„É°„Éº„Çø | ÊÑèÂë≥ | Âçò‰Ωç | ÊúÄÂ∞è | ÊúÄÂ§ß 
--- | --- | --- | --- | ---
bounds | ÁßªÂãï„Åó„Åü„ÅÑÈ†òÂüü |  |  | 
x | Âè≥„Å´ÁßªÂãï„Åô„ÇãÈáè | px | -Infinity | Infinity
y | ‰∏ã„Å´ÁßªÂãï„Åô„ÇãÈáè | px | -Infinity | Infinity


[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


--></script>
<script
  class="download_content"
  name="views/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„Ç∫„Éº„É†„Å®„Çπ„ÇØ„É≠„Éº„É´</title>
		<link rel="stylesheet" href="style.css" />
		<script src="views/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="views/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;894500237cce206d88380893ada19120&quot;}]"
  data-last-modified="0"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	Events,
	Composites,
	Common,
	MouseConstraint,
	Mouse,
	World,
	Vector,
	Bounds,
	Bodies,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.hasBounds = true;
render.options.showAngleIndicator = true;
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;

// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ
const stack = Composites.stack(20, 20, 15, 4, 0, 0, (x, y) => {
	// „É©„É≥„ÉÄ„É†„ÅÆÁ¢∫Áéá
	const rate = Common.random(0, 1);
	if (rate < 0.1) {
		// 10% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30));

	} else if (rate < 0.5) {
		// „ÅÆ„Åì„Çä 40% „ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		return Bodies.rectangle(x, y, Common.random(80, 120), Common.random(20, 30));

	} else {
		// „ÅÆ„Åì„Çä„ÅÆÁ¢∫Áéá„Åß„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã
		const _sides = Math.round(Common.random(1, 8));
		const sides = (_sides === 3) ? 4 : _sides;
		return Bodies.polygon(x, y, sides, Common.random(20, 50));

	}
});

World.add(world, [
	stack,
	// Â£Å„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true
	})
]);

// ÁîªÈù¢„ÅÆ‰∏≠ÂøÉ
const viewportCentre = {
	x: render.options.width * 0.5,
	y: render.options.height * 0.5
};

// „ÉØ„Éº„É´„Éâ„ÅÆÈ†òÂüü„ÇíÁîªÈù¢„Çà„ÇäÂ∞ë„ÅóÂ§ß„Åç„Å™„Çµ„Ç§„Ç∫„Å´„Åô„Çã
world.bounds.min.x = -300;
world.bounds.min.y = -300;
world.bounds.max.x = 1100;
world.bounds.max.y = 900;

// „ÅÑ„ÅæÁõÆÊåá„Åó„Å¶„ÅÑ„ÇãÊã°Â§ß„ÅÆÂÄçÁéá„ÅÆÂ§âÊï∞
let boundsScaleTarget = 1;
// ÁèæÂú®„ÅÆÊã°Â§ß„ÅÆÂÄçÁéá
const boundsScale = {
	x: 1,
	y: 1
};

Events.on(engine, 'beforeTick', function() {
	const mouse = mouseConstraint.mouse;

	// „Éû„Ç¶„Çπ„ÅÆ„Éõ„Ç§„Éº„É´„ÅßÂÄçÁéá„ÇíÂ§â„Åà„Çã
	const scaleFactor = mouse.wheelDelta * -0.1;
	if (scaleFactor !== 0) {
		if ((scaleFactor < 0 && boundsScale.x >= 0.6) || (scaleFactor > 0 && boundsScale.x <= 1.4)) {
			boundsScaleTarget += scaleFactor;
		}
	}

	if (Math.abs(boundsScale.x - boundsScaleTarget) > 0.01) {
		// Êã°Â§ß„ÅÆÂÄçÁéá„ÅåÂ§â„Çè„Å£„Å¶„ÅÑ„Åü„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

		// Â§âÂåñ„Åå„Å™„Å†„Çâ„Åã„Å´„Å™„Çã„Çà„ÅÜ„Å´Â∞ë„Åó„Å†„Åë„ÇíÊàª„Åô
		const scaleFactor = (boundsScaleTarget - boundsScale.x) * 0.2;
		boundsScale.x += scaleFactor;
		boundsScale.y += scaleFactor;

		// ÊèèÁîª„Åô„ÇãÈ†òÂüü„ÇíÊã°Â§ß„Åô„Çã
		render.bounds.max.x = render.bounds.min.x + render.options.width * boundsScale.x;
		render.bounds.max.y = render.bounds.min.y + render.options.height * boundsScale.y;

		// „Ç∫„Éº„É†„Å´„Çà„Å£„Å¶ÁîªÈù¢„ÅÆ‰∏≠ÂøÉ„ÅåÂ∞ë„Åó„Åö„Çå„Çã„ÅÆ„Åß„ÄÅ„Åù„Çå„Çí„Å™„Åä„Åô
		const translate = {
			x: render.options.width * scaleFactor * -0.5,
			y: render.options.height * scaleFactor * -0.5
		};
		Bounds.translate(render.bounds, translate);

		// „Éû„Ç¶„Çπ„Åå„Ç∫„Éº„É†„ÅÆÂΩ±Èüø„ÇíÂèó„Åë„Å™„ÅÑ„Çà„ÅÜ„Å´Ë£úÊ≠£„Åô„Çã
		Mouse.setScale(mouse, boundsScale);
		Mouse.setOffset(mouse, render.bounds.min);

	}

	// ÁîªÈù¢„ÅÆ‰∏≠ÂøÉ„Åã„Çâ„Éû„Ç¶„Çπ„Åæ„Åß„ÅÆ„Éô„ÇØ„Éà„É´
	const deltaCentre = Vector.sub(mouse.absolute, viewportCentre);
	// ÁîªÈù¢„ÅÆ‰∏≠ÂøÉ„Åã„Çâ„Éû„Ç¶„Çπ„Åæ„Åß„ÅÆË∑ùÈõ¢
	const centreDist = Vector.magnitude(deltaCentre);

	if (centreDist > 50) {
		// ÁîªÈù¢„ÅÆ‰∏≠ÂøÉ„Åã„Çâ„Éû„Ç¶„Çπ„Åæ„Åß„ÅÆË∑ùÈõ¢„Åå 50px „ÇíË∂Ö„Åà„Å¶„ÅÑ„Çã„Å®„Åç„ÄÅ„Åì„Åì„Å´ÂÖ•„Çã

		// ÁîªÈù¢„ÅÆ‰∏≠ÂøÉ„Åã„Çâ„Éû„Ç¶„Çπ„Å´Âêë„Åã„ÅÜÊñπÂêë„ÅÆ„Éô„ÇØ„Éà„É´
		const direction = Vector.normalise(deltaCentre);
		// „Å°„Çá„ÅÜ„Å©„ÅÑ„ÅÑÊÑü„Åò„ÅÆ„ÅÜ„Åî„ÅèË∑ùÈõ¢
		const speed = Math.min(10, Math.pow(centreDist - 50, 2) * 0.0002);
		// ÁîªÈù¢„ÅÆ‰∏≠ÂøÉ„Åã„Çâ„Éû„Ç¶„Çπ„Å´Âêë„Åã„ÅÜ„Å°„Çá„ÅÜ„Å©„ÅÑ„ÅÑÊÑü„Åò„ÅÆÈï∑„Åï„ÅÆ„Éô„ÇØ„Éà„É´
		const translate = Vector.mult(direction, speed);

		// ÊèèÁîª„Åô„ÇãÈ†òÂüü„Åå„ÄÅ„ÉØ„Éº„É´„Éâ„ÅÆÈ†òÂüü„Åã„Çâ„ÅØ„ÅøÂá∫„Åï„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã
		if (render.bounds.min.x + translate.x < world.bounds.min.x) {
			translate.x = world.bounds.min.x - render.bounds.min.x;
		}
		if (render.bounds.max.x + translate.x > world.bounds.max.x) {
			translate.x = world.bounds.max.x - render.bounds.max.x;
		}
		if (render.bounds.min.y + translate.y < world.bounds.min.y) {
			translate.y = world.bounds.min.y - render.bounds.min.y;
		}
		if (render.bounds.max.y + translate.y > world.bounds.max.y) {
			translate.y = world.bounds.max.y - render.bounds.max.y;
		}
		// „Çπ„ÇØ„É≠„Éº„É´„Åô„Çã„ÄÇ„Å§„Åæ„Çä„ÄÅÊèèÁîª„Åô„ÇãÈ†òÂüü„ÇíÂ∞ë„ÅóÁßªÂãï„Åô„Çã
		Bounds.translate(render.bounds, translate);

		// „Éû„Ç¶„Çπ„Åå„Çπ„ÇØ„É≠„Éº„É´„ÅÆÂΩ±Èüø„ÇíÂèó„Åë„Å™„ÅÑ„Çà„ÅÜ„Å´Ë£úÊ≠£„Åô„Çã
		Mouse.setOffset(mouse, render.bounds.min);

	}
});


feeles.openReadme('views/README.md');

--></script>
<script
  class="download_content"
  name="wreckingBall/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486699403577"
  
  
  type="hack"
><!--
# „É¢„É≥„Ç±„Éº„É≥

„É¢„É≥„Ç±„Éº„É≥„Å®„ÅØ„ÄÅÂª∫Áâ©„ÇíËß£‰Ωì„Åô„Çã„Å™„Å©„ÅÆÁõÆÁöÑ„Å´‰Ωø„Çè„Çå„Çå„Çã  
„ÇØ„É¨„Éº„É≥„ÅßÂêä„Çä‰∏ä„Åí„Çâ„Çå„ÅüÂ∑®Â§ß„Å™Èáç„ÅÑÁêÉ„ÅÆ„Åì„Å®

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## „Å©„ÅÜ„ÇÑ„Å£„Å¶‰Ωú„Å£„Å¶„Çã„ÅÆÔºü

„Åì„Çå„Çâ„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶„ÅÑ„Çã„Çà  
> „ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Å®„Çµ„É≥„Éó„É´„Å´ÁßªÂãï„Åó„Åæ„Åô

Èáç„Åï„ÇíÂ§â„Åà„Çã„Å´„ÅØ‚Ä¶[„Åä„ÇÇ„Åï](density/index.html)  
Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ„ÇíÂ§â„Åà„Çã„Å´„ÅØ‚Ä¶[Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ](airFriction/index.html)  
ÊåØ„ÇäÂ≠ê„Çí‰Ωú„Çã„Å´„ÅØ‚Ä¶[„Éê„Éç](constraint/index.html)  
Â±±„Çí‰Ωú„Çã„Å´„ÅØ‚Ä¶[„Çπ„Çø„ÉÉ„ÇØ](stack/index.html)  

## ÊîπÈÄ†„Å´ÊåëÊà¶„Åó„Å¶„Åø„Çã

![Èáç„ÅÑÁêÉ](wreckingBall/main.js)  
![„Çπ„ÉÜ„Éº„Ç∏](wreckingBall/stage.js)  
![Ë®≠ÂÆö](wreckingBall/setting.js)

--></script>
<script
  class="download_content"
  name="wreckingBall/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="0"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>„É¢„É≥„Ç±„Éº„É≥</title>
		<link rel="stylesheet" href="style.css" />
		<script src="wreckingBall/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="wreckingBall/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;d082a017d0fb8383274c59d4bb00cea2&quot;}]"
  data-last-modified="1486692854900"
  
  
  type="hack"
><!--
import {
	World,
	Constraint,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// Èáç„ÅÑÁêÉ
const ball1 = Bodies.circle(100, 400, 50, {
	// „Åä„ÇÇ„Åï
	density: 0.04,
	// Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ
	frictionAir: 0.005,
	
});

// Èáç„ÅÑÁêÉ„Å®Á©∫‰∏≠„ÅÆ„ÅÇ„ÇãÁÇπ„Çí„Å§„Å™„Åê
const joint1 = Constraint.create({
	// Âõ∫ÂÆö„Åó„Åü„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	bodyA: ball1,
	// Âõ∫ÂÆö„Åó„Åü„ÅÑÁÇπ
	pointB: {
		x: 300,
		y: 100
	},
	// „Éê„Éç„ÅÆÂº∑„Åï
	stiffness: 1.0,
	
});

World.add(world, [
	// Èáç„ÅÑÁêÉ
	ball1,
	// „Ç∏„Éß„Ç§„É≥„Éà
	joint1,
	
]);




import './stage';

--></script>
<script
  class="download_content"
  name="wreckingBall/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486693021297"
  
  
  type="hack"
><!--
import {
	Engine,
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
render.options.showAngleIndicator = true;
render.options.background = '#202020';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('wreckingBall/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="wreckingBall/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486692241621"
  
  
  type="hack"
><!--
import {
	Composites,
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	// „Çπ„Çø„ÉÉ„ÇØ
	Composites.stack(400, 179, 5, 10, 0, 0, (x, y) => {
		return Bodies.rectangle(x, y, 40, 40);
	}),
	
	// Â£Å„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="free/index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1486728221018"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>.Ëá™Áî±„Ç≥„Éº„Éä„Éº</title>
		<link rel="stylesheet" href="style.css" />
		<script src="free/main.js"></script>
	</head>
	<body>
	</body>
</html>
--></script>
<script
  class="download_content"
  name="free/README.md"
  data-type="text/x-markdown"
  data-credits="[]"
  data-last-modified="1486728232045"
  
  
  type="hack"
><!--
# Ëá™Áî±„Ç≥„Éº„Éä„Éº

„Åì„Åì„Åß„ÅØÂêõ„ÅÆ‰Ωú„Çä„Åü„ÅÑ„ÇÇ„ÅÆ„Çí„Çº„É≠„Åã„Çâ‰Ωú„ÇäÂßã„ÇÅ„Çã„Åì„Å®„Åå„Åß„Åç„Çã„Çà  
ÊÄù„ÅÜÂ≠òÂàÜ„ÄÅÁ†îÁ©∂„ÇíÊ•Ω„Åó„ÇÇ„ÅÜÔºÅÔºÅ

[„É°„Éã„É•„Éº„Å´Êàª„Çã](index.html)


## ‰Ωú„Çã

![„É°„Ç§„É≥„Éó„É≠„Ç∞„É©„É†](free/main.js)  
![„Åã„Åπ„Éª„ÇÜ„Åã](free/stage.js)  
![Ë®≠ÂÆö](free/setting.js)  

--></script>
<script
  class="download_content"
  name="free/stage.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486728351881"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';

World.add(world, [
	// „Åã„Åπ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 0, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(400, 600, 800, 50, {
		isStatic: true,
	}),
	Bodies.rectangle(800, 300, 50, 600, {
		isStatic: true,
	}),
	Bodies.rectangle(0, 300, 50, 600, {
		isStatic: true,
	}),
	
]);

--></script>
<script
  class="download_content"
  name="free/setting.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486728490702"
  
  
  type="hack"
><!--
import {
	Render,
	Runner,
	MouseConstraint,
	Mouse,
	World,
} from 'matter';


import engine from 'engine';
const world = engine.world;

import render from 'render';
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);


// „Éû„Ç¶„ÇπÊìç‰Ωú
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
	mouse: mouse,
	constraint: {
		stiffness: 0.2,
		render: {
			visible: false
		}
	}
});

World.add(world, mouseConstraint);

// keep the mouse in sync with rendering
render.mouse = mouse;


feeles.openReadme('free/README.md');


export {
	engine,
	world,
	render,
};

--></script>
<script
  class="download_content"
  name="snippets/object.json"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="1486728661223"
  
  
  type="hack"
><!--
{
	".source.js": {
		"rectangle": {
			"prefix": "rectangle",
			"leftLabel": "„É¨„ÇØ„Çø„É≥„Ç∞„É´",
			"description": "ÂõõËßíÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÄÇ‰∏≠ÂøÉ„ÅÆ‰ΩçÁΩÆ„Å®Â§ß„Åç„Åï„ÇíÊåáÂÆö„Åß„Åç„Çã",
			"body": `
Bodies.rectangle(140, 0, 80, 80),`			
		},
		"wall": {
			"prefix": "floor",
			"leftLabel": "„Éï„É≠„Ç¢",
			"description": "Âõ∫ÂÆö„Åï„Çå„ÅüÂõõËßíÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÄÇÂ∫ä„ÇÑÂ£Å„Å´„Å™„Çã",
			"body": `
Bodies.rectangle(400, 600, 400, 40, {
	isStatic: true,

}),`
		},
		"slope": {
			"prefix": "slope",
			"leftLabel": "„Çπ„É≠„Éº„Éó",
			"description": "Â∞ë„Åó„Åã„Åü„ÇÄ„ÅÑ„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÄÇ„Éú„Éº„É´„Å™„Å©„ÇíÁΩÆ„Åè„Å®Ëª¢„Åå„Çã",
			"body": `
Bodies.rectangle(400, 600, 400, 40, {
	isStatic: true,
	angle: 0.15,

}),`
		},
		"circle": {
			"prefix": "circle",
			"leftLabel": "„Çµ„Éº„ÇØ„É´",
			"description": "ÂÜÜ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÄÇ‰∏≠ÂøÉ„ÅÆ‰ΩçÁΩÆ„Å®ÂçäÂæÑ„ÇíÊåáÂÆö„Åß„Åç„Çã",
			"body": `
Bodies.circle(240, 0, 40)),`
		},
		"ball": {
			"prefix": "ball",
			"leftLabel": "„Éú„Éº„É´",
			"description": "Ë∑≥„Å≠Ëøî„Çä‰øÇÊï∞„Çí 1 „Å´„Åó„Åü„ÄÅÂÜÜ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÄÇ„Å®„Å¶„ÇÇË∑≥„Å≠„Çã",
			"body": `
Bodies.circle(240, 0, 40, {
	restitution: 1,

}),`
		},
		"redball": {
			"prefix": "colorball",
			"leftLabel": "„Ç´„É©„Éº„Éú„Éº„É´",
			"description": "Ëµ§Ëâ≤„ÅÆ„Éú„Éº„É´",
			"body": `
Bodies.circle(240, 0, 40, {
	restitution: 1,
	render: {
		fillStyle: 'red',
		lineWidth: 10,
		strokeStyle: 'black',
	},

}),`
		}
	}
}







--></script>
<script
  class="download_content"
  name="free/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486728684811"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
	
} from 'matter';

import {
	world,
} from './setting';


World.add(world, [
	
	// „Åì„Åì„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíËøΩÂä†„Åô„Çã
	
	
	
	
	
	
	
	
	
	
]);



import './stage';

--></script>
<script
  class="download_content"
  name="rectangle/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486728748521"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting.js';

World.add(world, [
	
	// Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(150, 500, 100, 200),
	
	// ‰∏≠„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(400, 400, 100, 300),
	
	// Âè≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(500, 100, 400, 100),
	
]);


import './stage.js';

--></script>
<script
  class="download_content"
  name="angle/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486728788749"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting.js';

World.add(world, [
	
	// Â∑¶„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(200, 500, 10, 500, {
		// „Åã„Åü„ÇÄ„Åç
		angle: 0.2,
		
	}),
	
	// Âè≥„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	Bodies.rectangle(350, 450, 10, 700, {
		// „Åã„Åü„ÇÄ„Åç
		angle: 2.36,
		
	}),
	
]);


import './stage.js';

--></script>
<script
  class="download_content"
  name="gravity/main.js"
  data-type="text/javascript"
  data-credits="[{&quot;label&quot;:&quot;Copyright (c) 2014 Liam Brummitt&quot;,&quot;url&quot;:&quot;http://brm.io/matter-js/&quot;,&quot;timestamp&quot;:1485562830830,&quot;hash&quot;:&quot;1e9632886ce4de646517fc132779e900&quot;}]"
  data-last-modified="1486728872782"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
} from 'matter';

import {
	world,
} from './setting';


// ÈáçÂäõ
world.gravity.x = 0;
world.gravity.y = -1;











import './stage';
import './stack';

--></script>
<script
  class="download_content"
  name="constraint/main.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1486728926231"
  
  
  type="hack"
><!--
import {
	World,
	Bodies,
	Constraint,
} from 'matter';

import {
	world,
} from './setting';


// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Å§„Åè„Çã
const square1 = Bodies.rectangle(200, 100, 100, 100);

// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁ©∫‰∏≠„Å´Âõ∫ÂÆö„Åô„Çã„Éê„Éç
const spring1 = Constraint.create({
	// Âõ∫ÂÆö„Åô„Çã„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	bodyA: square1,
	// Âõ∫ÂÆö„Åô„Çã‰ΩçÁΩÆ
	pointB: {„ÄÄ„ÄÄ
		x: 400,
		y: 100,
	},
	// „Éê„Éç„ÅÆÂº∑„Åï
	stiffness: 0.001,
});

World.add(world, [
	// „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
	square1,
	// „Éê„Éç
	spring1,
	
]);




--></script>
<script
  class="download_content"
  name="render.js"
  data-type="text/javascript"
  data-credits="[]"
  data-last-modified="1487249599540"
  
  
  type="hack"
><!--
import {
	Render,
} from 'matter';


import engine from 'engine';

const options = {
	width: 800,
	height: 600,
	// ËÉåÊôØËâ≤
	background: '#fafafa',
	hasBounds: false,
	enabled: true,
	// „É¢„Éé„ÇØ„É≠Âåñ (È´òÈÄü„Å´„Å™„Çã)
	wireframes: false,
	wireframeBackground: '#222',
	showSleeping: false,
	showDebug: false,
	showBroadphase: false,
	showBounds: false,
	// ÈÄüÂ∫¶„ÅÆÂèØË¶ñÂåñ
	showVelocity: false,
	// „Åó„Çá„ÅÜÁ™Å„ÅÆÂèØË¶ñÂåñ
	showCollisions: false,
	// ÂàÜÈõ¢„ÅÆÂèØË¶ñÂåñ
	showSeparations: false,
	// Ëª∏„ÅÆÂèØË¶ñÂåñ
	showAxes: false,
	// ‰ΩçÁΩÆ„ÅÆÂèØË¶ñÂåñ
	showPositions: false,
	// ËßíÂ∫¶„ÅÆÂèØË¶ñÂåñ
	showAngleIndicator: false,
	// ID „ÅÆÂèØË¶ñÂåñ
	showIds: false,
	showShadows: false,
	showVertexNumbers: false,
	showConvexHulls: false,
	showInternalEdges: false,
	showMousePosition: false,
	// „Éî„ÇØ„Çª„É´ÂÄçÁéá
	pixelRatio: 1,
};

// create a renderer
export default Render.create({
	element: document.body,
	engine,
	options,
});

export const createRender = (opt) => Render.create({
	element: document.body,
	engine,
	options: {...options, ...opt},
});


--></script>
<script
  class="download_content"
  name="index.html"
  data-type="text/html"
  data-credits="[]"
  data-last-modified="1487249605210"
  
  
  type="hack"
><!--
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>.„É°„Éã„É•„Éº</title>
		<style>
			html { 
				background-color: #FFFFFF; 
			}
			a.btn {
				display: inline-block;
				background-color: #3399FF;
				color: #FFFFFF;
				text-decoration: none;
				margin: 4px;
				padding: 4px;
				border-radius: 2px;
				white-space: nowrap;
				transform: rotate(-4deg);
			}
		</style>
		<script type="text/javascript" src="main.js"></script>
	</head>
	<body>
		<h2>Menu</h2>
		<h3>Âãï„Åè„Ç≥„É≥„ÉÜ„É≥„ÉÑüéÆ</h3>
		<a class="btn" href="slingshot/index.html">„Çπ„É™„É≥„Ç∞„Ç∑„Éß„ÉÉ„Éà</a>
		<a class="btn" href="coins/index.html">„Ç≥„Ç§„É≥„Ç≤„Éº„É†</a>
		<a class="btn" href="wreckingBall/index.html">„É¢„É≥„Ç±„Éº„É≥</a>
		<a class="btn" href="bridge/index.html">„Éñ„É™„ÉÉ„Ç∏</a>
--><!-- 		<a class="btn" href="ballPool/index.html">„Éú„Éº„É´„Éó„Éº„É´</a> --><!--
		<a class="btn" href="catapult/index.html">Áô∫Â∞ÑÂè∞</a>
--><!-- 		<a class="btn" href="cloth/index.html">Â∏É</a> --><!--
		<a class="btn" href="chains/index.html">„É≠„Éº„Éó</a>
--><!-- 		<a class="btn" href="avalanche/index.html">ÂùÇÈÅì</a> --><!--
--><!-- 		<a class="btn" href="sprites/index.html">„Éì„Éº„ÉÅ„Éú„Éº„É´„Å®Êú®„ÅÆÁÆ±</a> --><!--
--><!-- 		<a class="btn" href="mixed/index.html">„Éü„ÉÉ„ÇØ„Çπ</a> --><!--
--><!-- 		<a class="btn" href="timescale/index.html">„Çπ„É≠„Éº„É¢„Éº„Ç∑„Éß„É≥</a> --><!--
--><!-- 		<a class="btn" href="staticFriction/index.html">ÈùôÊ≠¢„Åæ„Åï„Å§Âäõ</a> --><!--
		<a class="btn" href="free/index.html">Ëá™Áî±„Ç≥„Éº„Éä„Éº</a>
		<h3>„Åç„Åª„Çì„ÅÆ„Éë„É©„É°„Éº„Çøüî∞</h3>
		<a class="btn" href="rectangle/index.html">‰ΩçÁΩÆ„Å®Â§ß„Åç„Åï</a>
		<a class="btn" href="isStatic/index.html">„Åã„Åπ„Éª„ÇÜ„Åã</a>
		<a class="btn" href="angle/index.html">„Åã„Åü„ÇÄ„Åç</a>
		<a class="btn" href="density/index.html">Èáç„Åï</a>
		<a class="btn" href="restitution/index.html">„ÅØ„Å≠Ëøî„Çä</a>
		<a class="btn" href="airFriction/index.html">Á©∫Ê∞ó„Å¶„ÅÑ„Åì„ÅÜ</a>
		<a class="btn" href="friction/index.html">„Åæ„Åï„Å§Âäõ</a>
		<a class="btn" href="render/index.html">Ëâ≤</a>
		<a class="btn" href="chamfer/index.html">Ëßí‰∏∏ 1</a>
		<a class="btn" href="rounded/index.html">Ëßí‰∏∏ 2</a>
		<a class="btn" href="timescaleSimple/index.html">ÊôÇÈñì„ÅÆÊó©„Åï</a>
		<a class="btn" href="gravity/index.html">ÈáçÂäõ</a>
		<h3>„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Çã‚ö°Ô∏è</h3>
		<a class="btn" href="stack/index.html">„Çπ„Çø„ÉÉ„ÇØ</a>
		<a class="btn" href="circleStack/index.html">ÂÜÜ„ÅÆ„Çπ„Çø„ÉÉ„ÇØ</a>
		<a class="btn" href="constraint/index.html">„Éê„Éç</a>
		<a class="btn" href="softBody/index.html">„ÇΩ„Éï„Éà„Éú„Éá„Ç£</a>
		<a class="btn" href="pyramid/index.html">„Éî„É©„Éü„ÉÉ„Éâ</a>
		<a class="btn" href="car/index.html">Ëªä</a>
		<a class="btn" href="newtonsCradle/index.html">„Éã„É•„Éº„Éà„É≥„ÅÆ„ÇÜ„Çä„Åã„Åî</a>
		<a class="btn" href="compound/index.html">„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂêàÊàê</a>
		<a class="btn" href="compoundStack/index.html">ÂêàÊàê„Åó„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ„Çπ„Çø„ÉÉ„ÇØ</a>
		<h3>„Éè„Ç§„É¨„Éô„É´üíã</h3>
		<a class="btn" href="events/index.html">„Ç§„Éô„É≥„Éà</a>
		<a class="btn" href="sensors/index.html">„Çª„É≥„Çµ„Éº</a>
		<a class="btn" href="manipulation/index.html">„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÁõ¥Êé•Êìç‰Ωú„Åô„Çã</a>
		<a class="btn" href="compositeManipulation/index.html">„Çπ„Çø„ÉÉ„ÇØÂÖ®‰Ωì„ÅÆÊìç‰Ωú</a>
		<a class="btn" href="collisionFiltering/index.html">„Ç´„ÉÜ„Ç¥„É™„Éº„Åî„Å®„ÅÆ„Åó„Çá„ÅÜÁ™Å</a>
		<a class="btn" href="concave/index.html">Â•Ω„Åç„Å™ÂΩ¢„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà</a>
		<a class="btn" href="raycasting/index.html">Á∑öÂàÜ„Å®„ÅÆ„Åó„Çá„ÅÜ„Å®„Å§</a>
		<a class="btn" href="views/index.html">„Ç∫„Éº„É†„Å®„Çπ„ÇØ„É≠„Éº„É´</a>
		<a class="btn" href="attractors/index.html">‰∏áÊúâÂºïÂäõ</a>
		<h3>„Ç≥„É©„É†üé§</h3>
		<a class="btn" href="broadphase/index.html">„Éñ„É≠„Éº„Éâ„Éï„Çß„Éº„Ç∫</a>
		<a class="btn" href="sleeping/index.html">„Çπ„É™„Éº„Éó„É¢„Éº„Éâ</a>
		<a class="btn" href="svg/index.html">„Éô„ÇØ„ÇøÁîªÂÉè</a>
		<a class="btn" href="terrain/index.html">Âú∞ÂΩ¢</a>
		<a class="btn" href="gyro/index.html">„Ç∏„É£„Ç§„É≠„Çª„É≥„Çµ„Éº</a>
		<a class="btn" href="stress/index.html">ÂúßÂäõ 1</a>
		<a class="btn" href="stress2/index.html">ÂúßÂäõ 2</a>
		<hr>
		„Åì„Çå„Çâ„ÅÆ„Çµ„É≥„Éó„É´„ÅØ Liam Brummitt Ê∞è„ÅÆ
		<a class="btn" href="http://brm.io/matter-js/demo/">Âéü‰Ωú</a>
		„Çí„ÇÇ„Å®„Å´ÊîπÂ§â„Åó„Åü„ÇÇ„ÅÆ„Åß„Åô
	</body>
</html>
--></script>
<script
  class="download_content"
  name="style.css"
  data-type="text/css"
  data-credits="[]"
  data-last-modified="1487249627955"
  
  
  type="hack"
><!--
html,
body {
	/* „É°„Éã„É•„ÉºÁîªÈù¢„ÅÆËÉåÊôØËâ≤ */
	background-color: white;
	margin: 0px;
	padding: 0px;
}
--></script>
<script
  class="download_content"
  name="feeles/card.json"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="1487305749239"
  
  
  type="hack"
><!--
{
    "MonitorCard": {
        "visible": true,
        "order": 0,
        "frame": {
            "src": "index.html",
            "size": [
                800,
                600
            ]
        }
    },
    "ShotCard": {
        "visible": false,
        "order": 1,
        "init": {
            "fileName": "main.js"
        }
    },
    "EditorCard": {
        "visible": false,
        "order": 2
    },
    "MediaCard": {
        "visible": false,
        "order": 3
    },
    "CreditsCard": {
        "visible": false,
        "order": 4
    },
    "ReadmeCard": {
        "visible": true,
        "order": 5,
        "init": {
            "fileName": "README.md"
        }
    },
    "PaletteCard": {
        "visible": false,
        "order": 6
    },
    "SnippetCard": {
        "visible": false,
        "order": 7
    },
    "EnvCard": {
        "visible": false,
        "order": 8
    },
    "HierarchyCard": {
        "visible": false,
        "order": 9
    },
    "CustomizeCard": {
        "visible": false,
        "order": 10
    }
}
--></script>
<script
  class="download_content"
  name=".provider"
  data-type="application/json"
  data-credits="[]"
  data-last-modified="1487305761068"
  
  
  type="hack"
><!--
{
    "publishUrl": "https://hackit-feeles.azurewebsites.net/deployments/93"
}
--></script>


  </body>
</html>
